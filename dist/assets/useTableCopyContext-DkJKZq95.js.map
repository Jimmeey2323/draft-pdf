{"version":3,"file":"useTableCopyContext-DkJKZq95.js","sources":["../../src/hooks/useTableCopyContext.ts"],"sourcesContent":["import { useGlobalFilters } from '@/contexts/GlobalFiltersContext';\n\ninterface TableCopyContextOptions {\n  selectedMetric?: string;\n  additionalInfo?: Record<string, any>;\n  includeFilters?: boolean;\n}\n\n/**\n * Hook to provide comprehensive context information for table copying functionality.\n * This automatically includes date range and filters from GlobalFiltersContext.\n */\nexport const useTableCopyContext = (options: TableCopyContextOptions = {}) => {\n  const { filters } = useGlobalFilters();\n  \n  const getCopyContext = () => {\n    const context: any = {};\n    \n    // Add selected metric if provided\n    if (options.selectedMetric) {\n      context.selectedMetric = options.selectedMetric;\n    }\n    \n    // Add date range from global filters\n    if (filters?.dateRange) {\n      context.dateRange = filters.dateRange;\n    }\n    \n    // Add filters if requested\n    if (options.includeFilters !== false) { // Default to true\n      const activeFilters: Record<string, any> = {};\n      \n      // Only include non-empty filters\n      Object.entries(filters || {}).forEach(([key, value]) => {\n        if (key === 'dateRange') return; // Already handled above\n        \n        if (Array.isArray(value) && value.length > 0) {\n          activeFilters[key] = value;\n        } else if (typeof value === 'string' && value !== '' && value !== 'All') {\n          activeFilters[key] = value;\n        } else if (typeof value === 'number' && value > 0) {\n          activeFilters[key] = value;\n        }\n      });\n      \n      if (Object.keys(activeFilters).length > 0) {\n        context.filters = activeFilters;\n      }\n    }\n    \n    // Add any additional custom information\n    if (options.additionalInfo) {\n      context.additionalInfo = options.additionalInfo;\n    }\n    \n    return context;\n  };\n  \n  return {\n    getCopyContext,\n    contextInfo: getCopyContext()\n  };\n};\n\nexport default useTableCopyContext;"],"names":["useTableCopyContext","options","filters","useGlobalFilters","getCopyContext","context","activeFilters","key","value"],"mappings":"wCAYO,MAAMA,EAAsB,CAACC,EAAmC,KAAO,CAC5E,KAAM,CAAE,QAAAC,CAAA,EAAYC,EAAA,EAEdC,EAAiB,IAAM,CAC3B,MAAMC,EAAe,CAAA,EAarB,GAVIJ,EAAQ,iBACVI,EAAQ,eAAiBJ,EAAQ,gBAI/BC,GAAS,YACXG,EAAQ,UAAYH,EAAQ,WAI1BD,EAAQ,iBAAmB,GAAO,CACpC,MAAMK,EAAqC,CAAA,EAG3C,OAAO,QAAQJ,GAAW,CAAA,CAAE,EAAE,QAAQ,CAAC,CAACK,EAAKC,CAAK,IAAM,CAClDD,IAAQ,cAER,MAAM,QAAQC,CAAK,GAAKA,EAAM,OAAS,GAEhC,OAAOA,GAAU,UAAYA,IAAU,IAAMA,IAAU,OAEvD,OAAOA,GAAU,UAAYA,EAAQ,KAC9CF,EAAcC,CAAG,EAAIC,EAEzB,CAAC,EAEG,OAAO,KAAKF,CAAa,EAAE,OAAS,IACtCD,EAAQ,QAAUC,EAEtB,CAGA,OAAIL,EAAQ,iBACVI,EAAQ,eAAiBJ,EAAQ,gBAG5BI,CACT,EAEA,MAAO,CACL,eAAAD,EACA,YAAaA,EAAA,CAAe,CAEhC"}