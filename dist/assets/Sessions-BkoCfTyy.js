import{i as Me,r as J,j as b,C as Ne,a as Pe,b as Ie,c as ke,A as Yt,B as he,T as lt,E as Ae,F as Se,I as Te,K as Et,M as nt,O as Qt,h as ge,N as Xt,U as $t,f as rt,V as we,z as Jt,W as en,u as tn,R as st,H as nn,d as rn}from"./index-Bm67KBkU.js";import{B as pe,f as Ve,g as kt,I as on,u as an,R as ln,a as qe,e as sn}from"./index-DkD_C-d1.js";import{u as jt}from"./useSessionsData-CuS9CUZY.js";import{T as At,C as un}from"./googleAuth-BGo8ElRc.js";import{R as ut,a as ct,X as ft,Y as dt,T as ht,L as pt,B as cn,b as vt,w as fn}from"./BarChart-o5Oeg9Jb.js";import{L as dn,a as Ye}from"./LineChart-BWKGpJsm.js";import{S as hn,a as pn}from"./SessionsGroupedTable-xgFSi6NQ.js";import{T as vn,a as yn,b as yt,c as be,d as mn,e as xe}from"./table-DhXofKdS.js";import{C as gn,a as bn,b as xn}from"./collapsible-bGJQ2Wb9.js";import{D as St,a as Tt,b as Pt,c as Lt}from"./dropdown-menu-B9zQ9u84.js";import{A as _n}from"./award-D0x2LQSI.js";import{C as De,a as et}from"./chevron-right-CbIMR3DA.js";import{T as it}from"./target-BmxdxojS.js";import{S as On}from"./star-qy423-d6.js";import{C as Nn}from"./clock-BP1BFskn.js";import{M as Rt,S as wn}from"./StudioLocationTabs-BSKYatd_.js";import{U as Ct}from"./users-7Ku-1TDB.js";import{T as En}from"./trending-down-B5K1omnR.js";import{P as kn}from"./percent-BAS2Szsf.js";import{D as jn}from"./dollar-sign-CKqx8kbC.js";import{d as Re}from"./designTokens-CW6vZXXA.js";import{SourceDataModal as An}from"./SourceDataModal-bAltj-zl.js";import{a as Sn,S as Tn}from"./useFilteredSessionsData-DTLVtyFE.js";import{S as Pn}from"./SessionsFilterSection-BUfF1kUV.js";import{A as Ln}from"./AdvancedExportButton-kiFhlv4f.js";import{B as Qe}from"./BrandSpinner-CGFi2e0U.js";import _e from"./purify.es-3aUZrT_R.js";import{F as He}from"./file-text-DChZNHsM.js";import{S as Xe,P as Rn,T as Cn}from"./trash-2-FPY1OiQV.js";import{P as $e,E as qt,d as Je}from"./SalesMotionHero-sGphstF2.js";import{F as qn}from"./footer-BTvMjyAb.js";import{D as In}from"./DashboardMotionHero-C2yuh4RF.js";import"./select-CM-Birqk.js";import"./index-BdQq_4o_.js";import"./arrow-up-narrow-wide-CQ9hbA7a.js";import"./tabs-BTrhdLSC.js";import"./activity-CeUP9h5f.js";import"./label-fD3fdNwH.js";import"./checkbox-ByePFv7I.js";import"./useAdvancedExport-luHYyrc4.js";const Dn=Me("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Mn=Me("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const Bn=Me("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const mt=Me("PinOff",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]]);const gt=Me("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),Fn=({data:K})=>{const z=J.useMemo(()=>{if(!K||K.length===0)return[];const c=K.reduce((_,O)=>{const y=new Date(O.date);if(isNaN(y.getTime()))return _;const p=y.toLocaleDateString();return _[p]||(_[p]={date:p,totalSessions:0,totalBooked:0,totalCheckedIn:0,totalCapacity:0,avgFillRate:0}),_[p].totalSessions+=1,_[p].totalBooked+=O.bookedCount||0,_[p].totalCheckedIn+=O.checkedInCount||0,_[p].totalCapacity+=O.capacity||0,_},{});return Object.values(c).map(_=>({..._,avgFillRate:_.totalCapacity>0?(_.totalBooked/_.totalCapacity*100).toFixed(1):0,attendanceRate:_.totalBooked>0?(_.totalCheckedIn/_.totalBooked*100).toFixed(1):0})).slice(-30)},[K]),j=J.useMemo(()=>{if(!K||K.length===0)return[];const c=K.reduce((_,O)=>{const y=new Date(O.date);if(isNaN(y.getTime()))return _;const p=new Date(y);p.setDate(y.getDate()-y.getDay());const v=p.toISOString().split("T")[0];return _[v]||(_[v]={week:v,sessions:0,totalAttendance:0,avgFillRate:0,totalCapacity:0}),_[v].sessions+=1,_[v].totalAttendance+=O.checkedInCount||0,_[v].totalCapacity+=O.capacity||0,_},{});return Object.values(c).map(_=>({..._,avgFillRate:_.totalCapacity>0?(_.totalAttendance/_.totalCapacity*100).toFixed(1):0})).slice(-12)},[K]),u=({active:c,payload:_,label:O})=>c&&_&&_.length?b.jsxs("div",{className:"bg-white p-4 border border-gray-200 rounded-lg shadow-lg",children:[b.jsx("p",{className:"font-semibold text-gray-800",children:O}),_.map((y,p)=>b.jsxs("p",{style:{color:y.color},className:"text-sm",children:[y.dataKey,": ",y.value,y.dataKey.includes("Rate")||y.dataKey.includes("Fill")?"%":""]},p))]}):null;return b.jsxs("div",{className:"space-y-8",children:[b.jsxs(Ne,{className:"bg-gradient-to-br from-white via-blue-50/30 to-white border-0 shadow-xl",children:[b.jsx(Pe,{className:"pb-4",children:b.jsxs(Ie,{className:"text-xl font-bold bg-gradient-to-r from-slate-700 to-slate-900 bg-clip-text text-transparent flex items-center gap-2",children:[b.jsx(At,{className:"w-6 h-6 text-blue-600"}),"Daily Attendance Analytics"]})}),b.jsx(ke,{children:b.jsx("div",{className:"h-80",children:b.jsx(ut,{width:"100%",height:"100%",children:b.jsxs(dn,{data:z,children:[b.jsx(ct,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),b.jsx(ft,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickFormatter:c=>new Date(c).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),b.jsx(dt,{stroke:"#6b7280",fontSize:12}),b.jsx(ht,{content:b.jsx(u,{})}),b.jsx(pt,{}),b.jsx(Ye,{type:"monotone",dataKey:"totalCheckedIn",stroke:"#3b82f6",strokeWidth:3,name:"Daily Check-ins",dot:{fill:"#3b82f6",strokeWidth:2,r:4}}),b.jsx(Ye,{type:"monotone",dataKey:"avgFillRate",stroke:"#10b981",strokeWidth:3,name:"Fill Rate %",dot:{fill:"#10b981",strokeWidth:2,r:4}}),b.jsx(Ye,{type:"monotone",dataKey:"attendanceRate",stroke:"#f59e0b",strokeWidth:3,name:"Attendance Rate %",dot:{fill:"#f59e0b",strokeWidth:2,r:4}})]})})})})]}),b.jsxs(Ne,{className:"bg-gradient-to-br from-white via-purple-50/30 to-white border-0 shadow-xl",children:[b.jsx(Pe,{className:"pb-4",children:b.jsxs(Ie,{className:"text-xl font-bold bg-gradient-to-r from-slate-700 to-slate-900 bg-clip-text text-transparent flex items-center gap-2",children:[b.jsx(un,{className:"w-6 h-6 text-purple-600"}),"Weekly Performance Overview"]})}),b.jsx(ke,{children:b.jsx("div",{className:"h-80",children:b.jsx(ut,{width:"100%",height:"100%",children:b.jsxs(cn,{data:j,children:[b.jsx(ct,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),b.jsx(ft,{dataKey:"week",stroke:"#6b7280",fontSize:12,tickFormatter:c=>new Date(c).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),b.jsx(dt,{stroke:"#6b7280",fontSize:12}),b.jsx(ht,{content:b.jsx(u,{})}),b.jsx(pt,{}),b.jsx(vt,{dataKey:"sessions",fill:"#8b5cf6",name:"Total Sessions",radius:[4,4,0,0]}),b.jsx(vt,{dataKey:"totalAttendance",fill:"#06b6d4",name:"Total Attendance",radius:[4,4,0,0]})]})})})})]})]})},Un=({data:K})=>{const[z,j]=J.useState("all"),[u,c]=J.useState(new Set),_=J.useMemo(()=>K.filter(r=>{const e=r.cleanedClass||"";return!["Hosted","P57","X"].some(a=>e.toLowerCase().includes(a.toLowerCase()))}),[K]),O=r=>{const e=r.toLowerCase().trim();return e.includes("barre 57")||e.includes("barre57")?"Barre 57":e.includes("power cycle")||e.includes("powercycle")?"Power Cycle":e.includes("cycle")&&!e.includes("power")?"Cycle":e.includes("barre")&&!e.includes("57")?"Barre":r},y=J.useMemo(()=>{const r=_.reduce((e,t)=>{const s=t.cleanedClass||"Unknown",a=O(s);e[a]||(e[a]={className:a,classes:new Map,totalSessions:0,totalAttendees:0,totalRevenue:0,totalCapacity:0,totalLateCancellations:0,totalComplimentary:0,totalNonPaid:0,totalEmptyClasses:0});const l=`${s}|${t.dayOfWeek}|${t.time}|${t.location}`;e[a].classes.has(l)||e[a].classes.set(l,{className:s,dayOfWeek:t.dayOfWeek,time:t.time,location:t.location,trainerName:t.trainerName,sessions:0,attendees:0,revenue:0,capacity:0,classAverage:0,lateCancellations:0,complimentary:0,nonPaid:0,emptyClasses:0});const i=e[a].classes.get(l);return i.sessions++,i.attendees+=t.checkedInCount,i.revenue+=t.totalPaid,i.capacity+=t.capacity,i.lateCancellations+=t.lateCancelledCount,i.complimentary+=t.complimentaryCount,i.nonPaid+=t.nonPaidCount,t.checkedInCount===0&&(i.emptyClasses++,e[a].totalEmptyClasses++),e[a].totalSessions++,e[a].totalAttendees+=t.checkedInCount,e[a].totalRevenue+=t.totalPaid,e[a].totalCapacity+=t.capacity,e[a].totalLateCancellations+=t.lateCancelledCount,e[a].totalComplimentary+=t.complimentaryCount,e[a].totalNonPaid+=t.nonPaidCount,e},{});return Object.values(r).forEach(e=>{e.avgFillRate=e.totalCapacity>0?e.totalAttendees/e.totalCapacity*100:0,e.avgRevenue=e.totalSessions>0?e.totalRevenue/e.totalSessions:0,e.classAverage=e.totalSessions>0?e.totalAttendees/e.totalSessions:0,e.classes.forEach(t=>{t.classAverage=t.sessions>0?t.attendees/t.sessions:0,t.fillRate=t.capacity>0?t.attendees/t.capacity*100:0,t.avgLateCancellations=t.sessions>0?t.lateCancellations/t.sessions:0,t.emptyClassRate=t.sessions>0?t.emptyClasses/t.sessions*100:0}),e.classesArray=Array.from(e.classes.values()).filter(t=>t.sessions>=2).sort((t,s)=>s.classAverage-t.classAverage)}),Object.values(r).filter(e=>e.classesArray.length>0).sort((e,t)=>t.classAverage-e.classAverage)},[_]),p=J.useMemo(()=>z==="all"?y:y.filter(r=>r.className===z),[y,z]),v=r=>{const e=new Set(u);e.has(r)?e.delete(r):e.add(r),c(e)},d=["all",...y.map(r=>r.className)];return b.jsx(Yt,{children:b.jsxs(Ne,{className:"bg-white/90 backdrop-blur-sm shadow-xl border-0 overflow-hidden",children:[b.jsx(Pe,{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-b border-white/20",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs(Ie,{className:"text-gray-800 flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl flex items-center justify-center",children:b.jsx(_n,{className:"w-5 h-5 text-white"})}),"Class Format Analysis",b.jsxs(pe,{variant:"secondary",className:"ml-2",children:[y.length," class types • ",_.length," sessions"]})]}),b.jsxs(St,{children:[b.jsx(Tt,{asChild:!0,children:b.jsxs(he,{variant:"outline",size:"sm",className:"gap-2 bg-white/80 hover:bg-white",children:[z==="all"?"All Class Types":z,b.jsx(De,{className:"h-4 w-4"})]})}),b.jsx(Pt,{className:"bg-white shadow-lg border-0 max-h-96 overflow-auto z-50",children:d.map(r=>b.jsxs(Lt,{onClick:()=>j(r),className:"hover:bg-purple-50",children:[b.jsx(it,{className:"w-4 h-4 mr-2"}),r==="all"?"All Class Types":r]},r))})]})]})}),b.jsx(ke,{className:"p-0",children:b.jsx("div",{className:"max-h-[800px] overflow-auto space-y-4 p-4",children:p.map(r=>b.jsx(Ne,{className:"border shadow-sm",children:b.jsxs(gn,{open:u.has(r.className),children:[b.jsx(bn,{onClick:()=>v(r.className),className:"w-full",children:b.jsx(Pe,{className:"hover:bg-gradient-to-r hover:from-purple-50 hover:to-pink-50 transition-all duration-200 cursor-pointer",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[u.has(r.className)?b.jsx(De,{className:"h-5 w-5 text-gray-500"}):b.jsx(et,{className:"h-5 w-5 text-gray-500"}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:b.jsx(On,{className:"w-5 h-5 text-white"})}),b.jsxs("div",{className:"text-left",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:r.className}),b.jsxs("p",{className:"text-sm text-gray-600",children:[r.classesArray.length," schedules • ",r.totalSessions," sessions"]}),r.totalEmptyClasses>0&&b.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[b.jsx(lt,{className:"w-3 h-3"}),r.totalEmptyClasses," empty classes"]})]})]})]}),b.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"font-bold text-purple-600",children:r.classAverage.toFixed(1)}),b.jsx("div",{className:"text-gray-500",children:"Avg Attendance"})]}),b.jsxs("div",{className:"text-center",children:[b.jsxs(pe,{variant:r.avgFillRate>80?"default":r.avgFillRate>60?"secondary":"outline",className:r.avgFillRate>80?"bg-green-100 text-green-700":r.avgFillRate>60?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700",children:[r.avgFillRate.toFixed(1),"%"]}),b.jsx("div",{className:"text-gray-500 mt-1",children:"Fill Rate"})]}),b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"font-bold text-green-600",children:Ve(r.totalRevenue)}),b.jsx("div",{className:"text-gray-500",children:"Revenue"})]})]})]})})}),b.jsx(xn,{children:b.jsx(ke,{className:"pt-0",children:b.jsxs(vn,{children:[b.jsx(yn,{children:b.jsxs(yt,{className:"bg-gradient-to-r from-gray-50 to-purple-50",children:[b.jsx(be,{className:"font-semibold",children:"Class Name"}),b.jsx(be,{className:"font-semibold",children:"Day"}),b.jsx(be,{className:"font-semibold",children:"Time"}),b.jsx(be,{className:"font-semibold",children:"Location"}),b.jsx(be,{className:"font-semibold",children:"Trainer"}),b.jsx(be,{className:"text-center font-semibold",children:b.jsxs(Ae,{children:[b.jsx(Se,{children:"Sessions"}),b.jsx(Te,{children:"Number of sessions conducted"})]})}),b.jsx(be,{className:"text-center font-semibold",children:b.jsxs(Ae,{children:[b.jsx(Se,{children:"Check-ins"}),b.jsx(Te,{children:"Total check-ins across all sessions"})]})}),b.jsx(be,{className:"text-center font-semibold",children:b.jsxs(Ae,{children:[b.jsx(Se,{children:"Class Average"}),b.jsx(Te,{children:"Average attendees per session"})]})}),b.jsx(be,{className:"text-center font-semibold",children:b.jsxs(Ae,{children:[b.jsx(Se,{children:"Empty Classes"}),b.jsx(Te,{children:"Number of sessions with 0 attendance"})]})}),b.jsx(be,{className:"text-center font-semibold",children:b.jsxs(Ae,{children:[b.jsx(Se,{children:"Fill Rate %"}),b.jsx(Te,{children:"Average capacity utilization"})]})}),b.jsx(be,{className:"text-center font-semibold",children:b.jsxs(Ae,{children:[b.jsx(Se,{children:"Revenue"}),b.jsx(Te,{children:"Total revenue generated"})]})}),b.jsx(be,{className:"text-center font-semibold",children:b.jsxs(Ae,{children:[b.jsx(Se,{children:"Late Cancellations"}),b.jsx(Te,{children:"Average late cancellations per session"})]})})]})}),b.jsx(mn,{children:r.classesArray.map((e,t)=>b.jsxs(yt,{className:"hover:bg-gray-50/80",children:[b.jsx(xe,{children:b.jsx(pe,{variant:"outline",className:"bg-purple-50 text-purple-700 font-medium",children:e.className})}),b.jsx(xe,{children:b.jsx(pe,{variant:"outline",className:"bg-blue-50 text-blue-700",children:e.dayOfWeek})}),b.jsx(xe,{children:b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(Nn,{className:"w-4 h-4 text-gray-500"}),b.jsx("span",{children:e.time})]})}),b.jsx(xe,{children:b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(Rt,{className:"w-4 h-4 text-gray-500"}),b.jsx("span",{className:"truncate max-w-32",children:e.location})]})}),b.jsx(xe,{children:b.jsx(pe,{variant:"outline",className:"bg-green-50 text-green-700",children:e.trainerName})}),b.jsx(xe,{className:"text-center font-medium",children:b.jsx(pe,{variant:"default",className:"bg-gray-100 text-gray-700",children:e.sessions})}),b.jsx(xe,{className:"text-center font-bold text-blue-600",children:b.jsxs("div",{className:"flex items-center justify-center gap-1",children:[b.jsx(Ct,{className:"w-4 h-4"}),e.attendees]})}),b.jsx(xe,{className:"text-center font-bold text-green-600",children:e.classAverage.toFixed(1)}),b.jsx(xe,{className:"text-center",children:e.emptyClasses>0?b.jsxs(pe,{variant:"outline",className:"bg-red-50 text-red-700",children:[b.jsx(lt,{className:"w-3 h-3 mr-1"}),e.emptyClasses]}):b.jsx(pe,{variant:"outline",className:"bg-green-50 text-green-700",children:"0"})}),b.jsx(xe,{className:"text-center",children:b.jsxs(pe,{variant:e.fillRate>80?"default":e.fillRate>60?"secondary":"outline",className:e.fillRate>80?"bg-green-100 text-green-700":e.fillRate>60?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700",children:[e.fillRate.toFixed(1),"%"]})}),b.jsx(xe,{className:"text-center font-medium",children:Ve(e.revenue)}),b.jsx(xe,{className:"text-center",children:b.jsx(pe,{variant:"outline",children:e.avgLateCancellations.toFixed(1)})})]},`${r.className}-${t}`))})]})})})]})},r.className))})})]})})};function Hn(K){const z=zn(K),j=J.forwardRef((u,c)=>{const{children:_,...O}=u,y=J.Children.toArray(_),p=y.find(Vn);if(p){const v=p.props.children,d=y.map(r=>r===p?J.Children.count(v)>1?J.Children.only(null):J.isValidElement(v)?v.props.children:null:r);return b.jsx(z,{...O,ref:c,children:J.isValidElement(v)?J.cloneElement(v,void 0,d):null})}return b.jsx(z,{...O,ref:c,children:_})});return j.displayName=`${K}.Slot`,j}function zn(K){const z=J.forwardRef((j,u)=>{const{children:c,..._}=j;if(J.isValidElement(c)){const O=Gn(c),y=Wn(_,c.props);return c.type!==J.Fragment&&(y.ref=u?Et(u,O):O),J.cloneElement(c,y)}return J.Children.count(c)>1?J.Children.only(null):null});return z.displayName=`${K}.SlotClone`,z}var Kn=Symbol("radix.slottable");function Vn(K){return J.isValidElement(K)&&typeof K.type=="function"&&"__radixId"in K.type&&K.type.__radixId===Kn}function Wn(K,z){const j={...z};for(const u in z){const c=K[u],_=z[u];/^on[A-Z]/.test(u)?c&&_?j[u]=(...y)=>{const p=_(...y);return c(...y),p}:c&&(j[u]=c):u==="style"?j[u]={...c,..._}:u==="className"&&(j[u]=[c,_].filter(Boolean).join(" "))}return{...K,...j}}function Gn(K){let z=Object.getOwnPropertyDescriptor(K.props,"ref")?.get,j=z&&"isReactWarning"in z&&z.isReactWarning;return j?K.ref:(z=Object.getOwnPropertyDescriptor(K,"ref")?.get,j=z&&"isReactWarning"in z&&z.isReactWarning,j?K.props.ref:K.props.ref||K.ref)}var Zn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bt=Zn.reduce((K,z)=>{const j=Hn(`Primitive.${z}`),u=J.forwardRef((c,_)=>{const{asChild:O,...y}=c,p=O?j:z;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(p,{...y,ref:_})});return u.displayName=`Primitive.${z}`,{...K,[z]:u}},{});function Yn(K){const z=Qn(K),j=J.forwardRef((u,c)=>{const{children:_,...O}=u,y=J.Children.toArray(_),p=y.find($n);if(p){const v=p.props.children,d=y.map(r=>r===p?J.Children.count(v)>1?J.Children.only(null):J.isValidElement(v)?v.props.children:null:r);return b.jsx(z,{...O,ref:c,children:J.isValidElement(v)?J.cloneElement(v,void 0,d):null})}return b.jsx(z,{...O,ref:c,children:_})});return j.displayName=`${K}.Slot`,j}function Qn(K){const z=J.forwardRef((j,u)=>{const{children:c,..._}=j;if(J.isValidElement(c)){const O=er(c),y=Jn(_,c.props);return c.type!==J.Fragment&&(y.ref=u?Et(u,O):O),J.cloneElement(c,y)}return J.Children.count(c)>1?J.Children.only(null):null});return z.displayName=`${K}.SlotClone`,z}var Xn=Symbol("radix.slottable");function $n(K){return J.isValidElement(K)&&typeof K.type=="function"&&"__radixId"in K.type&&K.type.__radixId===Xn}function Jn(K,z){const j={...z};for(const u in z){const c=K[u],_=z[u];/^on[A-Z]/.test(u)?c&&_?j[u]=(...y)=>{const p=_(...y);return c(...y),p}:c&&(j[u]=c):u==="style"?j[u]={...c,..._}:u==="className"&&(j[u]=[c,_].filter(Boolean).join(" "))}return{...K,...j}}function er(K){let z=Object.getOwnPropertyDescriptor(K.props,"ref")?.get,j=z&&"isReactWarning"in z&&z.isReactWarning;return j?K.ref:(z=Object.getOwnPropertyDescriptor(K,"ref")?.get,j=z&&"isReactWarning"in z&&z.isReactWarning,j?K.props.ref:K.props.ref||K.ref)}var tr=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nr=tr.reduce((K,z)=>{const j=Yn(`Primitive.${z}`),u=J.forwardRef((c,_)=>{const{asChild:O,...y}=c,p=O?j:z;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(p,{...y,ref:_})});return u.displayName=`Primitive.${z}`,{...K,[z]:u}},{}),It="Toggle",ot=J.forwardRef((K,z)=>{const{pressed:j,defaultPressed:u,onPressedChange:c,..._}=K,[O,y]=nt({prop:j,onChange:c,defaultProp:u??!1,caller:It});return b.jsx(nr.button,{type:"button","aria-pressed":O,"data-state":O?"on":"off","data-disabled":K.disabled?"":void 0,..._,ref:z,onClick:Qt(K.onClick,()=>{K.disabled||y(!O)})})});ot.displayName=It;var Dt=ot,je="ToggleGroup",[Mt]=Xt(je,[kt]),Bt=kt(),at=ge.forwardRef((K,z)=>{const{type:j,...u}=K;if(j==="single"){const c=u;return b.jsx(rr,{...c,ref:z})}if(j==="multiple"){const c=u;return b.jsx(ir,{...c,ref:z})}throw new Error(`Missing prop \`type\` expected on \`${je}\``)});at.displayName=je;var[Ft,Ut]=Mt(je),rr=ge.forwardRef((K,z)=>{const{value:j,defaultValue:u,onValueChange:c=()=>{},..._}=K,[O,y]=nt({prop:j,defaultProp:u??"",onChange:c,caller:je});return b.jsx(Ft,{scope:K.__scopeToggleGroup,type:"single",value:ge.useMemo(()=>O?[O]:[],[O]),onItemActivate:y,onItemDeactivate:ge.useCallback(()=>y(""),[y]),children:b.jsx(Ht,{..._,ref:z})})}),ir=ge.forwardRef((K,z)=>{const{value:j,defaultValue:u,onValueChange:c=()=>{},..._}=K,[O,y]=nt({prop:j,defaultProp:u??[],onChange:c,caller:je}),p=ge.useCallback(d=>y((r=[])=>[...r,d]),[y]),v=ge.useCallback(d=>y((r=[])=>r.filter(e=>e!==d)),[y]);return b.jsx(Ft,{scope:K.__scopeToggleGroup,type:"multiple",value:O,onItemActivate:p,onItemDeactivate:v,children:b.jsx(Ht,{..._,ref:z})})});at.displayName=je;var[or,ar]=Mt(je),Ht=ge.forwardRef((K,z)=>{const{__scopeToggleGroup:j,disabled:u=!1,rovingFocus:c=!0,orientation:_,dir:O,loop:y=!0,...p}=K,v=Bt(j),d=an(O),r={role:"group",dir:d,...p};return b.jsx(or,{scope:j,rovingFocus:c,disabled:u,children:c?b.jsx(ln,{asChild:!0,...v,orientation:_,dir:d,loop:y,children:b.jsx(bt.div,{...r,ref:z})}):b.jsx(bt.div,{...r,ref:z})})}),We="ToggleGroupItem",zt=ge.forwardRef((K,z)=>{const j=Ut(We,K.__scopeToggleGroup),u=ar(We,K.__scopeToggleGroup),c=Bt(K.__scopeToggleGroup),_=j.value.includes(K.value),O=u.disabled||K.disabled,y={...K,pressed:_,disabled:O},p=ge.useRef(null);return u.rovingFocus?b.jsx(on,{asChild:!0,...c,focusable:!O,active:_,ref:p,children:b.jsx(xt,{...y,ref:z})}):b.jsx(xt,{...y,ref:z})});zt.displayName=We;var xt=ge.forwardRef((K,z)=>{const{__scopeToggleGroup:j,value:u,...c}=K,_=Ut(We,j),O={role:"radio","aria-checked":K.pressed,"aria-pressed":void 0},y=_.type==="single"?O:void 0;return b.jsx(ot,{...y,...c,ref:z,onPressedChange:p=>{p?_.onItemActivate(u):_.onItemDeactivate(u)}})}),Kt=at,Vt=zt;const Wt=$t("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),lr=J.forwardRef(({className:K,variant:z,size:j,...u},c)=>b.jsx(Dt,{ref:c,className:rt(Wt({variant:z,size:j,className:K})),...u}));lr.displayName=Dt.displayName;const Gt=J.createContext({size:"default",variant:"default"}),tt=J.forwardRef(({className:K,variant:z,size:j,children:u,...c},_)=>b.jsx(Kt,{ref:_,className:rt("flex items-center justify-center gap-1",K),...c,children:b.jsx(Gt.Provider,{value:{variant:z,size:j},children:u})}));tt.displayName=Kt.displayName;const Le=J.forwardRef(({className:K,children:z,variant:j,size:u,...c},_)=>{const O=J.useContext(Gt);return b.jsx(Vt,{ref:_,className:rt(Wt({variant:O.variant||j,size:O.size||u}),K),...c,children:z})});Le.displayName=Vt.displayName;const _t=({data:K,title:z,type:j,variant:u,initialCount:c=10})=>{const[_,O]=J.useState("classAverage"),[y,p]=J.useState(c),[v,d]=J.useState(j),[r,e]=J.useState(!1),t=J.useMemo(()=>{const n={};return K.forEach(g=>{let w;v==="classes"?r?w=`${g.cleanedClass}|${g.dayOfWeek}|${g.time}|${g.location}|${g.trainerName}`:w=`${g.cleanedClass}|${g.dayOfWeek}|${g.time}|${g.location}`:v==="classTypes"?w=g.classType||g.cleanedClass||"":w=g.trainerName,w&&(n[w]||(n[w]={name:w,cleanedClass:g.cleanedClass||"",dayOfWeek:g.dayOfWeek||"",time:g.time||"",location:g.location||"",trainerName:g.trainerName||"",totalAttendance:0,avgFillRate:0,totalRevenue:0,sessions:0,classAverage:0}),n[w].totalAttendance+=g.checkedInCount,n[w].totalRevenue+=g.totalPaid,n[w].sessions+=1)}),Object.values(n).forEach(g=>{const S=K.filter(x=>v==="classes"?r?x.cleanedClass===g.cleanedClass&&x.dayOfWeek===g.dayOfWeek&&x.time===g.time&&x.location===g.location&&x.trainerName===g.trainerName:x.cleanedClass===g.cleanedClass&&x.dayOfWeek===g.dayOfWeek&&x.time===g.time&&x.location===g.location:v==="classTypes"?(x.classType||x.cleanedClass)===(g.cleanedClass||g.name):x.trainerName===g.trainerName).reduce((x,m)=>x+m.capacity,0);g.avgFillRate=S>0?g.totalAttendance/S*100:0,g.classAverage=g.sessions>0?g.totalAttendance/g.sessions:0}),Object.values(n).filter(g=>!(g.sessions<2||g.cleanedClass&&g.cleanedClass.toLowerCase().includes("hosted"))).sort((g,w)=>{let S,x;switch(_){case"attendance":S=g.totalAttendance,x=w.totalAttendance;break;case"fillRate":S=g.avgFillRate,x=w.avgFillRate;break;case"revenue":S=g.totalRevenue,x=w.totalRevenue;break;case"classAverage":default:S=g.classAverage,x=w.classAverage;break}return u==="top"?x-S:S-x})},[K,v,r,_,u]),s=t.slice(0,y),a=t.length>y,l=[{value:"classAverage",label:"Class Average",icon:it},{value:"attendance",label:"Total Attendance",icon:Ct},{value:"fillRate",label:"Fill Rate %",icon:kn},{value:"revenue",label:"Revenue",icon:jn}],i=n=>{switch(_){case"attendance":return qe(n.totalAttendance);case"fillRate":return`${n.avgFillRate.toFixed(1)}%`;case"revenue":return Ve(n.totalRevenue);case"classAverage":default:return n.classAverage.toFixed(1)}},o=n=>v==="classes"?r?`${n.cleanedClass} - ${n.dayOfWeek} ${n.time} (${n.trainerName})`:`${n.cleanedClass} - ${n.dayOfWeek} ${n.time}`:n.trainerName,f=n=>u==="top"?n===0?"bg-yellow-100 text-yellow-800 border-yellow-200":n===1?"bg-gray-100 text-gray-800 border-gray-200":n===2?"bg-orange-100 text-orange-800 border-orange-200":"bg-blue-50 text-blue-700 border-blue-200":"bg-red-50 text-red-700 border-red-200";return b.jsxs(Ne,{className:"bg-white shadow-sm border border-gray-200",children:[b.jsxs(Pe,{className:"pb-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs(Ie,{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[u==="top"?b.jsx(At,{className:"w-5 h-5 text-green-600"}):b.jsx(En,{className:"w-5 h-5 text-red-600"}),z]}),b.jsxs(St,{children:[b.jsx(Tt,{asChild:!0,children:b.jsxs(he,{variant:"outline",size:"sm",className:"gap-2",children:[l.find(n=>n.value===_)?.label,b.jsx(De,{className:"w-4 h-4"})]})}),b.jsx(Pt,{className:"bg-white shadow-lg border z-50",align:"end",children:l.map(n=>b.jsxs(Lt,{onClick:()=>O(n.value),className:"cursor-pointer",children:[b.jsx(n.icon,{className:"w-4 h-4 mr-2"}),n.label]},n.value))})]})]}),b.jsx("div",{className:"flex justify-center mb-4",children:b.jsxs(tt,{type:"single",value:v,onValueChange:n=>n&&d(n),children:[b.jsx(Le,{value:"classes","aria-label":"Classes view",children:"Classes"}),b.jsx(Le,{value:"trainers","aria-label":"Trainers view",children:"Trainers"}),b.jsx(Le,{value:"classTypes","aria-label":"Class Types view",children:"Class Types"})]})}),v==="classes"&&b.jsx("div",{className:"flex justify-center",children:b.jsxs(tt,{type:"single",value:r?"with-trainer":"without-trainer",onValueChange:n=>e(n==="with-trainer"),children:[b.jsx(Le,{value:"without-trainer","aria-label":"Group without trainer",children:"Group by Class"}),b.jsx(Le,{value:"with-trainer","aria-label":"Group with trainer",children:"Include Trainer"})]})})]}),b.jsxs(ke,{className:"p-0",children:[b.jsx("div",{className:"space-y-1 min-h-[600px] overflow-y-auto",children:s.map((n,h)=>b.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0",children:[b.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[b.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold border ${f(h)}`,children:h+1}),b.jsxs("div",{className:"min-w-0 flex-1",children:[b.jsx("div",{className:"font-medium text-gray-900 text-sm mb-1 truncate",children:o(n)}),b.jsxs("div",{className:"flex flex-wrap gap-1 mb-1",children:[v==="classes"&&b.jsxs(b.Fragment,{children:[b.jsx(pe,{variant:"outline",className:"text-xs px-1.5 py-0.5 bg-blue-50 text-blue-700 border-blue-200",children:n.location}),b.jsxs(pe,{variant:"outline",className:"text-xs px-1.5 py-0.5 bg-purple-50 text-purple-700 border-purple-200",children:[n.sessions," sessions"]})]}),v==="trainers"&&b.jsxs(pe,{variant:"outline",className:"text-xs px-1.5 py-0.5 bg-green-50 text-green-700 border-green-200",children:[n.sessions," classes taught"]})]}),b.jsxs("div",{className:"text-xs text-gray-500",children:[_==="attendance"&&`${n.sessions} sessions`,_==="fillRate"&&`${qe(n.totalAttendance)} attendees`,_==="revenue"&&`Avg: ${Ve(n.totalRevenue/n.sessions)}`,_==="classAverage"&&`${qe(n.totalAttendance)} total attendees`]})]})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("div",{className:"text-lg font-semibold text-gray-900 mb-1",children:i(n)}),b.jsx(pe,{variant:u==="top"?"default":"destructive",className:"text-xs",children:u==="top"?"High Performer":"Needs Focus"})]})]},n.name))}),a&&b.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50",children:b.jsxs(he,{variant:"outline",size:"sm",onClick:()=>p(y+10),className:"w-full",children:["Show More (",t.length-y," remaining)"]})})]})]})};function sr(K){const[z,j]=J.useState([]),[u,c]=J.useState(!1),[_,O]=J.useState(null),y=J.useMemo(()=>{const e=new URLSearchParams;return K.tableKey&&e.set("tableKey",K.tableKey),K.location&&e.set("location",K.location),K.period&&e.set("period",K.period),K.sectionId&&e.set("sectionId",K.sectionId),e.toString()},[K.tableKey,K.location,K.period,K.sectionId]),p=async()=>{try{c(!0),O(null);const e=await fetch(`/api/notes?${y}`);if(!e.ok)throw new Error(await e.text());const t=await e.json();j(t.notes||[])}catch(e){O(e.message||"Failed to load notes")}finally{c(!1)}},v=async e=>{try{c(!0),O(null);const t=await fetch("/api/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...K,...e})});if(!t.ok)throw new Error(await t.text());return await p(),!0}catch(t){return O(t.message||"Failed to save note"),!1}finally{c(!1)}},d=async(e,t)=>{try{c(!0),O(null);const s=await fetch("/api/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...K,...t,row:e})});if(!s.ok)throw new Error(await s.text());return await p(),!0}catch(s){return O(s.message||"Failed to update note"),!1}finally{c(!1)}},r=async e=>{try{c(!0),O(null);const t=await fetch(`/api/notes?row=${encodeURIComponent(String(e))}`,{method:"DELETE"});if(!t.ok)throw new Error(await t.text());return await p(),!0}catch(t){return O(t.message||"Failed to delete note"),!1}finally{c(!1)}};return J.useEffect(()=>{p()},[y]),{notes:z,loading:u,error:_,reload:p,save:v,updateByRow:d,deleteByRow:r}}var Zt={exports:{}};(function(K,z){(function(u,c){K.exports=c()})(typeof self<"u"?self:we,function(){return function(j){var u={};function c(_){if(u[_])return u[_].exports;var O=u[_]={i:_,l:!1,exports:{}};return j[_].call(O.exports,O,O.exports,c),O.l=!0,O.exports}return c.m=j,c.c=u,c.d=function(_,O,y){c.o(_,O)||Object.defineProperty(_,O,{configurable:!1,enumerable:!0,get:y})},c.n=function(_){var O=_&&_.__esModule?function(){return _.default}:function(){return _};return c.d(O,"a",O),O},c.o=function(_,O){return Object.prototype.hasOwnProperty.call(_,O)},c.p="",c(c.s=109)}([function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=c(17),O=c(18),y=c(19),p=c(45),v=c(46),d=c(47),r=c(48),e=c(49),t=c(12),s=c(32),a=c(33),l=c(31),i=c(1),o={Scope:i.Scope,create:i.create,find:i.find,query:i.query,register:i.register,Container:_.default,Format:O.default,Leaf:y.default,Embed:r.default,Scroll:p.default,Block:d.default,Inline:v.default,Text:e.default,Attributor:{Attribute:t.default,Class:s.default,Style:a.default,Store:l.default}};u.default=o},function(j,u,c){var _=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var f in o)o.hasOwnProperty(f)&&(i[f]=o[f])};return function(i,o){l(i,o);function f(){this.constructor=i}i.prototype=o===null?Object.create(o):(f.prototype=o.prototype,new f)}}();Object.defineProperty(u,"__esModule",{value:!0});var O=function(l){_(i,l);function i(o){var f=this;return o="[Parchment] "+o,f=l.call(this,o)||this,f.message=o,f.name=f.constructor.name,f}return i}(Error);u.ParchmentError=O;var y={},p={},v={},d={};u.DATA_KEY="__blot";var r;(function(l){l[l.TYPE=3]="TYPE",l[l.LEVEL=12]="LEVEL",l[l.ATTRIBUTE=13]="ATTRIBUTE",l[l.BLOT=14]="BLOT",l[l.INLINE=7]="INLINE",l[l.BLOCK=11]="BLOCK",l[l.BLOCK_BLOT=10]="BLOCK_BLOT",l[l.INLINE_BLOT=6]="INLINE_BLOT",l[l.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",l[l.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",l[l.ANY=15]="ANY"})(r=u.Scope||(u.Scope={}));function e(l,i){var o=s(l);if(o==null)throw new O("Unable to create "+l+" blot");var f=o,n=l instanceof Node||l.nodeType===Node.TEXT_NODE?l:f.create(i);return new f(n,i)}u.create=e;function t(l,i){return i===void 0&&(i=!1),l==null?null:l[u.DATA_KEY]!=null?l[u.DATA_KEY].blot:i?t(l.parentNode,i):null}u.find=t;function s(l,i){i===void 0&&(i=r.ANY);var o;if(typeof l=="string")o=d[l]||y[l];else if(l instanceof Text||l.nodeType===Node.TEXT_NODE)o=d.text;else if(typeof l=="number")l&r.LEVEL&r.BLOCK?o=d.block:l&r.LEVEL&r.INLINE&&(o=d.inline);else if(l instanceof HTMLElement){var f=(l.getAttribute("class")||"").split(/\s+/);for(var n in f)if(o=p[f[n]],o)break;o=o||v[l.tagName]}return o==null?null:i&r.LEVEL&o.scope&&i&r.TYPE&o.scope?o:null}u.query=s;function a(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];if(l.length>1)return l.map(function(n){return a(n)});var o=l[0];if(typeof o.blotName!="string"&&typeof o.attrName!="string")throw new O("Invalid definition");if(o.blotName==="abstract")throw new O("Cannot register abstract class");if(d[o.blotName||o.attrName]=o,typeof o.keyName=="string")y[o.keyName]=o;else if(o.className!=null&&(p[o.className]=o),o.tagName!=null){Array.isArray(o.tagName)?o.tagName=o.tagName.map(function(n){return n.toUpperCase()}):o.tagName=o.tagName.toUpperCase();var f=Array.isArray(o.tagName)?o.tagName:[o.tagName];f.forEach(function(n){(v[n]==null||o.className==null)&&(v[n]=o)})}return o}u.register=a},function(j,u,c){var _=c(51),O=c(11),y=c(3),p=c(20),v="\0",d=function(r){Array.isArray(r)?this.ops=r:r!=null&&Array.isArray(r.ops)?this.ops=r.ops:this.ops=[]};d.prototype.insert=function(r,e){var t={};return r.length===0?this:(t.insert=r,e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(t.attributes=e),this.push(t))},d.prototype.delete=function(r){return r<=0?this:this.push({delete:r})},d.prototype.retain=function(r,e){if(r<=0)return this;var t={retain:r};return e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(t.attributes=e),this.push(t)},d.prototype.push=function(r){var e=this.ops.length,t=this.ops[e-1];if(r=y(!0,{},r),typeof t=="object"){if(typeof r.delete=="number"&&typeof t.delete=="number")return this.ops[e-1]={delete:t.delete+r.delete},this;if(typeof t.delete=="number"&&r.insert!=null&&(e-=1,t=this.ops[e-1],typeof t!="object"))return this.ops.unshift(r),this;if(O(r.attributes,t.attributes)){if(typeof r.insert=="string"&&typeof t.insert=="string")return this.ops[e-1]={insert:t.insert+r.insert},typeof r.attributes=="object"&&(this.ops[e-1].attributes=r.attributes),this;if(typeof r.retain=="number"&&typeof t.retain=="number")return this.ops[e-1]={retain:t.retain+r.retain},typeof r.attributes=="object"&&(this.ops[e-1].attributes=r.attributes),this}}return e===this.ops.length?this.ops.push(r):this.ops.splice(e,0,r),this},d.prototype.chop=function(){var r=this.ops[this.ops.length-1];return r&&r.retain&&!r.attributes&&this.ops.pop(),this},d.prototype.filter=function(r){return this.ops.filter(r)},d.prototype.forEach=function(r){this.ops.forEach(r)},d.prototype.map=function(r){return this.ops.map(r)},d.prototype.partition=function(r){var e=[],t=[];return this.forEach(function(s){var a=r(s)?e:t;a.push(s)}),[e,t]},d.prototype.reduce=function(r,e){return this.ops.reduce(r,e)},d.prototype.changeLength=function(){return this.reduce(function(r,e){return e.insert?r+p.length(e):e.delete?r-e.delete:r},0)},d.prototype.length=function(){return this.reduce(function(r,e){return r+p.length(e)},0)},d.prototype.slice=function(r,e){r=r||0,typeof e!="number"&&(e=1/0);for(var t=[],s=p.iterator(this.ops),a=0;a<e&&s.hasNext();){var l;a<r?l=s.next(r-a):(l=s.next(e-a),t.push(l)),a+=p.length(l)}return new d(t)},d.prototype.compose=function(r){var e=p.iterator(this.ops),t=p.iterator(r.ops),s=[],a=t.peek();if(a!=null&&typeof a.retain=="number"&&a.attributes==null){for(var l=a.retain;e.peekType()==="insert"&&e.peekLength()<=l;)l-=e.peekLength(),s.push(e.next());a.retain-l>0&&t.next(a.retain-l)}for(var i=new d(s);e.hasNext()||t.hasNext();)if(t.peekType()==="insert")i.push(t.next());else if(e.peekType()==="delete")i.push(e.next());else{var o=Math.min(e.peekLength(),t.peekLength()),f=e.next(o),n=t.next(o);if(typeof n.retain=="number"){var h={};typeof f.retain=="number"?h.retain=o:h.insert=f.insert;var A=p.attributes.compose(f.attributes,n.attributes,typeof f.retain=="number");if(A&&(h.attributes=A),i.push(h),!t.hasNext()&&O(i.ops[i.ops.length-1],h)){var g=new d(e.rest());return i.concat(g).chop()}}else typeof n.delete=="number"&&typeof f.retain=="number"&&i.push(n)}return i.chop()},d.prototype.concat=function(r){var e=new d(this.ops.slice());return r.ops.length>0&&(e.push(r.ops[0]),e.ops=e.ops.concat(r.ops.slice(1))),e},d.prototype.diff=function(r,e){if(this.ops===r.ops)return new d;var t=[this,r].map(function(o){return o.map(function(f){if(f.insert!=null)return typeof f.insert=="string"?f.insert:v;var n=o===r?"on":"with";throw new Error("diff() called "+n+" non-document")}).join("")}),s=new d,a=_(t[0],t[1],e),l=p.iterator(this.ops),i=p.iterator(r.ops);return a.forEach(function(o){for(var f=o[1].length;f>0;){var n=0;switch(o[0]){case _.INSERT:n=Math.min(i.peekLength(),f),s.push(i.next(n));break;case _.DELETE:n=Math.min(f,l.peekLength()),l.next(n),s.delete(n);break;case _.EQUAL:n=Math.min(l.peekLength(),i.peekLength(),f);var h=l.next(n),A=i.next(n);O(h.insert,A.insert)?s.retain(n,p.attributes.diff(h.attributes,A.attributes)):s.push(A).delete(n);break}f-=n}}),s.chop()},d.prototype.eachLine=function(r,e){e=e||`
`;for(var t=p.iterator(this.ops),s=new d,a=0;t.hasNext();){if(t.peekType()!=="insert")return;var l=t.peek(),i=p.length(l)-t.peekLength(),o=typeof l.insert=="string"?l.insert.indexOf(e,i)-i:-1;if(o<0)s.push(t.next());else if(o>0)s.push(t.next(o));else{if(r(s,t.next(1).attributes||{},a)===!1)return;a+=1,s=new d}}s.length()>0&&r(s,{},a)},d.prototype.transform=function(r,e){if(e=!!e,typeof r=="number")return this.transformPosition(r,e);for(var t=p.iterator(this.ops),s=p.iterator(r.ops),a=new d;t.hasNext()||s.hasNext();)if(t.peekType()==="insert"&&(e||s.peekType()!=="insert"))a.retain(p.length(t.next()));else if(s.peekType()==="insert")a.push(s.next());else{var l=Math.min(t.peekLength(),s.peekLength()),i=t.next(l),o=s.next(l);if(i.delete)continue;o.delete?a.push(o):a.retain(l,p.attributes.transform(i.attributes,o.attributes,e))}return a.chop()},d.prototype.transformPosition=function(r,e){e=!!e;for(var t=p.iterator(this.ops),s=0;t.hasNext()&&s<=r;){var a=t.peekLength(),l=t.peekType();if(t.next(),l==="delete"){r-=Math.min(a,r-s);continue}else l==="insert"&&(s<r||!e)&&(r+=a);s+=a}return r},j.exports=d},function(j,u){var c=Object.prototype.hasOwnProperty,_=Object.prototype.toString,O=Object.defineProperty,y=Object.getOwnPropertyDescriptor,p=function(t){return typeof Array.isArray=="function"?Array.isArray(t):_.call(t)==="[object Array]"},v=function(t){if(!t||_.call(t)!=="[object Object]")return!1;var s=c.call(t,"constructor"),a=t.constructor&&t.constructor.prototype&&c.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!s&&!a)return!1;var l;for(l in t);return typeof l>"u"||c.call(t,l)},d=function(t,s){O&&s.name==="__proto__"?O(t,s.name,{enumerable:!0,configurable:!0,value:s.newValue,writable:!0}):t[s.name]=s.newValue},r=function(t,s){if(s==="__proto__")if(c.call(t,s)){if(y)return y(t,s).value}else return;return t[s]};j.exports=function e(){var t,s,a,l,i,o,f=arguments[0],n=1,h=arguments.length,A=!1;for(typeof f=="boolean"&&(A=f,f=arguments[1]||{},n=2),(f==null||typeof f!="object"&&typeof f!="function")&&(f={});n<h;++n)if(t=arguments[n],t!=null)for(s in t)a=r(f,s),l=r(t,s),f!==l&&(A&&l&&(v(l)||(i=p(l)))?(i?(i=!1,o=a&&p(a)?a:[]):o=a&&v(a)?a:{},d(f,{name:s,newValue:e(A,o,l)})):typeof l<"u"&&d(f,{name:s,newValue:l}));return f}},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.default=u.BlockEmbed=u.bubbleFormats=void 0;var _=function(){function m(N,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(N,C.key,C)}}return function(N,k,T){return k&&m(N.prototype,k),T&&m(N,T),N}}(),O=function m(N,k,T){N===null&&(N=Function.prototype);var C=Object.getOwnPropertyDescriptor(N,k);if(C===void 0){var B=Object.getPrototypeOf(N);return B===null?void 0:m(B,k,T)}else{if("value"in C)return C.value;var F=C.get;return F===void 0?void 0:F.call(T)}},y=c(3),p=f(y),v=c(2),d=f(v),r=c(0),e=f(r),t=c(16),s=f(t),a=c(6),l=f(a),i=c(7),o=f(i);function f(m){return m&&m.__esModule?m:{default:m}}function n(m,N){if(!(m instanceof N))throw new TypeError("Cannot call a class as a function")}function h(m,N){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:m}function A(m,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);m.prototype=Object.create(N&&N.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(m,N):m.__proto__=N)}var g=1,w=function(m){A(N,m);function N(){return n(this,N),h(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return _(N,[{key:"attach",value:function(){O(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"attach",this).call(this),this.attributes=new e.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,p.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(T,C){var B=e.default.query(T,e.default.Scope.BLOCK_ATTRIBUTE);B!=null&&this.attributes.attribute(B,C)}},{key:"formatAt",value:function(T,C,B,F){this.format(B,F)}},{key:"insertAt",value:function(T,C,B){if(typeof C=="string"&&C.endsWith(`
`)){var F=e.default.create(S.blotName);this.parent.insertBefore(F,T===0?this:this.next),F.insertAt(0,C.slice(0,-1))}else O(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,T,C,B)}}]),N}(e.default.Embed);w.scope=e.default.Scope.BLOCK_BLOT;var S=function(m){A(N,m);function N(k){n(this,N);var T=h(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,k));return T.cache={},T}return _(N,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(e.default.Leaf).reduce(function(T,C){return C.length()===0?T:T.insert(C.value(),x(C))},new d.default).insert(`
`,x(this))),this.cache.delta}},{key:"deleteAt",value:function(T,C){O(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"deleteAt",this).call(this,T,C),this.cache={}}},{key:"formatAt",value:function(T,C,B,F){C<=0||(e.default.query(B,e.default.Scope.BLOCK)?T+C===this.length()&&this.format(B,F):O(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"formatAt",this).call(this,T,Math.min(C,this.length()-T-1),B,F),this.cache={})}},{key:"insertAt",value:function(T,C,B){if(B!=null)return O(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,T,C,B);if(C.length!==0){var F=C.split(`
`),Q=F.shift();Q.length>0&&(T<this.length()-1||this.children.tail==null?O(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,Math.min(T,this.length()-1),Q):this.children.tail.insertAt(this.children.tail.length(),Q),this.cache={});var D=this;F.reduce(function(q,E){return D=D.split(q,!0),D.insertAt(0,E),E.length},T+Q.length)}}},{key:"insertBefore",value:function(T,C){var B=this.children.head;O(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertBefore",this).call(this,T,C),B instanceof s.default&&B.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=O(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"length",this).call(this)+g),this.cache.length}},{key:"moveChildren",value:function(T,C){O(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"moveChildren",this).call(this,T,C),this.cache={}}},{key:"optimize",value:function(T){O(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,T),this.cache={}}},{key:"path",value:function(T){return O(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"path",this).call(this,T,!0)}},{key:"removeChild",value:function(T){O(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"removeChild",this).call(this,T),this.cache={}}},{key:"split",value:function(T){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(C&&(T===0||T>=this.length()-g)){var B=this.clone();return T===0?(this.parent.insertBefore(B,this),this):(this.parent.insertBefore(B,this.next),B)}else{var F=O(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"split",this).call(this,T,C);return this.cache={},F}}}]),N}(e.default.Block);S.blotName="block",S.tagName="P",S.defaultChild="break",S.allowedChildren=[l.default,e.default.Embed,o.default];function x(m){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return m==null||(typeof m.formats=="function"&&(N=(0,p.default)(N,m.formats())),m.parent==null||m.parent.blotName=="scroll"||m.parent.statics.scope!==m.statics.scope)?N:x(m.parent,N)}u.bubbleFormats=x,u.BlockEmbed=w,u.default=S},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.default=u.overload=u.expandConfig=void 0;var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},O=function(){function D(q,E){var L=[],R=!0,U=!1,M=void 0;try{for(var P=q[Symbol.iterator](),I;!(R=(I=P.next()).done)&&(L.push(I.value),!(E&&L.length===E));R=!0);}catch(V){U=!0,M=V}finally{try{!R&&P.return&&P.return()}finally{if(U)throw M}}return L}return function(q,E){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return D(q,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function D(q,E){for(var L=0;L<E.length;L++){var R=E[L];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(q,R.key,R)}}return function(q,E,L){return E&&D(q.prototype,E),L&&D(q,L),q}}();c(50);var p=c(2),v=x(p),d=c(14),r=x(d),e=c(8),t=x(e),s=c(9),a=x(s),l=c(0),i=x(l),o=c(15),f=x(o),n=c(3),h=x(n),A=c(10),g=x(A),w=c(34),S=x(w);function x(D){return D&&D.__esModule?D:{default:D}}function m(D,q,E){return q in D?Object.defineProperty(D,q,{value:E,enumerable:!0,configurable:!0,writable:!0}):D[q]=E,D}function N(D,q){if(!(D instanceof q))throw new TypeError("Cannot call a class as a function")}var k=(0,g.default)("quill"),T=function(){y(D,null,[{key:"debug",value:function(E){E===!0&&(E="log"),g.default.level(E)}},{key:"find",value:function(E){return E.__quill||i.default.find(E)}},{key:"import",value:function(E){return this.imports[E]==null&&k.error("Cannot import "+E+". Are you sure it was registered?"),this.imports[E]}},{key:"register",value:function(E,L){var R=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof E!="string"){var M=E.attrName||E.blotName;typeof M=="string"?this.register("formats/"+M,E,L):Object.keys(E).forEach(function(P){R.register(P,E[P],L)})}else this.imports[E]!=null&&!U&&k.warn("Overwriting "+E+" with",L),this.imports[E]=L,(E.startsWith("blots/")||E.startsWith("formats/"))&&L.blotName!=="abstract"?i.default.register(L):E.startsWith("modules")&&typeof L.register=="function"&&L.register()}}]);function D(q){var E=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(N(this,D),this.options=C(q,L),this.container=this.options.container,this.container==null)return k.error("Invalid Quill container",q);this.options.debug&&D.debug(this.options.debug);var R=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new t.default,this.scroll=i.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new r.default(this.scroll),this.selection=new f.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(t.default.events.EDITOR_CHANGE,function(M){M===t.default.events.TEXT_CHANGE&&E.root.classList.toggle("ql-blank",E.editor.isBlank())}),this.emitter.on(t.default.events.SCROLL_UPDATE,function(M,P){var I=E.selection.lastRange,V=I&&I.length===0?I.index:void 0;B.call(E,function(){return E.editor.update(null,P,V)},M)});var U=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+R+"<p><br></p></div>");this.setContents(U),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return y(D,[{key:"addContainer",value:function(E){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof E=="string"){var R=E;E=document.createElement("div"),E.classList.add(R)}return this.container.insertBefore(E,L),E}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(E,L,R){var U=this,M=F(E,L,R),P=O(M,4);return E=P[0],L=P[1],R=P[3],B.call(this,function(){return U.editor.deleteText(E,L)},R,E,-1*L)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(E),this.container.classList.toggle("ql-disabled",!E)}},{key:"focus",value:function(){var E=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=E,this.scrollIntoView()}},{key:"format",value:function(E,L){var R=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.default.sources.API;return B.call(this,function(){var M=R.getSelection(!0),P=new v.default;if(M==null)return P;if(i.default.query(E,i.default.Scope.BLOCK))P=R.editor.formatLine(M.index,M.length,m({},E,L));else{if(M.length===0)return R.selection.format(E,L),P;P=R.editor.formatText(M.index,M.length,m({},E,L))}return R.setSelection(M,t.default.sources.SILENT),P},U)}},{key:"formatLine",value:function(E,L,R,U,M){var P=this,I=void 0,V=F(E,L,R,U,M),W=O(V,4);return E=W[0],L=W[1],I=W[2],M=W[3],B.call(this,function(){return P.editor.formatLine(E,L,I)},M,E,0)}},{key:"formatText",value:function(E,L,R,U,M){var P=this,I=void 0,V=F(E,L,R,U,M),W=O(V,4);return E=W[0],L=W[1],I=W[2],M=W[3],B.call(this,function(){return P.editor.formatText(E,L,I)},M,E,0)}},{key:"getBounds",value:function(E){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=void 0;typeof E=="number"?R=this.selection.getBounds(E,L):R=this.selection.getBounds(E.index,E.length);var U=this.container.getBoundingClientRect();return{bottom:R.bottom-U.top,height:R.height,left:R.left-U.left,right:R.right-U.left,top:R.top-U.top,width:R.width}}},{key:"getContents",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-E,R=F(E,L),U=O(R,2);return E=U[0],L=U[1],this.editor.getContents(E,L)}},{key:"getFormat",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof E=="number"?this.editor.getFormat(E,L):this.editor.getFormat(E.index,E.length)}},{key:"getIndex",value:function(E){return E.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(E){return this.scroll.leaf(E)}},{key:"getLine",value:function(E){return this.scroll.line(E)}},{key:"getLines",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof E!="number"?this.scroll.lines(E.index,E.length):this.scroll.lines(E,L)}},{key:"getModule",value:function(E){return this.theme.modules[E]}},{key:"getSelection",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return E&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-E,R=F(E,L),U=O(R,2);return E=U[0],L=U[1],this.editor.getText(E,L)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(E,L,R){var U=this,M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:D.sources.API;return B.call(this,function(){return U.editor.insertEmbed(E,L,R)},M,E)}},{key:"insertText",value:function(E,L,R,U,M){var P=this,I=void 0,V=F(E,0,R,U,M),W=O(V,4);return E=W[0],I=W[2],M=W[3],B.call(this,function(){return P.editor.insertText(E,L,I)},M,E,L.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(E,L,R){this.clipboard.dangerouslyPasteHTML(E,L,R)}},{key:"removeFormat",value:function(E,L,R){var U=this,M=F(E,L,R),P=O(M,4);return E=P[0],L=P[1],R=P[3],B.call(this,function(){return U.editor.removeFormat(E,L)},R,E)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(E){var L=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API;return B.call(this,function(){E=new v.default(E);var U=L.getLength(),M=L.editor.deleteText(0,U),P=L.editor.applyDelta(E),I=P.ops[P.ops.length-1];I!=null&&typeof I.insert=="string"&&I.insert[I.insert.length-1]===`
`&&(L.editor.deleteText(L.getLength()-1,1),P.delete(1));var V=M.compose(P);return V},R)}},{key:"setSelection",value:function(E,L,R){if(E==null)this.selection.setRange(null,L||D.sources.API);else{var U=F(E,L,R),M=O(U,4);E=M[0],L=M[1],R=M[3],this.selection.setRange(new o.Range(E,L),R),R!==t.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(E){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API,R=new v.default().insert(E);return this.setContents(R,L)}},{key:"update",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.default.sources.USER,L=this.scroll.update(E);return this.selection.update(E),L}},{key:"updateContents",value:function(E){var L=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API;return B.call(this,function(){return E=new v.default(E),L.editor.applyDelta(E,R)},R,!0)}}]),D}();T.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},T.events=t.default.events,T.sources=t.default.sources,T.version="1.3.7",T.imports={delta:v.default,parchment:i.default,"core/module":a.default,"core/theme":S.default};function C(D,q){if(q=(0,h.default)(!0,{container:D,modules:{clipboard:!0,keyboard:!0,history:!0}},q),!q.theme||q.theme===T.DEFAULTS.theme)q.theme=S.default;else if(q.theme=T.import("themes/"+q.theme),q.theme==null)throw new Error("Invalid theme "+q.theme+". Did you register it?");var E=(0,h.default)(!0,{},q.theme.DEFAULTS);[E,q].forEach(function(U){U.modules=U.modules||{},Object.keys(U.modules).forEach(function(M){U.modules[M]===!0&&(U.modules[M]={})})});var L=Object.keys(E.modules).concat(Object.keys(q.modules)),R=L.reduce(function(U,M){var P=T.import("modules/"+M);return P==null?k.error("Cannot load "+M+" module. Are you sure you registered it?"):U[M]=P.DEFAULTS||{},U},{});return q.modules!=null&&q.modules.toolbar&&q.modules.toolbar.constructor!==Object&&(q.modules.toolbar={container:q.modules.toolbar}),q=(0,h.default)(!0,{},T.DEFAULTS,{modules:R},E,q),["bounds","container","scrollingContainer"].forEach(function(U){typeof q[U]=="string"&&(q[U]=document.querySelector(q[U]))}),q.modules=Object.keys(q.modules).reduce(function(U,M){return q.modules[M]&&(U[M]=q.modules[M]),U},{}),q}function B(D,q,E,L){if(this.options.strict&&!this.isEnabled()&&q===t.default.sources.USER)return new v.default;var R=E==null?null:this.getSelection(),U=this.editor.delta,M=D();if(R!=null&&(E===!0&&(E=R.index),L==null?R=Q(R,M,q):L!==0&&(R=Q(R,E,L,q)),this.setSelection(R,t.default.sources.SILENT)),M.length()>0){var P,I=[t.default.events.TEXT_CHANGE,M,U,q];if((P=this.emitter).emit.apply(P,[t.default.events.EDITOR_CHANGE].concat(I)),q!==t.default.sources.SILENT){var V;(V=this.emitter).emit.apply(V,I)}}return M}function F(D,q,E,L,R){var U={};return typeof D.index=="number"&&typeof D.length=="number"?typeof q!="number"?(R=L,L=E,E=q,q=D.length,D=D.index):(q=D.length,D=D.index):typeof q!="number"&&(R=L,L=E,E=q,q=0),(typeof E>"u"?"undefined":_(E))==="object"?(U=E,R=L):typeof E=="string"&&(L!=null?U[E]=L:R=E),R=R||t.default.sources.API,[D,q,U,R]}function Q(D,q,E,L){if(D==null)return null;var R=void 0,U=void 0;if(q instanceof v.default){var M=[D.index,D.index+D.length].map(function(W){return q.transformPosition(W,L!==t.default.sources.USER)}),P=O(M,2);R=P[0],U=P[1]}else{var I=[D.index,D.index+D.length].map(function(W){return W<q||W===q&&L===t.default.sources.USER?W:E>=0?W+E:Math.max(q,W+E)}),V=O(I,2);R=V[0],U=V[1]}return new o.Range(R,U-R)}u.expandConfig=C,u.overload=F,u.default=T},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=function(){function l(i,o){for(var f=0;f<o.length;f++){var n=o[f];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,o,f){return o&&l(i.prototype,o),f&&l(i,f),i}}(),O=function l(i,o,f){i===null&&(i=Function.prototype);var n=Object.getOwnPropertyDescriptor(i,o);if(n===void 0){var h=Object.getPrototypeOf(i);return h===null?void 0:l(h,o,f)}else{if("value"in n)return n.value;var A=n.get;return A===void 0?void 0:A.call(f)}},y=c(7),p=r(y),v=c(0),d=r(v);function r(l){return l&&l.__esModule?l:{default:l}}function e(l,i){if(!(l instanceof i))throw new TypeError("Cannot call a class as a function")}function t(l,i){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:l}function s(l,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);l.prototype=Object.create(i&&i.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(l,i):l.__proto__=i)}var a=function(l){s(i,l);function i(){return e(this,i),t(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _(i,[{key:"formatAt",value:function(f,n,h,A){if(i.compare(this.statics.blotName,h)<0&&d.default.query(h,d.default.Scope.BLOT)){var g=this.isolate(f,n);A&&g.wrap(h,A)}else O(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"formatAt",this).call(this,f,n,h,A)}},{key:"optimize",value:function(f){if(O(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"optimize",this).call(this,f),this.parent instanceof i&&i.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(f,n){var h=i.order.indexOf(f),A=i.order.indexOf(n);return h>=0||A>=0?h-A:f===n?0:f<n?-1:1}}]),i}(d.default.Inline);a.allowedChildren=[a,d.default.Embed,p.default],a.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],u.default=a},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=c(0),O=y(_);function y(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(e){d(t,e);function t(){return p(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(O.default.Text);u.default=r},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=function(){function o(f,n){for(var h=0;h<n.length;h++){var A=n[h];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,A.key,A)}}return function(f,n,h){return n&&o(f.prototype,n),h&&o(f,h),f}}(),O=function o(f,n,h){f===null&&(f=Function.prototype);var A=Object.getOwnPropertyDescriptor(f,n);if(A===void 0){var g=Object.getPrototypeOf(f);return g===null?void 0:o(g,n,h)}else{if("value"in A)return A.value;var w=A.get;return w===void 0?void 0:w.call(h)}},y=c(54),p=r(y),v=c(10),d=r(v);function r(o){return o&&o.__esModule?o:{default:o}}function e(o,f){if(!(o instanceof f))throw new TypeError("Cannot call a class as a function")}function t(o,f){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:o}function s(o,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);o.prototype=Object.create(f&&f.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(o,f):o.__proto__=f)}var a=(0,d.default)("quill:events"),l=["selectionchange","mousedown","mouseup","click"];l.forEach(function(o){document.addEventListener(o,function(){for(var f=arguments.length,n=Array(f),h=0;h<f;h++)n[h]=arguments[h];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(A){if(A.__quill&&A.__quill.emitter){var g;(g=A.__quill.emitter).handleDOM.apply(g,n)}})})});var i=function(o){s(f,o);function f(){e(this,f);var n=t(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return n.listeners={},n.on("error",a.error),n}return _(f,[{key:"emit",value:function(){a.log.apply(a,arguments),O(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(h){for(var A=arguments.length,g=Array(A>1?A-1:0),w=1;w<A;w++)g[w-1]=arguments[w];(this.listeners[h.type]||[]).forEach(function(S){var x=S.node,m=S.handler;(h.target===x||x.contains(h.target))&&m.apply(void 0,[h].concat(g))})}},{key:"listenDOM",value:function(h,A,g){this.listeners[h]||(this.listeners[h]=[]),this.listeners[h].push({node:A,handler:g})}}]),f}(p.default);i.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},i.sources={API:"api",SILENT:"silent",USER:"user"},u.default=i},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});function _(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}var O=function y(p){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_(this,y),this.quill=p,this.options=v};O.DEFAULTS={},u.default=O},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=["error","warn","log","info"],O="warn";function y(v){if(_.indexOf(v)<=_.indexOf(O)){for(var d,r=arguments.length,e=Array(r>1?r-1:0),t=1;t<r;t++)e[t-1]=arguments[t];(d=console)[v].apply(d,e)}}function p(v){return _.reduce(function(d,r){return d[r]=y.bind(console,r,v),d},{})}y.level=p.level=function(v){O=v},u.default=p},function(j,u,c){var _=Array.prototype.slice,O=c(52),y=c(53),p=j.exports=function(e,t,s){return s||(s={}),e===t?!0:e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||typeof e!="object"&&typeof t!="object"?s.strict?e===t:e==t:r(e,t,s)};function v(e){return e==null}function d(e){return!(!e||typeof e!="object"||typeof e.length!="number"||typeof e.copy!="function"||typeof e.slice!="function"||e.length>0&&typeof e[0]!="number")}function r(e,t,s){var a,l;if(v(e)||v(t)||e.prototype!==t.prototype)return!1;if(y(e))return y(t)?(e=_.call(e),t=_.call(t),p(e,t,s)):!1;if(d(e)){if(!d(t)||e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}try{var i=O(e),o=O(t)}catch{return!1}if(i.length!=o.length)return!1;for(i.sort(),o.sort(),a=i.length-1;a>=0;a--)if(i[a]!=o[a])return!1;for(a=i.length-1;a>=0;a--)if(l=i[a],!p(e[l],t[l],s))return!1;return typeof e==typeof t}},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=c(1),O=function(){function y(p,v,d){d===void 0&&(d={}),this.attrName=p,this.keyName=v;var r=_.Scope.TYPE&_.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&_.Scope.LEVEL|r:this.scope=_.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return y.keys=function(p){return[].map.call(p.attributes,function(v){return v.name})},y.prototype.add=function(p,v){return this.canAdd(p,v)?(p.setAttribute(this.keyName,v),!0):!1},y.prototype.canAdd=function(p,v){var d=_.query(p,_.Scope.BLOT&(this.scope|_.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof v=="string"?this.whitelist.indexOf(v.replace(/["']/g,""))>-1:this.whitelist.indexOf(v)>-1},y.prototype.remove=function(p){p.removeAttribute(this.keyName)},y.prototype.value=function(p){var v=p.getAttribute(this.keyName);return this.canAdd(p,v)&&v?v:""},y}();u.default=O},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.default=u.Code=void 0;var _=function(){function w(S,x){var m=[],N=!0,k=!1,T=void 0;try{for(var C=S[Symbol.iterator](),B;!(N=(B=C.next()).done)&&(m.push(B.value),!(x&&m.length===x));N=!0);}catch(F){k=!0,T=F}finally{try{!N&&C.return&&C.return()}finally{if(k)throw T}}return m}return function(S,x){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return w(S,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=function(){function w(S,x){for(var m=0;m<x.length;m++){var N=x[m];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(S,N.key,N)}}return function(S,x,m){return x&&w(S.prototype,x),m&&w(S,m),S}}(),y=function w(S,x,m){S===null&&(S=Function.prototype);var N=Object.getOwnPropertyDescriptor(S,x);if(N===void 0){var k=Object.getPrototypeOf(S);return k===null?void 0:w(k,x,m)}else{if("value"in N)return N.value;var T=N.get;return T===void 0?void 0:T.call(m)}},p=c(2),v=o(p),d=c(0),r=o(d),e=c(4),t=o(e),s=c(6),a=o(s),l=c(7),i=o(l);function o(w){return w&&w.__esModule?w:{default:w}}function f(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function n(w,S){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:w}function h(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(w,S):w.__proto__=S)}var A=function(w){h(S,w);function S(){return f(this,S),n(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return S}(a.default);A.blotName="code",A.tagName="CODE";var g=function(w){h(S,w);function S(){return f(this,S),n(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return O(S,[{key:"delta",value:function(){var m=this,N=this.domNode.textContent;return N.endsWith(`
`)&&(N=N.slice(0,-1)),N.split(`
`).reduce(function(k,T){return k.insert(T).insert(`
`,m.formats())},new v.default)}},{key:"format",value:function(m,N){if(!(m===this.statics.blotName&&N)){var k=this.descendant(i.default,this.length()-1),T=_(k,1),C=T[0];C?.deleteAt(C.length()-1,1),y(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,m,N)}}},{key:"formatAt",value:function(m,N,k,T){if(N!==0&&!(r.default.query(k,r.default.Scope.BLOCK)==null||k===this.statics.blotName&&T===this.statics.formats(this.domNode))){var C=this.newlineIndex(m);if(!(C<0||C>=m+N)){var B=this.newlineIndex(m,!0)+1,F=C-B+1,Q=this.isolate(B,F),D=Q.next;Q.format(k,T),D instanceof S&&D.formatAt(0,m-B+N-F,k,T)}}}},{key:"insertAt",value:function(m,N,k){if(k==null){var T=this.descendant(i.default,m),C=_(T,2),B=C[0],F=C[1];B.insertAt(F,N)}}},{key:"length",value:function(){var m=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?m:m+1}},{key:"newlineIndex",value:function(m){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(N)return this.domNode.textContent.slice(0,m).lastIndexOf(`
`);var k=this.domNode.textContent.slice(m).indexOf(`
`);return k>-1?m+k:-1}},{key:"optimize",value:function(m){this.domNode.textContent.endsWith(`
`)||this.appendChild(r.default.create("text",`
`)),y(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,m);var N=this.next;N!=null&&N.prev===this&&N.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===N.statics.formats(N.domNode)&&(N.optimize(m),N.moveChildren(this),N.remove())}},{key:"replace",value:function(m){y(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,m),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(N){var k=r.default.find(N);k==null?N.parentNode.removeChild(N):k instanceof r.default.Embed?k.remove():k.unwrap()})}}],[{key:"create",value:function(m){var N=y(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,m);return N.setAttribute("spellcheck",!1),N}},{key:"formats",value:function(){return!0}}]),S}(t.default);g.blotName="code-block",g.tagName="PRE",g.TAB="  ",u.Code=A,u.default=g},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},O=function(){function D(q,E){var L=[],R=!0,U=!1,M=void 0;try{for(var P=q[Symbol.iterator](),I;!(R=(I=P.next()).done)&&(L.push(I.value),!(E&&L.length===E));R=!0);}catch(V){U=!0,M=V}finally{try{!R&&P.return&&P.return()}finally{if(U)throw M}}return L}return function(q,E){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return D(q,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function D(q,E){for(var L=0;L<E.length;L++){var R=E[L];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(q,R.key,R)}}return function(q,E,L){return E&&D(q.prototype,E),L&&D(q,L),q}}(),p=c(2),v=N(p),d=c(20),r=N(d),e=c(0),t=N(e),s=c(13),a=N(s),l=c(24),i=N(l),o=c(4),f=N(o),n=c(16),h=N(n),A=c(21),g=N(A),w=c(11),S=N(w),x=c(3),m=N(x);function N(D){return D&&D.__esModule?D:{default:D}}function k(D,q,E){return q in D?Object.defineProperty(D,q,{value:E,enumerable:!0,configurable:!0,writable:!0}):D[q]=E,D}function T(D,q){if(!(D instanceof q))throw new TypeError("Cannot call a class as a function")}var C=/^[ -~]*$/,B=function(){function D(q){T(this,D),this.scroll=q,this.delta=this.getDelta()}return y(D,[{key:"applyDelta",value:function(E){var L=this,R=!1;this.scroll.update();var U=this.scroll.length();return this.scroll.batchStart(),E=Q(E),E.reduce(function(M,P){var I=P.retain||P.delete||P.insert.length||1,V=P.attributes||{};if(P.insert!=null){if(typeof P.insert=="string"){var W=P.insert;W.endsWith(`
`)&&R&&(R=!1,W=W.slice(0,-1)),M>=U&&!W.endsWith(`
`)&&(R=!0),L.scroll.insertAt(M,W);var Z=L.scroll.line(M),te=O(Z,2),re=te[0],oe=te[1],le=(0,m.default)({},(0,o.bubbleFormats)(re));if(re instanceof f.default){var ce=re.descendant(t.default.Leaf,oe),ve=O(ce,1),ee=ve[0];le=(0,m.default)(le,(0,o.bubbleFormats)(ee))}V=r.default.attributes.diff(le,V)||{}}else if(_(P.insert)==="object"){var H=Object.keys(P.insert)[0];if(H==null)return M;L.scroll.insertAt(M,H,P.insert[H])}U+=I}return Object.keys(V).forEach(function(G){L.scroll.formatAt(M,I,G,V[G])}),M+I},0),E.reduce(function(M,P){return typeof P.delete=="number"?(L.scroll.deleteAt(M,P.delete),M):M+(P.retain||P.insert.length||1)},0),this.scroll.batchEnd(),this.update(E)}},{key:"deleteText",value:function(E,L){return this.scroll.deleteAt(E,L),this.update(new v.default().retain(E).delete(L))}},{key:"formatLine",value:function(E,L){var R=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(U).forEach(function(M){if(!(R.scroll.whitelist!=null&&!R.scroll.whitelist[M])){var P=R.scroll.lines(E,Math.max(L,1)),I=L;P.forEach(function(V){var W=V.length();if(!(V instanceof a.default))V.format(M,U[M]);else{var Z=E-V.offset(R.scroll),te=V.newlineIndex(Z+I)-Z+1;V.formatAt(Z,te,M,U[M])}I-=W})}}),this.scroll.optimize(),this.update(new v.default().retain(E).retain(L,(0,g.default)(U)))}},{key:"formatText",value:function(E,L){var R=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(U).forEach(function(M){R.scroll.formatAt(E,L,M,U[M])}),this.update(new v.default().retain(E).retain(L,(0,g.default)(U)))}},{key:"getContents",value:function(E,L){return this.delta.slice(E,E+L)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(E,L){return E.concat(L.delta())},new v.default)}},{key:"getFormat",value:function(E){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=[],U=[];L===0?this.scroll.path(E).forEach(function(P){var I=O(P,1),V=I[0];V instanceof f.default?R.push(V):V instanceof t.default.Leaf&&U.push(V)}):(R=this.scroll.lines(E,L),U=this.scroll.descendants(t.default.Leaf,E,L));var M=[R,U].map(function(P){if(P.length===0)return{};for(var I=(0,o.bubbleFormats)(P.shift());Object.keys(I).length>0;){var V=P.shift();if(V==null)return I;I=F((0,o.bubbleFormats)(V),I)}return I});return m.default.apply(m.default,M)}},{key:"getText",value:function(E,L){return this.getContents(E,L).filter(function(R){return typeof R.insert=="string"}).map(function(R){return R.insert}).join("")}},{key:"insertEmbed",value:function(E,L,R){return this.scroll.insertAt(E,L,R),this.update(new v.default().retain(E).insert(k({},L,R)))}},{key:"insertText",value:function(E,L){var R=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return L=L.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(E,L),Object.keys(U).forEach(function(M){R.scroll.formatAt(E,L.length,M,U[M])}),this.update(new v.default().retain(E).insert(L,(0,g.default)(U)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var E=this.scroll.children.head;return E.statics.blotName!==f.default.blotName||E.children.length>1?!1:E.children.head instanceof h.default}},{key:"removeFormat",value:function(E,L){var R=this.getText(E,L),U=this.scroll.line(E+L),M=O(U,2),P=M[0],I=M[1],V=0,W=new v.default;P!=null&&(P instanceof a.default?V=P.newlineIndex(I)-I+1:V=P.length()-I,W=P.delta().slice(I,I+V-1).insert(`
`));var Z=this.getContents(E,L+V),te=Z.diff(new v.default().insert(R).concat(W)),re=new v.default().retain(E).concat(te);return this.applyDelta(re)}},{key:"update",value:function(E){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,U=this.delta;if(L.length===1&&L[0].type==="characterData"&&L[0].target.data.match(C)&&t.default.find(L[0].target)){var M=t.default.find(L[0].target),P=(0,o.bubbleFormats)(M),I=M.offset(this.scroll),V=L[0].oldValue.replace(i.default.CONTENTS,""),W=new v.default().insert(V),Z=new v.default().insert(M.value()),te=new v.default().retain(I).concat(W.diff(Z,R));E=te.reduce(function(re,oe){return oe.insert?re.insert(oe.insert,P):re.push(oe)},new v.default),this.delta=U.compose(E)}else this.delta=this.getDelta(),(!E||!(0,S.default)(U.compose(E),this.delta))&&(E=U.diff(this.delta,R));return E}}]),D}();function F(D,q){return Object.keys(q).reduce(function(E,L){return D[L]==null||(q[L]===D[L]?E[L]=q[L]:Array.isArray(q[L])?q[L].indexOf(D[L])<0&&(E[L]=q[L].concat([D[L]])):E[L]=[q[L],D[L]]),E},{})}function Q(D){return D.reduce(function(q,E){if(E.insert===1){var L=(0,g.default)(E.attributes);return delete L.image,q.insert({image:E.attributes.image},L)}if(E.attributes!=null&&(E.attributes.list===!0||E.attributes.bullet===!0)&&(E=(0,g.default)(E),E.attributes.list?E.attributes.list="ordered":(E.attributes.list="bullet",delete E.attributes.bullet)),typeof E.insert=="string"){var R=E.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return q.insert(R,E.attributes)}return q.push(E)},new v.default)}u.default=B},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.default=u.Range=void 0;var _=function(){function w(S,x){var m=[],N=!0,k=!1,T=void 0;try{for(var C=S[Symbol.iterator](),B;!(N=(B=C.next()).done)&&(m.push(B.value),!(x&&m.length===x));N=!0);}catch(F){k=!0,T=F}finally{try{!N&&C.return&&C.return()}finally{if(k)throw T}}return m}return function(S,x){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return w(S,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=function(){function w(S,x){for(var m=0;m<x.length;m++){var N=x[m];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(S,N.key,N)}}return function(S,x,m){return x&&w(S.prototype,x),m&&w(S,m),S}}(),y=c(0),p=i(y),v=c(21),d=i(v),r=c(11),e=i(r),t=c(8),s=i(t),a=c(10),l=i(a);function i(w){return w&&w.__esModule?w:{default:w}}function o(w){if(Array.isArray(w)){for(var S=0,x=Array(w.length);S<w.length;S++)x[S]=w[S];return x}else return Array.from(w)}function f(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}var n=(0,l.default)("quill:selection"),h=function w(S){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;f(this,w),this.index=S,this.length=x},A=function(){function w(S,x){var m=this;f(this,w),this.emitter=x,this.scroll=S,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=p.default.create("cursor",this),this.lastRange=this.savedRange=new h(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){m.mouseDown||setTimeout(m.update.bind(m,s.default.sources.USER),1)}),this.emitter.on(s.default.events.EDITOR_CHANGE,function(N,k){N===s.default.events.TEXT_CHANGE&&k.length()>0&&m.update(s.default.sources.SILENT)}),this.emitter.on(s.default.events.SCROLL_BEFORE_UPDATE,function(){if(m.hasFocus()){var N=m.getNativeRange();N!=null&&N.start.node!==m.cursor.textNode&&m.emitter.once(s.default.events.SCROLL_UPDATE,function(){try{m.setNativeRange(N.start.node,N.start.offset,N.end.node,N.end.offset)}catch{}})}}),this.emitter.on(s.default.events.SCROLL_OPTIMIZE,function(N,k){if(k.range){var T=k.range,C=T.startNode,B=T.startOffset,F=T.endNode,Q=T.endOffset;m.setNativeRange(C,B,F,Q)}}),this.update(s.default.sources.SILENT)}return O(w,[{key:"handleComposition",value:function(){var x=this;this.root.addEventListener("compositionstart",function(){x.composing=!0}),this.root.addEventListener("compositionend",function(){if(x.composing=!1,x.cursor.parent){var m=x.cursor.restore();if(!m)return;setTimeout(function(){x.setNativeRange(m.startNode,m.startOffset,m.endNode,m.endOffset)},1)}})}},{key:"handleDragging",value:function(){var x=this;this.emitter.listenDOM("mousedown",document.body,function(){x.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){x.mouseDown=!1,x.update(s.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(x,m){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[x])){this.scroll.update();var N=this.getNativeRange();if(!(N==null||!N.native.collapsed||p.default.query(x,p.default.Scope.BLOCK))){if(N.start.node!==this.cursor.textNode){var k=p.default.find(N.start.node,!1);if(k==null)return;if(k instanceof p.default.Leaf){var T=k.split(N.start.offset);k.parent.insertBefore(this.cursor,T)}else k.insertBefore(this.cursor,N.start.node);this.cursor.attach()}this.cursor.format(x,m),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(x){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=this.scroll.length();x=Math.min(x,N-1),m=Math.min(x+m,N-1)-x;var k=void 0,T=this.scroll.leaf(x),C=_(T,2),B=C[0],F=C[1];if(B==null)return null;var Q=B.position(F,!0),D=_(Q,2);k=D[0],F=D[1];var q=document.createRange();if(m>0){q.setStart(k,F);var E=this.scroll.leaf(x+m),L=_(E,2);if(B=L[0],F=L[1],B==null)return null;var R=B.position(F,!0),U=_(R,2);return k=U[0],F=U[1],q.setEnd(k,F),q.getBoundingClientRect()}else{var M="left",P=void 0;return k instanceof Text?(F<k.data.length?(q.setStart(k,F),q.setEnd(k,F+1)):(q.setStart(k,F-1),q.setEnd(k,F),M="right"),P=q.getBoundingClientRect()):(P=B.domNode.getBoundingClientRect(),F>0&&(M="right")),{bottom:P.top+P.height,height:P.height,left:P[M],right:P[M],top:P.top,width:0}}}},{key:"getNativeRange",value:function(){var x=document.getSelection();if(x==null||x.rangeCount<=0)return null;var m=x.getRangeAt(0);if(m==null)return null;var N=this.normalizeNative(m);return n.info("getNativeRange",N),N}},{key:"getRange",value:function(){var x=this.getNativeRange();if(x==null)return[null,null];var m=this.normalizedToRange(x);return[m,x]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(x){var m=this,N=[[x.start.node,x.start.offset]];x.native.collapsed||N.push([x.end.node,x.end.offset]);var k=N.map(function(B){var F=_(B,2),Q=F[0],D=F[1],q=p.default.find(Q,!0),E=q.offset(m.scroll);return D===0?E:q instanceof p.default.Container?E+q.length():E+q.index(Q,D)}),T=Math.min(Math.max.apply(Math,o(k)),this.scroll.length()-1),C=Math.min.apply(Math,[T].concat(o(k)));return new h(C,T-C)}},{key:"normalizeNative",value:function(x){if(!g(this.root,x.startContainer)||!x.collapsed&&!g(this.root,x.endContainer))return null;var m={start:{node:x.startContainer,offset:x.startOffset},end:{node:x.endContainer,offset:x.endOffset},native:x};return[m.start,m.end].forEach(function(N){for(var k=N.node,T=N.offset;!(k instanceof Text)&&k.childNodes.length>0;)if(k.childNodes.length>T)k=k.childNodes[T],T=0;else if(k.childNodes.length===T)k=k.lastChild,T=k instanceof Text?k.data.length:k.childNodes.length+1;else break;N.node=k,N.offset=T}),m}},{key:"rangeToNative",value:function(x){var m=this,N=x.collapsed?[x.index]:[x.index,x.index+x.length],k=[],T=this.scroll.length();return N.forEach(function(C,B){C=Math.min(T-1,C);var F=void 0,Q=m.scroll.leaf(C),D=_(Q,2),q=D[0],E=D[1],L=q.position(E,B!==0),R=_(L,2);F=R[0],E=R[1],k.push(F,E)}),k.length<2&&(k=k.concat(k)),k}},{key:"scrollIntoView",value:function(x){var m=this.lastRange;if(m!=null){var N=this.getBounds(m.index,m.length);if(N!=null){var k=this.scroll.length()-1,T=this.scroll.line(Math.min(m.index,k)),C=_(T,1),B=C[0],F=B;if(m.length>0){var Q=this.scroll.line(Math.min(m.index+m.length,k)),D=_(Q,1);F=D[0]}if(!(B==null||F==null)){var q=x.getBoundingClientRect();N.top<q.top?x.scrollTop-=q.top-N.top:N.bottom>q.bottom&&(x.scrollTop+=N.bottom-q.bottom)}}}}},{key:"setNativeRange",value:function(x,m){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:m,T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(n.info("setNativeRange",x,m,N,k),!(x!=null&&(this.root.parentNode==null||x.parentNode==null||N.parentNode==null))){var C=document.getSelection();if(C!=null)if(x!=null){this.hasFocus()||this.root.focus();var B=(this.getNativeRange()||{}).native;if(B==null||T||x!==B.startContainer||m!==B.startOffset||N!==B.endContainer||k!==B.endOffset){x.tagName=="BR"&&(m=[].indexOf.call(x.parentNode.childNodes,x),x=x.parentNode),N.tagName=="BR"&&(k=[].indexOf.call(N.parentNode.childNodes,N),N=N.parentNode);var F=document.createRange();F.setStart(x,m),F.setEnd(N,k),C.removeAllRanges(),C.addRange(F)}}else C.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(x){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.default.sources.API;if(typeof m=="string"&&(N=m,m=!1),n.info("setRange",x),x!=null){var k=this.rangeToNative(x);this.setNativeRange.apply(this,o(k).concat([m]))}else this.setNativeRange(null);this.update(N)}},{key:"update",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s.default.sources.USER,m=this.lastRange,N=this.getRange(),k=_(N,2),T=k[0],C=k[1];if(this.lastRange=T,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,e.default)(m,this.lastRange)){var B;!this.composing&&C!=null&&C.native.collapsed&&C.start.node!==this.cursor.textNode&&this.cursor.restore();var F=[s.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(m),x];if((B=this.emitter).emit.apply(B,[s.default.events.EDITOR_CHANGE].concat(F)),x!==s.default.sources.SILENT){var Q;(Q=this.emitter).emit.apply(Q,F)}}}}]),w}();function g(w,S){try{S.parentNode}catch{return!1}return S instanceof Text&&(S=S.parentNode),w.contains(S)}u.Range=h,u.default=A},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=function(){function s(a,l){for(var i=0;i<l.length;i++){var o=l[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(a,l,i){return l&&s(a.prototype,l),i&&s(a,i),a}}(),O=function s(a,l,i){a===null&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,l);if(o===void 0){var f=Object.getPrototypeOf(a);return f===null?void 0:s(f,l,i)}else{if("value"in o)return o.value;var n=o.get;return n===void 0?void 0:n.call(i)}},y=c(0),p=v(y);function v(s){return s&&s.__esModule?s:{default:s}}function d(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function r(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function e(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var t=function(s){e(a,s);function a(){return d(this,a),r(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return _(a,[{key:"insertInto",value:function(i,o){i.children.length===0?O(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"insertInto",this).call(this,i,o):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),a}(p.default.Embed);t.blotName="break",t.tagName="BR",u.default=t},function(j,u,c){var _=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])};return function(e,t){r(e,t);function s(){this.constructor=e}e.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}}();Object.defineProperty(u,"__esModule",{value:!0});var O=c(44),y=c(30),p=c(1),v=function(r){_(e,r);function e(t){var s=r.call(this,t)||this;return s.build(),s}return e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){r.prototype.attach.call(this),this.children.forEach(function(t){t.attach()})},e.prototype.build=function(){var t=this;this.children=new O.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(s){try{var a=d(s);t.insertBefore(a,t.children.head||void 0)}catch(l){if(l instanceof p.ParchmentError)return;throw l}})},e.prototype.deleteAt=function(t,s){if(t===0&&s===this.length())return this.remove();this.children.forEachAt(t,s,function(a,l,i){a.deleteAt(l,i)})},e.prototype.descendant=function(t,s){var a=this.children.find(s),l=a[0],i=a[1];return t.blotName==null&&t(l)||t.blotName!=null&&l instanceof t?[l,i]:l instanceof e?l.descendant(t,i):[null,-1]},e.prototype.descendants=function(t,s,a){s===void 0&&(s=0),a===void 0&&(a=Number.MAX_VALUE);var l=[],i=a;return this.children.forEachAt(s,a,function(o,f,n){(t.blotName==null&&t(o)||t.blotName!=null&&o instanceof t)&&l.push(o),o instanceof e&&(l=l.concat(o.descendants(t,f,i))),i-=n}),l},e.prototype.detach=function(){this.children.forEach(function(t){t.detach()}),r.prototype.detach.call(this)},e.prototype.formatAt=function(t,s,a,l){this.children.forEachAt(t,s,function(i,o,f){i.formatAt(o,f,a,l)})},e.prototype.insertAt=function(t,s,a){var l=this.children.find(t),i=l[0],o=l[1];if(i)i.insertAt(o,s,a);else{var f=a==null?p.create("text",s):p.create(s,a);this.appendChild(f)}},e.prototype.insertBefore=function(t,s){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(a){return t instanceof a}))throw new p.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,s)},e.prototype.length=function(){return this.children.reduce(function(t,s){return t+s.length()},0)},e.prototype.moveChildren=function(t,s){this.children.forEach(function(a){t.insertBefore(a,s)})},e.prototype.optimize=function(t){if(r.prototype.optimize.call(this,t),this.children.length===0)if(this.statics.defaultChild!=null){var s=p.create(this.statics.defaultChild);this.appendChild(s),s.optimize(t)}else this.remove()},e.prototype.path=function(t,s){s===void 0&&(s=!1);var a=this.children.find(t,s),l=a[0],i=a[1],o=[[this,t]];return l instanceof e?o.concat(l.path(i,s)):(l!=null&&o.push([l,i]),o)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(t){t instanceof e&&t.moveChildren(this),r.prototype.replace.call(this,t)},e.prototype.split=function(t,s){if(s===void 0&&(s=!1),!s){if(t===0)return this;if(t===this.length())return this.next}var a=this.clone();return this.parent.insertBefore(a,this.next),this.children.forEachAt(t,this.length(),function(l,i,o){l=l.split(i,s),a.appendChild(l)}),a},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,s){var a=this,l=[],i=[];t.forEach(function(o){o.target===a.domNode&&o.type==="childList"&&(l.push.apply(l,o.addedNodes),i.push.apply(i,o.removedNodes))}),i.forEach(function(o){if(!(o.parentNode!=null&&o.tagName!=="IFRAME"&&document.body.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var f=p.find(o);f!=null&&(f.domNode.parentNode==null||f.domNode.parentNode===a.domNode)&&f.detach()}}),l.filter(function(o){return o.parentNode==a.domNode}).sort(function(o,f){return o===f?0:o.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(o){var f=null;o.nextSibling!=null&&(f=p.find(o.nextSibling));var n=d(o);(n.next!=f||n.next==null)&&(n.parent!=null&&n.parent.removeChild(a),a.insertBefore(n,f||void 0))})},e}(y.default);function d(r){var e=p.find(r);if(e==null)try{e=p.create(r)}catch{e=p.create(p.Scope.INLINE),[].slice.call(r.childNodes).forEach(function(s){e.domNode.appendChild(s)}),r.parentNode&&r.parentNode.replaceChild(e.domNode,r),e.attach()}return e}u.default=v},function(j,u,c){var _=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])};return function(e,t){r(e,t);function s(){this.constructor=e}e.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}}();Object.defineProperty(u,"__esModule",{value:!0});var O=c(12),y=c(31),p=c(17),v=c(1),d=function(r){_(e,r);function e(t){var s=r.call(this,t)||this;return s.attributes=new y.default(s.domNode),s}return e.formats=function(t){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()},e.prototype.format=function(t,s){var a=v.query(t);a instanceof O.default?this.attributes.attribute(a,s):s&&a!=null&&(t!==this.statics.blotName||this.formats()[t]!==s)&&this.replaceWith(t,s)},e.prototype.formats=function(){var t=this.attributes.values(),s=this.statics.formats(this.domNode);return s!=null&&(t[this.statics.blotName]=s),t},e.prototype.replaceWith=function(t,s){var a=r.prototype.replaceWith.call(this,t,s);return this.attributes.copy(a),a},e.prototype.update=function(t,s){var a=this;r.prototype.update.call(this,t,s),t.some(function(l){return l.target===a.domNode&&l.type==="attributes"})&&this.attributes.build()},e.prototype.wrap=function(t,s){var a=r.prototype.wrap.call(this,t,s);return a instanceof e&&a.statics.scope===this.statics.scope&&this.attributes.move(a),a},e}(p.default);u.default=d},function(j,u,c){var _=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,r){d.__proto__=r}||function(d,r){for(var e in r)r.hasOwnProperty(e)&&(d[e]=r[e])};return function(d,r){v(d,r);function e(){this.constructor=d}d.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}}();Object.defineProperty(u,"__esModule",{value:!0});var O=c(30),y=c(1),p=function(v){_(d,v);function d(){return v!==null&&v.apply(this,arguments)||this}return d.value=function(r){return!0},d.prototype.index=function(r,e){return this.domNode===r||this.domNode.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},d.prototype.position=function(r,e){var t=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return r>0&&(t+=1),[this.parent.domNode,t]},d.prototype.value=function(){var r;return r={},r[this.statics.blotName]=this.statics.value(this.domNode)||!0,r},d.scope=y.Scope.INLINE_BLOT,d}(O.default);u.default=p},function(j,u,c){var _=c(11),O=c(3),y={attributes:{compose:function(v,d,r){typeof v!="object"&&(v={}),typeof d!="object"&&(d={});var e=O(!0,{},d);r||(e=Object.keys(e).reduce(function(s,a){return e[a]!=null&&(s[a]=e[a]),s},{}));for(var t in v)v[t]!==void 0&&d[t]===void 0&&(e[t]=v[t]);return Object.keys(e).length>0?e:void 0},diff:function(v,d){typeof v!="object"&&(v={}),typeof d!="object"&&(d={});var r=Object.keys(v).concat(Object.keys(d)).reduce(function(e,t){return _(v[t],d[t])||(e[t]=d[t]===void 0?null:d[t]),e},{});return Object.keys(r).length>0?r:void 0},transform:function(v,d,r){if(typeof v!="object")return d;if(typeof d=="object"){if(!r)return d;var e=Object.keys(d).reduce(function(t,s){return v[s]===void 0&&(t[s]=d[s]),t},{});return Object.keys(e).length>0?e:void 0}}},iterator:function(v){return new p(v)},length:function(v){return typeof v.delete=="number"?v.delete:typeof v.retain=="number"?v.retain:typeof v.insert=="string"?v.insert.length:1}};function p(v){this.ops=v,this.index=0,this.offset=0}p.prototype.hasNext=function(){return this.peekLength()<1/0},p.prototype.next=function(v){v||(v=1/0);var d=this.ops[this.index];if(d){var r=this.offset,e=y.length(d);if(v>=e-r?(v=e-r,this.index+=1,this.offset=0):this.offset+=v,typeof d.delete=="number")return{delete:v};var t={};return d.attributes&&(t.attributes=d.attributes),typeof d.retain=="number"?t.retain=v:typeof d.insert=="string"?t.insert=d.insert.substr(r,v):t.insert=d.insert,t}else return{retain:1/0}},p.prototype.peek=function(){return this.ops[this.index]},p.prototype.peekLength=function(){return this.ops[this.index]?y.length(this.ops[this.index])-this.offset:1/0},p.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},p.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var v=this.offset,d=this.index,r=this.next(),e=this.ops.slice(this.index);return this.offset=v,this.index=d,[r].concat(e)}else return[]},j.exports=y},function(j,u){var c=function(){function _(a,l){return l!=null&&a instanceof l}var O;try{O=Map}catch{O=function(){}}var y;try{y=Set}catch{y=function(){}}var p;try{p=Promise}catch{p=function(){}}function v(a,l,i,o,f){typeof l=="object"&&(i=l.depth,o=l.prototype,f=l.includeNonEnumerable,l=l.circular);var n=[],h=[],A=typeof Buffer<"u";typeof l>"u"&&(l=!0),typeof i>"u"&&(i=1/0);function g(w,S){if(w===null)return null;if(S===0)return w;var x,m;if(typeof w!="object")return w;if(_(w,O))x=new O;else if(_(w,y))x=new y;else if(_(w,p))x=new p(function(q,E){w.then(function(L){q(g(L,S-1))},function(L){E(g(L,S-1))})});else if(v.__isArray(w))x=[];else if(v.__isRegExp(w))x=new RegExp(w.source,s(w)),w.lastIndex&&(x.lastIndex=w.lastIndex);else if(v.__isDate(w))x=new Date(w.getTime());else{if(A&&Buffer.isBuffer(w))return Buffer.allocUnsafe?x=Buffer.allocUnsafe(w.length):x=new Buffer(w.length),w.copy(x),x;_(w,Error)?x=Object.create(w):typeof o>"u"?(m=Object.getPrototypeOf(w),x=Object.create(m)):(x=Object.create(o),m=o)}if(l){var N=n.indexOf(w);if(N!=-1)return h[N];n.push(w),h.push(x)}_(w,O)&&w.forEach(function(q,E){var L=g(E,S-1),R=g(q,S-1);x.set(L,R)}),_(w,y)&&w.forEach(function(q){var E=g(q,S-1);x.add(E)});for(var k in w){var T;m&&(T=Object.getOwnPropertyDescriptor(m,k)),!(T&&T.set==null)&&(x[k]=g(w[k],S-1))}if(Object.getOwnPropertySymbols)for(var C=Object.getOwnPropertySymbols(w),k=0;k<C.length;k++){var B=C[k],F=Object.getOwnPropertyDescriptor(w,B);F&&!F.enumerable&&!f||(x[B]=g(w[B],S-1),F.enumerable||Object.defineProperty(x,B,{enumerable:!1}))}if(f)for(var Q=Object.getOwnPropertyNames(w),k=0;k<Q.length;k++){var D=Q[k],F=Object.getOwnPropertyDescriptor(w,D);F&&F.enumerable||(x[D]=g(w[D],S-1),Object.defineProperty(x,D,{enumerable:!1}))}return x}return g(a,i)}v.clonePrototype=function(l){if(l===null)return null;var i=function(){};return i.prototype=l,new i};function d(a){return Object.prototype.toString.call(a)}v.__objToStr=d;function r(a){return typeof a=="object"&&d(a)==="[object Date]"}v.__isDate=r;function e(a){return typeof a=="object"&&d(a)==="[object Array]"}v.__isArray=e;function t(a){return typeof a=="object"&&d(a)==="[object RegExp]"}v.__isRegExp=t;function s(a){var l="";return a.global&&(l+="g"),a.ignoreCase&&(l+="i"),a.multiline&&(l+="m"),l}return v.__getRegExpFlags=s,v}();typeof j=="object"&&j.exports&&(j.exports=c)},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=function(){function x(m,N){var k=[],T=!0,C=!1,B=void 0;try{for(var F=m[Symbol.iterator](),Q;!(T=(Q=F.next()).done)&&(k.push(Q.value),!(N&&k.length===N));T=!0);}catch(D){C=!0,B=D}finally{try{!T&&F.return&&F.return()}finally{if(C)throw B}}return k}return function(m,N){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return x(m,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=function(){function x(m,N){for(var k=0;k<N.length;k++){var T=N[k];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(m,T.key,T)}}return function(m,N,k){return N&&x(m.prototype,N),k&&x(m,k),m}}(),y=function x(m,N,k){m===null&&(m=Function.prototype);var T=Object.getOwnPropertyDescriptor(m,N);if(T===void 0){var C=Object.getPrototypeOf(m);return C===null?void 0:x(C,N,k)}else{if("value"in T)return T.value;var B=T.get;return B===void 0?void 0:B.call(k)}},p=c(0),v=n(p),d=c(8),r=n(d),e=c(4),t=n(e),s=c(16),a=n(s),l=c(13),i=n(l),o=c(25),f=n(o);function n(x){return x&&x.__esModule?x:{default:x}}function h(x,m){if(!(x instanceof m))throw new TypeError("Cannot call a class as a function")}function A(x,m){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:x}function g(x,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);x.prototype=Object.create(m&&m.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(x,m):x.__proto__=m)}function w(x){return x instanceof t.default||x instanceof e.BlockEmbed}var S=function(x){g(m,x);function m(N,k){h(this,m);var T=A(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,N));return T.emitter=k.emitter,Array.isArray(k.whitelist)&&(T.whitelist=k.whitelist.reduce(function(C,B){return C[B]=!0,C},{})),T.domNode.addEventListener("DOMNodeInserted",function(){}),T.optimize(),T.enable(),T}return O(m,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(k,T){var C=this.line(k),B=_(C,2),F=B[0],Q=B[1],D=this.line(k+T),q=_(D,1),E=q[0];if(y(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"deleteAt",this).call(this,k,T),E!=null&&F!==E&&Q>0){if(F instanceof e.BlockEmbed||E instanceof e.BlockEmbed){this.optimize();return}if(F instanceof i.default){var L=F.newlineIndex(F.length(),!0);if(L>-1&&(F=F.split(L+1),F===E)){this.optimize();return}}else if(E instanceof i.default){var R=E.newlineIndex(0);R>-1&&E.split(R+1)}var U=E.children.head instanceof a.default?null:E.children.head;F.moveChildren(E,U),F.remove()}this.optimize()}},{key:"enable",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",k)}},{key:"formatAt",value:function(k,T,C,B){this.whitelist!=null&&!this.whitelist[C]||(y(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"formatAt",this).call(this,k,T,C,B),this.optimize())}},{key:"insertAt",value:function(k,T,C){if(!(C!=null&&this.whitelist!=null&&!this.whitelist[T])){if(k>=this.length())if(C==null||v.default.query(T,v.default.Scope.BLOCK)==null){var B=v.default.create(this.statics.defaultChild);this.appendChild(B),C==null&&T.endsWith(`
`)&&(T=T.slice(0,-1)),B.insertAt(0,T,C)}else{var F=v.default.create(T,C);this.appendChild(F)}else y(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertAt",this).call(this,k,T,C);this.optimize()}}},{key:"insertBefore",value:function(k,T){if(k.statics.scope===v.default.Scope.INLINE_BLOT){var C=v.default.create(this.statics.defaultChild);C.appendChild(k),k=C}y(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertBefore",this).call(this,k,T)}},{key:"leaf",value:function(k){return this.path(k).pop()||[null,-1]}},{key:"line",value:function(k){return k===this.length()?this.line(k-1):this.descendant(w,k)}},{key:"lines",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,C=function B(F,Q,D){var q=[],E=D;return F.children.forEachAt(Q,D,function(L,R,U){w(L)?q.push(L):L instanceof v.default.Container&&(q=q.concat(B(L,R,E))),E-=U}),q};return C(this,k,T)}},{key:"optimize",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(y(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,k,T),k.length>0&&this.emitter.emit(r.default.events.SCROLL_OPTIMIZE,k,T))}},{key:"path",value:function(k){return y(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"path",this).call(this,k).slice(1)}},{key:"update",value:function(k){if(this.batch!==!0){var T=r.default.sources.USER;typeof k=="string"&&(T=k),Array.isArray(k)||(k=this.observer.takeRecords()),k.length>0&&this.emitter.emit(r.default.events.SCROLL_BEFORE_UPDATE,T,k),y(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"update",this).call(this,k.concat([])),k.length>0&&this.emitter.emit(r.default.events.SCROLL_UPDATE,T,k)}}}]),m}(v.default.Scroll);S.blotName="scroll",S.className="ql-editor",S.tagName="DIV",S.defaultChild="block",S.allowedChildren=[t.default,e.BlockEmbed,f.default],u.default=S},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.SHORTKEY=u.default=void 0;var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},O=function(){function P(I,V){var W=[],Z=!0,te=!1,re=void 0;try{for(var oe=I[Symbol.iterator](),le;!(Z=(le=oe.next()).done)&&(W.push(le.value),!(V&&W.length===V));Z=!0);}catch(ce){te=!0,re=ce}finally{try{!Z&&oe.return&&oe.return()}finally{if(te)throw re}}return W}return function(I,V){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return P(I,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function P(I,V){for(var W=0;W<V.length;W++){var Z=V[W];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(I,Z.key,Z)}}return function(I,V,W){return V&&P(I.prototype,V),W&&P(I,W),I}}(),p=c(21),v=x(p),d=c(11),r=x(d),e=c(3),t=x(e),s=c(2),a=x(s),l=c(20),i=x(l),o=c(0),f=x(o),n=c(5),h=x(n),A=c(10),g=x(A),w=c(9),S=x(w);function x(P){return P&&P.__esModule?P:{default:P}}function m(P,I,V){return I in P?Object.defineProperty(P,I,{value:V,enumerable:!0,configurable:!0,writable:!0}):P[I]=V,P}function N(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}function k(P,I){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:P}function T(P,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);P.prototype=Object.create(I&&I.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(P,I):P.__proto__=I)}var C=(0,g.default)("quill:keyboard"),B=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",F=function(P){T(I,P),y(I,null,[{key:"match",value:function(W,Z){return Z=M(Z),["altKey","ctrlKey","metaKey","shiftKey"].some(function(te){return!!Z[te]!==W[te]&&Z[te]!==null})?!1:Z.key===(W.which||W.keyCode)}}]);function I(V,W){N(this,I);var Z=k(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,V,W));return Z.bindings={},Object.keys(Z.options.bindings).forEach(function(te){te==="list autofill"&&V.scroll.whitelist!=null&&!V.scroll.whitelist.list||Z.options.bindings[te]&&Z.addBinding(Z.options.bindings[te])}),Z.addBinding({key:I.keys.ENTER,shiftKey:null},L),Z.addBinding({key:I.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Z.addBinding({key:I.keys.BACKSPACE},{collapsed:!0},D),Z.addBinding({key:I.keys.DELETE},{collapsed:!0},q)):(Z.addBinding({key:I.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},D),Z.addBinding({key:I.keys.DELETE},{collapsed:!0,suffix:/^.?$/},q)),Z.addBinding({key:I.keys.BACKSPACE},{collapsed:!1},E),Z.addBinding({key:I.keys.DELETE},{collapsed:!1},E),Z.addBinding({key:I.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},D),Z.listen(),Z}return y(I,[{key:"addBinding",value:function(W){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},re=M(W);if(re==null||re.key==null)return C.warn("Attempted to add invalid keyboard binding",re);typeof Z=="function"&&(Z={handler:Z}),typeof te=="function"&&(te={handler:te}),re=(0,t.default)(re,Z,te),this.bindings[re.key]=this.bindings[re.key]||[],this.bindings[re.key].push(re)}},{key:"listen",value:function(){var W=this;this.quill.root.addEventListener("keydown",function(Z){if(!Z.defaultPrevented){var te=Z.which||Z.keyCode,re=(W.bindings[te]||[]).filter(function(fe){return I.match(Z,fe)});if(re.length!==0){var oe=W.quill.getSelection();if(!(oe==null||!W.quill.hasFocus())){var le=W.quill.getLine(oe.index),ce=O(le,2),ve=ce[0],ee=ce[1],H=W.quill.getLeaf(oe.index),G=O(H,2),X=G[0],$=G[1],Y=oe.length===0?[X,$]:W.quill.getLeaf(oe.index+oe.length),ae=O(Y,2),ne=ae[0],ie=ae[1],se=X instanceof f.default.Text?X.value().slice(0,$):"",de=ne instanceof f.default.Text?ne.value().slice(ie):"",ue={collapsed:oe.length===0,empty:oe.length===0&&ve.length()<=1,format:W.quill.getFormat(oe),offset:ee,prefix:se,suffix:de},me=re.some(function(fe){if(fe.collapsed!=null&&fe.collapsed!==ue.collapsed||fe.empty!=null&&fe.empty!==ue.empty||fe.offset!=null&&fe.offset!==ue.offset)return!1;if(Array.isArray(fe.format)){if(fe.format.every(function(ye){return ue.format[ye]==null}))return!1}else if(_(fe.format)==="object"&&!Object.keys(fe.format).every(function(ye){return fe.format[ye]===!0?ue.format[ye]!=null:fe.format[ye]===!1?ue.format[ye]==null:(0,r.default)(fe.format[ye],ue.format[ye])}))return!1;return fe.prefix!=null&&!fe.prefix.test(ue.prefix)||fe.suffix!=null&&!fe.suffix.test(ue.suffix)?!1:fe.handler.call(W,oe,ue)!==!0});me&&Z.preventDefault()}}}})}}]),I}(S.default);F.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},F.DEFAULTS={bindings:{bold:U("bold"),italic:U("italic"),underline:U("underline"),indent:{key:F.keys.TAB,format:["blockquote","indent","list"],handler:function(I,V){if(V.collapsed&&V.offset!==0)return!0;this.quill.format("indent","+1",h.default.sources.USER)}},outdent:{key:F.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(I,V){if(V.collapsed&&V.offset!==0)return!0;this.quill.format("indent","-1",h.default.sources.USER)}},"outdent backspace":{key:F.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(I,V){V.format.indent!=null?this.quill.format("indent","-1",h.default.sources.USER):V.format.list!=null&&this.quill.format("list",!1,h.default.sources.USER)}},"indent code-block":R(!0),"outdent code-block":R(!1),"remove tab":{key:F.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(I){this.quill.deleteText(I.index-1,1,h.default.sources.USER)}},tab:{key:F.keys.TAB,handler:function(I){this.quill.history.cutoff();var V=new a.default().retain(I.index).delete(I.length).insert("	");this.quill.updateContents(V,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(I.index+1,h.default.sources.SILENT)}},"list empty enter":{key:F.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(I,V){this.quill.format("list",!1,h.default.sources.USER),V.format.indent&&this.quill.format("indent",!1,h.default.sources.USER)}},"checklist enter":{key:F.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(I){var V=this.quill.getLine(I.index),W=O(V,2),Z=W[0],te=W[1],re=(0,t.default)({},Z.formats(),{list:"checked"}),oe=new a.default().retain(I.index).insert(`
`,re).retain(Z.length()-te-1).retain(1,{list:"unchecked"});this.quill.updateContents(oe,h.default.sources.USER),this.quill.setSelection(I.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:F.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(I,V){var W=this.quill.getLine(I.index),Z=O(W,2),te=Z[0],re=Z[1],oe=new a.default().retain(I.index).insert(`
`,V.format).retain(te.length()-re-1).retain(1,{header:null});this.quill.updateContents(oe,h.default.sources.USER),this.quill.setSelection(I.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(I,V){var W=V.prefix.length,Z=this.quill.getLine(I.index),te=O(Z,2),re=te[0],oe=te[1];if(oe>W)return!0;var le=void 0;switch(V.prefix.trim()){case"[]":case"[ ]":le="unchecked";break;case"[x]":le="checked";break;case"-":case"*":le="bullet";break;default:le="ordered"}this.quill.insertText(I.index," ",h.default.sources.USER),this.quill.history.cutoff();var ce=new a.default().retain(I.index-oe).delete(W+1).retain(re.length()-2-oe).retain(1,{list:le});this.quill.updateContents(ce,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(I.index-W,h.default.sources.SILENT)}},"code exit":{key:F.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(I){var V=this.quill.getLine(I.index),W=O(V,2),Z=W[0],te=W[1],re=new a.default().retain(I.index+Z.length()-te-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(re,h.default.sources.USER)}},"embed left":Q(F.keys.LEFT,!1),"embed left shift":Q(F.keys.LEFT,!0),"embed right":Q(F.keys.RIGHT,!1),"embed right shift":Q(F.keys.RIGHT,!0)}};function Q(P,I){var V,W=P===F.keys.LEFT?"prefix":"suffix";return V={key:P,shiftKey:I,altKey:null},m(V,W,/^$/),m(V,"handler",function(te){var re=te.index;P===F.keys.RIGHT&&(re+=te.length+1);var oe=this.quill.getLeaf(re),le=O(oe,1),ce=le[0];return ce instanceof f.default.Embed?(P===F.keys.LEFT?I?this.quill.setSelection(te.index-1,te.length+1,h.default.sources.USER):this.quill.setSelection(te.index-1,h.default.sources.USER):I?this.quill.setSelection(te.index,te.length+1,h.default.sources.USER):this.quill.setSelection(te.index+te.length+1,h.default.sources.USER),!1):!0}),V}function D(P,I){if(!(P.index===0||this.quill.getLength()<=1)){var V=this.quill.getLine(P.index),W=O(V,1),Z=W[0],te={};if(I.offset===0){var re=this.quill.getLine(P.index-1),oe=O(re,1),le=oe[0];if(le!=null&&le.length()>1){var ce=Z.formats(),ve=this.quill.getFormat(P.index-1,1);te=i.default.attributes.diff(ce,ve)||{}}}var ee=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(I.prefix)?2:1;this.quill.deleteText(P.index-ee,ee,h.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine(P.index-ee,ee,te,h.default.sources.USER),this.quill.focus()}}function q(P,I){var V=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(I.suffix)?2:1;if(!(P.index>=this.quill.getLength()-V)){var W={},Z=0,te=this.quill.getLine(P.index),re=O(te,1),oe=re[0];if(I.offset>=oe.length()-1){var le=this.quill.getLine(P.index+1),ce=O(le,1),ve=ce[0];if(ve){var ee=oe.formats(),H=this.quill.getFormat(P.index,1);W=i.default.attributes.diff(ee,H)||{},Z=ve.length()}}this.quill.deleteText(P.index,V,h.default.sources.USER),Object.keys(W).length>0&&this.quill.formatLine(P.index+Z-1,V,W,h.default.sources.USER)}}function E(P){var I=this.quill.getLines(P),V={};if(I.length>1){var W=I[0].formats(),Z=I[I.length-1].formats();V=i.default.attributes.diff(Z,W)||{}}this.quill.deleteText(P,h.default.sources.USER),Object.keys(V).length>0&&this.quill.formatLine(P.index,1,V,h.default.sources.USER),this.quill.setSelection(P.index,h.default.sources.SILENT),this.quill.focus()}function L(P,I){var V=this;P.length>0&&this.quill.scroll.deleteAt(P.index,P.length);var W=Object.keys(I.format).reduce(function(Z,te){return f.default.query(te,f.default.Scope.BLOCK)&&!Array.isArray(I.format[te])&&(Z[te]=I.format[te]),Z},{});this.quill.insertText(P.index,`
`,W,h.default.sources.USER),this.quill.setSelection(P.index+1,h.default.sources.SILENT),this.quill.focus(),Object.keys(I.format).forEach(function(Z){W[Z]==null&&(Array.isArray(I.format[Z])||Z!=="link"&&V.quill.format(Z,I.format[Z],h.default.sources.USER))})}function R(P){return{key:F.keys.TAB,shiftKey:!P,format:{"code-block":!0},handler:function(V){var W=f.default.query("code-block"),Z=V.index,te=V.length,re=this.quill.scroll.descendant(W,Z),oe=O(re,2),le=oe[0],ce=oe[1];if(le!=null){var ve=this.quill.getIndex(le),ee=le.newlineIndex(ce,!0)+1,H=le.newlineIndex(ve+ce+te),G=le.domNode.textContent.slice(ee,H).split(`
`);ce=0,G.forEach(function(X,$){P?(le.insertAt(ee+ce,W.TAB),ce+=W.TAB.length,$===0?Z+=W.TAB.length:te+=W.TAB.length):X.startsWith(W.TAB)&&(le.deleteAt(ee+ce,W.TAB.length),ce-=W.TAB.length,$===0?Z-=W.TAB.length:te-=W.TAB.length),ce+=X.length+1}),this.quill.update(h.default.sources.USER),this.quill.setSelection(Z,te,h.default.sources.SILENT)}}}}function U(P){return{key:P[0].toUpperCase(),shortKey:!0,handler:function(V,W){this.quill.format(P,!W.format[P],h.default.sources.USER)}}}function M(P){if(typeof P=="string"||typeof P=="number")return M({key:P});if((typeof P>"u"?"undefined":_(P))==="object"&&(P=(0,v.default)(P,!1)),typeof P.key=="string")if(F.keys[P.key.toUpperCase()]!=null)P.key=F.keys[P.key.toUpperCase()];else if(P.key.length===1)P.key=P.key.toUpperCase().charCodeAt(0);else return null;return P.shortKey&&(P[B]=P.shortKey,delete P.shortKey),P}u.default=F,u.SHORTKEY=B},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=function(){function i(o,f){var n=[],h=!0,A=!1,g=void 0;try{for(var w=o[Symbol.iterator](),S;!(h=(S=w.next()).done)&&(n.push(S.value),!(f&&n.length===f));h=!0);}catch(x){A=!0,g=x}finally{try{!h&&w.return&&w.return()}finally{if(A)throw g}}return n}return function(o,f){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return i(o,f);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=function i(o,f,n){o===null&&(o=Function.prototype);var h=Object.getOwnPropertyDescriptor(o,f);if(h===void 0){var A=Object.getPrototypeOf(o);return A===null?void 0:i(A,f,n)}else{if("value"in h)return h.value;var g=h.get;return g===void 0?void 0:g.call(n)}},y=function(){function i(o,f){for(var n=0;n<f.length;n++){var h=f[n];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(o,h.key,h)}}return function(o,f,n){return f&&i(o.prototype,f),n&&i(o,n),o}}(),p=c(0),v=e(p),d=c(7),r=e(d);function e(i){return i&&i.__esModule?i:{default:i}}function t(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function s(i,o){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:i}function a(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(i,o):i.__proto__=o)}var l=function(i){a(o,i),y(o,null,[{key:"value",value:function(){}}]);function o(f,n){t(this,o);var h=s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,f));return h.selection=n,h.textNode=document.createTextNode(o.CONTENTS),h.domNode.appendChild(h.textNode),h._length=0,h}return y(o,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(n,h){if(this._length!==0)return O(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"format",this).call(this,n,h);for(var A=this,g=0;A!=null&&A.statics.scope!==v.default.Scope.BLOCK_BLOT;)g+=A.offset(A.parent),A=A.parent;A!=null&&(this._length=o.CONTENTS.length,A.optimize(),A.formatAt(g,o.CONTENTS.length,n,h),this._length=0)}},{key:"index",value:function(n,h){return n===this.textNode?0:O(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"index",this).call(this,n,h)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){O(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var n=this.textNode,h=this.selection.getNativeRange(),A=void 0,g=void 0,w=void 0;if(h!=null&&h.start.node===n&&h.end.node===n){var S=[n,h.start.offset,h.end.offset];A=S[0],g=S[1],w=S[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==o.CONTENTS){var x=this.textNode.data.split(o.CONTENTS).join("");this.next instanceof r.default?(A=this.next.domNode,this.next.insertAt(0,x),this.textNode.data=o.CONTENTS):(this.textNode.data=x,this.parent.insertBefore(v.default.create(this.textNode),this),this.textNode=document.createTextNode(o.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),g!=null){var m=[g,w].map(function(k){return Math.max(0,Math.min(A.data.length,k-1))}),N=_(m,2);return g=N[0],w=N[1],{startNode:A,startOffset:g,endNode:A,endOffset:w}}}}},{key:"update",value:function(n,h){var A=this;if(n.some(function(w){return w.type==="characterData"&&w.target===A.textNode})){var g=this.restore();g&&(h.range=g)}}},{key:"value",value:function(){return""}}]),o}(v.default.Embed);l.blotName="cursor",l.className="ql-cursor",l.tagName="span",l.CONTENTS="\uFEFF",u.default=l},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=c(0),O=v(_),y=c(4),p=v(y);function v(s){return s&&s.__esModule?s:{default:s}}function d(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function r(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function e(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var t=function(s){e(a,s);function a(){return d(this,a),r(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return a}(O.default.Container);t.allowedChildren=[p.default,y.BlockEmbed,t],u.default=t},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.ColorStyle=u.ColorClass=u.ColorAttributor=void 0;var _=function(){function l(i,o){for(var f=0;f<o.length;f++){var n=o[f];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,o,f){return o&&l(i.prototype,o),f&&l(i,f),i}}(),O=function l(i,o,f){i===null&&(i=Function.prototype);var n=Object.getOwnPropertyDescriptor(i,o);if(n===void 0){var h=Object.getPrototypeOf(i);return h===null?void 0:l(h,o,f)}else{if("value"in n)return n.value;var A=n.get;return A===void 0?void 0:A.call(f)}},y=c(0),p=v(y);function v(l){return l&&l.__esModule?l:{default:l}}function d(l,i){if(!(l instanceof i))throw new TypeError("Cannot call a class as a function")}function r(l,i){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:l}function e(l,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);l.prototype=Object.create(i&&i.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(l,i):l.__proto__=i)}var t=function(l){e(i,l);function i(){return d(this,i),r(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _(i,[{key:"value",value:function(f){var n=O(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"value",this).call(this,f);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map(function(h){return("00"+parseInt(h).toString(16)).slice(-2)}).join("")):n}}]),i}(p.default.Attributor.Style),s=new p.default.Attributor.Class("color","ql-color",{scope:p.default.Scope.INLINE}),a=new t("color","color",{scope:p.default.Scope.INLINE});u.ColorAttributor=t,u.ColorClass=s,u.ColorStyle=a},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.sanitize=u.default=void 0;var _=function(){function a(l,i){for(var o=0;o<i.length;o++){var f=i[o];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,i,o){return i&&a(l.prototype,i),o&&a(l,o),l}}(),O=function a(l,i,o){l===null&&(l=Function.prototype);var f=Object.getOwnPropertyDescriptor(l,i);if(f===void 0){var n=Object.getPrototypeOf(l);return n===null?void 0:a(n,i,o)}else{if("value"in f)return f.value;var h=f.get;return h===void 0?void 0:h.call(o)}},y=c(6),p=v(y);function v(a){return a&&a.__esModule?a:{default:a}}function d(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}function r(a,l){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:a}function e(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);a.prototype=Object.create(l&&l.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(a,l):a.__proto__=l)}var t=function(a){e(l,a);function l(){return d(this,l),r(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return _(l,[{key:"format",value:function(o,f){if(o!==this.statics.blotName||!f)return O(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"format",this).call(this,o,f);f=this.constructor.sanitize(f),this.domNode.setAttribute("href",f)}}],[{key:"create",value:function(o){var f=O(l.__proto__||Object.getPrototypeOf(l),"create",this).call(this,o);return o=this.sanitize(o),f.setAttribute("href",o),f.setAttribute("rel","noopener noreferrer"),f.setAttribute("target","_blank"),f}},{key:"formats",value:function(o){return o.getAttribute("href")}},{key:"sanitize",value:function(o){return s(o,this.PROTOCOL_WHITELIST)?o:this.SANITIZED_URL}}]),l}(p.default);t.blotName="link",t.tagName="A",t.SANITIZED_URL="about:blank",t.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function s(a,l){var i=document.createElement("a");i.href=a;var o=i.href.slice(0,i.href.indexOf(":"));return l.indexOf(o)>-1}u.default=t,u.sanitize=s},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},O=function(){function l(i,o){for(var f=0;f<o.length;f++){var n=o[f];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,o,f){return o&&l(i.prototype,o),f&&l(i,f),i}}(),y=c(23),p=r(y),v=c(107),d=r(v);function r(l){return l&&l.__esModule?l:{default:l}}function e(l,i){if(!(l instanceof i))throw new TypeError("Cannot call a class as a function")}var t=0;function s(l,i){l.setAttribute(i,l.getAttribute(i)!=="true")}var a=function(){function l(i){var o=this;e(this,l),this.select=i,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){o.togglePicker()}),this.label.addEventListener("keydown",function(f){switch(f.keyCode){case p.default.keys.ENTER:o.togglePicker();break;case p.default.keys.ESCAPE:o.escape(),f.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return O(l,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),s(this.label,"aria-expanded"),s(this.options,"aria-hidden")}},{key:"buildItem",value:function(o){var f=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),o.hasAttribute("value")&&n.setAttribute("data-value",o.getAttribute("value")),o.textContent&&n.setAttribute("data-label",o.textContent),n.addEventListener("click",function(){f.selectItem(n,!0)}),n.addEventListener("keydown",function(h){switch(h.keyCode){case p.default.keys.ENTER:f.selectItem(n,!0),h.preventDefault();break;case p.default.keys.ESCAPE:f.escape(),h.preventDefault();break}}),n}},{key:"buildLabel",value:function(){var o=document.createElement("span");return o.classList.add("ql-picker-label"),o.innerHTML=d.default,o.tabIndex="0",o.setAttribute("role","button"),o.setAttribute("aria-expanded","false"),this.container.appendChild(o),o}},{key:"buildOptions",value:function(){var o=this,f=document.createElement("span");f.classList.add("ql-picker-options"),f.setAttribute("aria-hidden","true"),f.tabIndex="-1",f.id="ql-picker-options-"+t,t+=1,this.label.setAttribute("aria-controls",f.id),this.options=f,[].slice.call(this.select.options).forEach(function(n){var h=o.buildItem(n);f.appendChild(h),n.selected===!0&&o.selectItem(h)}),this.container.appendChild(f)}},{key:"buildPicker",value:function(){var o=this;[].slice.call(this.select.attributes).forEach(function(f){o.container.setAttribute(f.name,f.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var o=this;this.close(),setTimeout(function(){return o.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.container.querySelector(".ql-selected");if(o!==n&&(n?.classList.remove("ql-selected"),o!=null&&(o.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(o.parentNode.children,o),o.hasAttribute("data-value")?this.label.setAttribute("data-value",o.getAttribute("data-value")):this.label.removeAttribute("data-value"),o.hasAttribute("data-label")?this.label.setAttribute("data-label",o.getAttribute("data-label")):this.label.removeAttribute("data-label"),f))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":_(Event))==="object"){var h=document.createEvent("Event");h.initEvent("change",!0,!0),this.select.dispatchEvent(h)}this.close()}}},{key:"update",value:function(){var o=void 0;if(this.select.selectedIndex>-1){var f=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];o=this.select.options[this.select.selectedIndex],this.selectItem(f)}else this.selectItem(null);var n=o!=null&&o!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),l}();u.default=a},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=c(0),O=C(_),y=c(5),p=C(y),v=c(4),d=C(v),r=c(16),e=C(r),t=c(25),s=C(t),a=c(24),l=C(a),i=c(35),o=C(i),f=c(6),n=C(f),h=c(22),A=C(h),g=c(7),w=C(g),S=c(55),x=C(S),m=c(42),N=C(m),k=c(23),T=C(k);function C(B){return B&&B.__esModule?B:{default:B}}p.default.register({"blots/block":d.default,"blots/block/embed":v.BlockEmbed,"blots/break":e.default,"blots/container":s.default,"blots/cursor":l.default,"blots/embed":o.default,"blots/inline":n.default,"blots/scroll":A.default,"blots/text":w.default,"modules/clipboard":x.default,"modules/history":N.default,"modules/keyboard":T.default}),O.default.register(d.default,e.default,l.default,n.default,A.default,w.default),u.default=p.default},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=c(1),O=function(){function y(p){this.domNode=p,this.domNode[_.DATA_KEY]={blot:this}}return Object.defineProperty(y.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),y.create=function(p){if(this.tagName==null)throw new _.ParchmentError("Blot definition missing tagName");var v;return Array.isArray(this.tagName)?(typeof p=="string"&&(p=p.toUpperCase(),parseInt(p).toString()===p&&(p=parseInt(p))),typeof p=="number"?v=document.createElement(this.tagName[p-1]):this.tagName.indexOf(p)>-1?v=document.createElement(p):v=document.createElement(this.tagName[0])):v=document.createElement(this.tagName),this.className&&v.classList.add(this.className),v},y.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},y.prototype.clone=function(){var p=this.domNode.cloneNode(!1);return _.create(p)},y.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[_.DATA_KEY]},y.prototype.deleteAt=function(p,v){var d=this.isolate(p,v);d.remove()},y.prototype.formatAt=function(p,v,d,r){var e=this.isolate(p,v);if(_.query(d,_.Scope.BLOT)!=null&&r)e.wrap(d,r);else if(_.query(d,_.Scope.ATTRIBUTE)!=null){var t=_.create(this.statics.scope);e.wrap(t),t.format(d,r)}},y.prototype.insertAt=function(p,v,d){var r=d==null?_.create("text",v):_.create(v,d),e=this.split(p);this.parent.insertBefore(r,e)},y.prototype.insertInto=function(p,v){v===void 0&&(v=null),this.parent!=null&&this.parent.children.remove(this);var d=null;p.children.insertBefore(this,v),v!=null&&(d=v.domNode),(this.domNode.parentNode!=p.domNode||this.domNode.nextSibling!=d)&&p.domNode.insertBefore(this.domNode,d),this.parent=p,this.attach()},y.prototype.isolate=function(p,v){var d=this.split(p);return d.split(v),d},y.prototype.length=function(){return 1},y.prototype.offset=function(p){return p===void 0&&(p=this.parent),this.parent==null||this==p?0:this.parent.children.offset(this)+this.parent.offset(p)},y.prototype.optimize=function(p){this.domNode[_.DATA_KEY]!=null&&delete this.domNode[_.DATA_KEY].mutations},y.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},y.prototype.replace=function(p){p.parent!=null&&(p.parent.insertBefore(this,p.next),p.remove())},y.prototype.replaceWith=function(p,v){var d=typeof p=="string"?_.create(p,v):p;return d.replace(this),d},y.prototype.split=function(p,v){return p===0?this:this.next},y.prototype.update=function(p,v){},y.prototype.wrap=function(p,v){var d=typeof p=="string"?_.create(p,v):p;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},y.blotName="abstract",y}();u.default=O},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=c(12),O=c(32),y=c(33),p=c(1),v=function(){function d(r){this.attributes={},this.domNode=r,this.build()}return d.prototype.attribute=function(r,e){e?r.add(this.domNode,e)&&(r.value(this.domNode)!=null?this.attributes[r.attrName]=r:delete this.attributes[r.attrName]):(r.remove(this.domNode),delete this.attributes[r.attrName])},d.prototype.build=function(){var r=this;this.attributes={};var e=_.default.keys(this.domNode),t=O.default.keys(this.domNode),s=y.default.keys(this.domNode);e.concat(t).concat(s).forEach(function(a){var l=p.query(a,p.Scope.ATTRIBUTE);l instanceof _.default&&(r.attributes[l.attrName]=l)})},d.prototype.copy=function(r){var e=this;Object.keys(this.attributes).forEach(function(t){var s=e.attributes[t].value(e.domNode);r.format(t,s)})},d.prototype.move=function(r){var e=this;this.copy(r),Object.keys(this.attributes).forEach(function(t){e.attributes[t].remove(e.domNode)}),this.attributes={}},d.prototype.values=function(){var r=this;return Object.keys(this.attributes).reduce(function(e,t){return e[t]=r.attributes[t].value(r.domNode),e},{})},d}();u.default=v},function(j,u,c){var _=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,r){d.__proto__=r}||function(d,r){for(var e in r)r.hasOwnProperty(e)&&(d[e]=r[e])};return function(d,r){v(d,r);function e(){this.constructor=d}d.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}}();Object.defineProperty(u,"__esModule",{value:!0});var O=c(12);function y(v,d){var r=v.getAttribute("class")||"";return r.split(/\s+/).filter(function(e){return e.indexOf(d+"-")===0})}var p=function(v){_(d,v);function d(){return v!==null&&v.apply(this,arguments)||this}return d.keys=function(r){return(r.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},d.prototype.add=function(r,e){return this.canAdd(r,e)?(this.remove(r),r.classList.add(this.keyName+"-"+e),!0):!1},d.prototype.remove=function(r){var e=y(r,this.keyName);e.forEach(function(t){r.classList.remove(t)}),r.classList.length===0&&r.removeAttribute("class")},d.prototype.value=function(r){var e=y(r,this.keyName)[0]||"",t=e.slice(this.keyName.length+1);return this.canAdd(r,t)?t:""},d}(O.default);u.default=p},function(j,u,c){var _=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,r){d.__proto__=r}||function(d,r){for(var e in r)r.hasOwnProperty(e)&&(d[e]=r[e])};return function(d,r){v(d,r);function e(){this.constructor=d}d.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}}();Object.defineProperty(u,"__esModule",{value:!0});var O=c(12);function y(v){var d=v.split("-"),r=d.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return d[0]+r}var p=function(v){_(d,v);function d(){return v!==null&&v.apply(this,arguments)||this}return d.keys=function(r){return(r.getAttribute("style")||"").split(";").map(function(e){var t=e.split(":");return t[0].trim()})},d.prototype.add=function(r,e){return this.canAdd(r,e)?(r.style[y(this.keyName)]=e,!0):!1},d.prototype.remove=function(r){r.style[y(this.keyName)]="",r.getAttribute("style")||r.removeAttribute("style")},d.prototype.value=function(r){var e=r.style[y(this.keyName)];return this.canAdd(r,e)?e:""},d}(O.default);u.default=p},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=function(){function p(v,d){for(var r=0;r<d.length;r++){var e=d[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(v,e.key,e)}}return function(v,d,r){return d&&p(v.prototype,d),r&&p(v,r),v}}();function O(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}var y=function(){function p(v,d){O(this,p),this.quill=v,this.options=d,this.modules={}}return _(p,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(r){d.modules[r]==null&&d.addModule(r)})}},{key:"addModule",value:function(d){var r=this.quill.constructor.import("modules/"+d);return this.modules[d]=new r(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),p}();y.DEFAULTS={modules:{}},y.themes={default:y},u.default=y},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=function(){function i(o,f){for(var n=0;n<f.length;n++){var h=f[n];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(o,h.key,h)}}return function(o,f,n){return f&&i(o.prototype,f),n&&i(o,n),o}}(),O=function i(o,f,n){o===null&&(o=Function.prototype);var h=Object.getOwnPropertyDescriptor(o,f);if(h===void 0){var A=Object.getPrototypeOf(o);return A===null?void 0:i(A,f,n)}else{if("value"in h)return h.value;var g=h.get;return g===void 0?void 0:g.call(n)}},y=c(0),p=r(y),v=c(7),d=r(v);function r(i){return i&&i.__esModule?i:{default:i}}function e(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function t(i,o){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:i}function s(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(i,o):i.__proto__=o)}var a="\uFEFF",l=function(i){s(o,i);function o(f){e(this,o);var n=t(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,f));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach(function(h){n.contentNode.appendChild(h)}),n.leftGuard=document.createTextNode(a),n.rightGuard=document.createTextNode(a),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return _(o,[{key:"index",value:function(n,h){return n===this.leftGuard?0:n===this.rightGuard?1:O(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"index",this).call(this,n,h)}},{key:"restore",value:function(n){var h=void 0,A=void 0,g=n.data.split(a).join("");if(n===this.leftGuard)if(this.prev instanceof d.default){var w=this.prev.length();this.prev.insertAt(w,g),h={startNode:this.prev.domNode,startOffset:w+g.length}}else A=document.createTextNode(g),this.parent.insertBefore(p.default.create(A),this),h={startNode:A,startOffset:g.length};else n===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,g),h={startNode:this.next.domNode,startOffset:g.length}):(A=document.createTextNode(g),this.parent.insertBefore(p.default.create(A),this.next),h={startNode:A,startOffset:g.length}));return n.data=a,h}},{key:"update",value:function(n,h){var A=this;n.forEach(function(g){if(g.type==="characterData"&&(g.target===A.leftGuard||g.target===A.rightGuard)){var w=A.restore(g.target);w&&(h.range=w)}})}}]),o}(p.default.Embed);u.default=l},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.AlignStyle=u.AlignClass=u.AlignAttribute=void 0;var _=c(0),O=y(_);function y(e){return e&&e.__esModule?e:{default:e}}var p={scope:O.default.Scope.BLOCK,whitelist:["right","center","justify"]},v=new O.default.Attributor.Attribute("align","align",p),d=new O.default.Attributor.Class("align","ql-align",p),r=new O.default.Attributor.Style("align","text-align",p);u.AlignAttribute=v,u.AlignClass=d,u.AlignStyle=r},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.BackgroundStyle=u.BackgroundClass=void 0;var _=c(0),O=p(_),y=c(26);function p(r){return r&&r.__esModule?r:{default:r}}var v=new O.default.Attributor.Class("background","ql-bg",{scope:O.default.Scope.INLINE}),d=new y.ColorAttributor("background","background-color",{scope:O.default.Scope.INLINE});u.BackgroundClass=v,u.BackgroundStyle=d},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.DirectionStyle=u.DirectionClass=u.DirectionAttribute=void 0;var _=c(0),O=y(_);function y(e){return e&&e.__esModule?e:{default:e}}var p={scope:O.default.Scope.BLOCK,whitelist:["rtl"]},v=new O.default.Attributor.Attribute("direction","dir",p),d=new O.default.Attributor.Class("direction","ql-direction",p),r=new O.default.Attributor.Style("direction","direction",p);u.DirectionAttribute=v,u.DirectionClass=d,u.DirectionStyle=r},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.FontClass=u.FontStyle=void 0;var _=function(){function i(o,f){for(var n=0;n<f.length;n++){var h=f[n];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(o,h.key,h)}}return function(o,f,n){return f&&i(o.prototype,f),n&&i(o,n),o}}(),O=function i(o,f,n){o===null&&(o=Function.prototype);var h=Object.getOwnPropertyDescriptor(o,f);if(h===void 0){var A=Object.getPrototypeOf(o);return A===null?void 0:i(A,f,n)}else{if("value"in h)return h.value;var g=h.get;return g===void 0?void 0:g.call(n)}},y=c(0),p=v(y);function v(i){return i&&i.__esModule?i:{default:i}}function d(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function r(i,o){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:i}function e(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(i,o):i.__proto__=o)}var t={scope:p.default.Scope.INLINE,whitelist:["serif","monospace"]},s=new p.default.Attributor.Class("font","ql-font",t),a=function(i){e(o,i);function o(){return d(this,o),r(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return _(o,[{key:"value",value:function(n){return O(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"value",this).call(this,n).replace(/["']/g,"")}}]),o}(p.default.Attributor.Style),l=new a("font","font-family",t);u.FontStyle=l,u.FontClass=s},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.SizeStyle=u.SizeClass=void 0;var _=c(0),O=y(_);function y(d){return d&&d.__esModule?d:{default:d}}var p=new O.default.Attributor.Class("size","ql-size",{scope:O.default.Scope.INLINE,whitelist:["small","large","huge"]}),v=new O.default.Attributor.Style("size","font-size",{scope:O.default.Scope.INLINE,whitelist:["10px","18px","32px"]});u.SizeClass=p,u.SizeStyle=v},function(j,u,c){j.exports={align:{"":c(76),center:c(77),right:c(78),justify:c(79)},background:c(80),blockquote:c(81),bold:c(82),clean:c(83),code:c(58),"code-block":c(58),color:c(84),direction:{"":c(85),rtl:c(86)},float:{center:c(87),full:c(88),left:c(89),right:c(90)},formula:c(91),header:{1:c(92),2:c(93)},italic:c(94),image:c(95),indent:{"+1":c(96),"-1":c(97)},link:c(98),list:{ordered:c(99),bullet:c(100),check:c(101)},script:{sub:c(102),super:c(103)},strike:c(104),underline:c(105),video:c(106)}},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.getLastChangeIndex=u.default=void 0;var _=function(){function f(n,h){for(var A=0;A<h.length;A++){var g=h[A];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,g.key,g)}}return function(n,h,A){return h&&f(n.prototype,h),A&&f(n,A),n}}(),O=c(0),y=e(O),p=c(5),v=e(p),d=c(9),r=e(d);function e(f){return f&&f.__esModule?f:{default:f}}function t(f,n){if(!(f instanceof n))throw new TypeError("Cannot call a class as a function")}function s(f,n){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:f}function a(f,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);f.prototype=Object.create(n&&n.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(f,n):f.__proto__=n)}var l=function(f){a(n,f);function n(h,A){t(this,n);var g=s(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,h,A));return g.lastRecorded=0,g.ignoreChange=!1,g.clear(),g.quill.on(v.default.events.EDITOR_CHANGE,function(w,S,x,m){w!==v.default.events.TEXT_CHANGE||g.ignoreChange||(!g.options.userOnly||m===v.default.sources.USER?g.record(S,x):g.transform(S))}),g.quill.keyboard.addBinding({key:"Z",shortKey:!0},g.undo.bind(g)),g.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},g.redo.bind(g)),/Win/i.test(navigator.platform)&&g.quill.keyboard.addBinding({key:"Y",shortKey:!0},g.redo.bind(g)),g}return _(n,[{key:"change",value:function(A,g){if(this.stack[A].length!==0){var w=this.stack[A].pop();this.stack[g].push(w),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(w[A],v.default.sources.USER),this.ignoreChange=!1;var S=o(w[A]);this.quill.setSelection(S)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(A,g){if(A.ops.length!==0){this.stack.redo=[];var w=this.quill.getContents().diff(g),S=Date.now();if(this.lastRecorded+this.options.delay>S&&this.stack.undo.length>0){var x=this.stack.undo.pop();w=w.compose(x.undo),A=x.redo.compose(A)}else this.lastRecorded=S;this.stack.undo.push({redo:A,undo:w}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(A){this.stack.undo.forEach(function(g){g.undo=A.transform(g.undo,!0),g.redo=A.transform(g.redo,!0)}),this.stack.redo.forEach(function(g){g.undo=A.transform(g.undo,!0),g.redo=A.transform(g.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),n}(r.default);l.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function i(f){var n=f.ops[f.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(function(h){return y.default.query(h,y.default.Scope.BLOCK)!=null}):!1}function o(f){var n=f.reduce(function(A,g){return A+=g.delete||0,A},0),h=f.length()-n;return i(f)&&(h-=1),h}u.default=l,u.getLastChangeIndex=o},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.default=u.BaseTooltip=void 0;var _=function(){function L(R,U){for(var M=0;M<U.length;M++){var P=U[M];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(R,P.key,P)}}return function(R,U,M){return U&&L(R.prototype,U),M&&L(R,M),R}}(),O=function L(R,U,M){R===null&&(R=Function.prototype);var P=Object.getOwnPropertyDescriptor(R,U);if(P===void 0){var I=Object.getPrototypeOf(R);return I===null?void 0:L(I,U,M)}else{if("value"in P)return P.value;var V=P.get;return V===void 0?void 0:V.call(M)}},y=c(3),p=S(y),v=c(2),d=S(v),r=c(8),e=S(r),t=c(23),s=S(t),a=c(34),l=S(a),i=c(59),o=S(i),f=c(60),n=S(f),h=c(28),A=S(h),g=c(61),w=S(g);function S(L){return L&&L.__esModule?L:{default:L}}function x(L,R){if(!(L instanceof R))throw new TypeError("Cannot call a class as a function")}function m(L,R){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:L}function N(L,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);L.prototype=Object.create(R&&R.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(L,R):L.__proto__=R)}var k=[!1,"center","right","justify"],T=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],C=[!1,"serif","monospace"],B=["1","2","3",!1],F=["small",!1,"large","huge"],Q=function(L){N(R,L);function R(U,M){x(this,R);var P=m(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,U,M)),I=function V(W){if(!document.body.contains(U.root))return document.body.removeEventListener("click",V);P.tooltip!=null&&!P.tooltip.root.contains(W.target)&&document.activeElement!==P.tooltip.textbox&&!P.quill.hasFocus()&&P.tooltip.hide(),P.pickers!=null&&P.pickers.forEach(function(Z){Z.container.contains(W.target)||Z.close()})};return U.emitter.listenDOM("click",document.body,I),P}return _(R,[{key:"addModule",value:function(M){var P=O(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"addModule",this).call(this,M);return M==="toolbar"&&this.extendToolbar(P),P}},{key:"buildButtons",value:function(M,P){M.forEach(function(I){var V=I.getAttribute("class")||"";V.split(/\s+/).forEach(function(W){if(W.startsWith("ql-")&&(W=W.slice(3),P[W]!=null))if(W==="direction")I.innerHTML=P[W][""]+P[W].rtl;else if(typeof P[W]=="string")I.innerHTML=P[W];else{var Z=I.value||"";Z!=null&&P[W][Z]&&(I.innerHTML=P[W][Z])}})})}},{key:"buildPickers",value:function(M,P){var I=this;this.pickers=M.map(function(W){if(W.classList.contains("ql-align"))return W.querySelector("option")==null&&E(W,k),new n.default(W,P.align);if(W.classList.contains("ql-background")||W.classList.contains("ql-color")){var Z=W.classList.contains("ql-background")?"background":"color";return W.querySelector("option")==null&&E(W,T,Z==="background"?"#ffffff":"#000000"),new o.default(W,P[Z])}else return W.querySelector("option")==null&&(W.classList.contains("ql-font")?E(W,C):W.classList.contains("ql-header")?E(W,B):W.classList.contains("ql-size")&&E(W,F)),new A.default(W)});var V=function(){I.pickers.forEach(function(Z){Z.update()})};this.quill.on(e.default.events.EDITOR_CHANGE,V)}}]),R}(l.default);Q.DEFAULTS=(0,p.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var R=this,U=this.container.querySelector("input.ql-image[type=file]");U==null&&(U=document.createElement("input"),U.setAttribute("type","file"),U.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),U.classList.add("ql-image"),U.addEventListener("change",function(){if(U.files!=null&&U.files[0]!=null){var M=new FileReader;M.onload=function(P){var I=R.quill.getSelection(!0);R.quill.updateContents(new d.default().retain(I.index).delete(I.length).insert({image:P.target.result}),e.default.sources.USER),R.quill.setSelection(I.index+1,e.default.sources.SILENT),U.value=""},M.readAsDataURL(U.files[0])}}),this.container.appendChild(U)),U.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var D=function(L){N(R,L);function R(U,M){x(this,R);var P=m(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,U,M));return P.textbox=P.root.querySelector('input[type="text"]'),P.listen(),P}return _(R,[{key:"listen",value:function(){var M=this;this.textbox.addEventListener("keydown",function(P){s.default.match(P,"enter")?(M.save(),P.preventDefault()):s.default.match(P,"escape")&&(M.cancel(),P.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),P!=null?this.textbox.value=P:M!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+M)||""),this.root.setAttribute("data-mode",M)}},{key:"restoreFocus",value:function(){var M=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=M}},{key:"save",value:function(){var M=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var P=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",M,e.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",M,e.default.sources.USER)),this.quill.root.scrollTop=P;break}case"video":M=q(M);case"formula":{if(!M)break;var I=this.quill.getSelection(!0);if(I!=null){var V=I.index+I.length;this.quill.insertEmbed(V,this.root.getAttribute("data-mode"),M,e.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(V+1," ",e.default.sources.USER),this.quill.setSelection(V+2,e.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),R}(w.default);function q(L){var R=L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return R?(R[1]||"https")+"://www.youtube.com/embed/"+R[2]+"?showinfo=0":(R=L.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(R[1]||"https")+"://player.vimeo.com/video/"+R[2]+"/":L}function E(L,R){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;R.forEach(function(M){var P=document.createElement("option");M===U?P.setAttribute("selected","selected"):P.setAttribute("value",M),L.appendChild(P)})}u.BaseTooltip=D,u.default=Q},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=function(){function O(){this.head=this.tail=null,this.length=0}return O.prototype.append=function(){for(var y=[],p=0;p<arguments.length;p++)y[p]=arguments[p];this.insertBefore(y[0],null),y.length>1&&this.append.apply(this,y.slice(1))},O.prototype.contains=function(y){for(var p,v=this.iterator();p=v();)if(p===y)return!0;return!1},O.prototype.insertBefore=function(y,p){y&&(y.next=p,p!=null?(y.prev=p.prev,p.prev!=null&&(p.prev.next=y),p.prev=y,p===this.head&&(this.head=y)):this.tail!=null?(this.tail.next=y,y.prev=this.tail,this.tail=y):(y.prev=null,this.head=this.tail=y),this.length+=1)},O.prototype.offset=function(y){for(var p=0,v=this.head;v!=null;){if(v===y)return p;p+=v.length(),v=v.next}return-1},O.prototype.remove=function(y){this.contains(y)&&(y.prev!=null&&(y.prev.next=y.next),y.next!=null&&(y.next.prev=y.prev),y===this.head&&(this.head=y.next),y===this.tail&&(this.tail=y.prev),this.length-=1)},O.prototype.iterator=function(y){return y===void 0&&(y=this.head),function(){var p=y;return y!=null&&(y=y.next),p}},O.prototype.find=function(y,p){p===void 0&&(p=!1);for(var v,d=this.iterator();v=d();){var r=v.length();if(y<r||p&&y===r&&(v.next==null||v.next.length()!==0))return[v,y];y-=r}return[null,0]},O.prototype.forEach=function(y){for(var p,v=this.iterator();p=v();)y(p)},O.prototype.forEachAt=function(y,p,v){if(!(p<=0))for(var d=this.find(y),r=d[0],e=d[1],t,s=y-e,a=this.iterator(r);(t=a())&&s<y+p;){var l=t.length();y>s?v(t,y-s,Math.min(p,s+l-y)):v(t,0,Math.min(l,y+p-s)),s+=l}},O.prototype.map=function(y){return this.reduce(function(p,v){return p.push(y(v)),p},[])},O.prototype.reduce=function(y,p){for(var v,d=this.iterator();v=d();)p=y(p,v);return p},O}();u.default=_},function(j,u,c){var _=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])};return function(e,t){r(e,t);function s(){this.constructor=e}e.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}}();Object.defineProperty(u,"__esModule",{value:!0});var O=c(17),y=c(1),p={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},v=100,d=function(r){_(e,r);function e(t){var s=r.call(this,t)||this;return s.scroll=s,s.observer=new MutationObserver(function(a){s.update(a)}),s.observer.observe(s.domNode,p),s.attach(),s}return e.prototype.detach=function(){r.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(t,s){this.update(),t===0&&s===this.length()?this.children.forEach(function(a){a.remove()}):r.prototype.deleteAt.call(this,t,s)},e.prototype.formatAt=function(t,s,a,l){this.update(),r.prototype.formatAt.call(this,t,s,a,l)},e.prototype.insertAt=function(t,s,a){this.update(),r.prototype.insertAt.call(this,t,s,a)},e.prototype.optimize=function(t,s){var a=this;t===void 0&&(t=[]),s===void 0&&(s={}),r.prototype.optimize.call(this,s);for(var l=[].slice.call(this.observer.takeRecords());l.length>0;)t.push(l.pop());for(var i=function(h,A){A===void 0&&(A=!0),!(h==null||h===a)&&h.domNode.parentNode!=null&&(h.domNode[y.DATA_KEY].mutations==null&&(h.domNode[y.DATA_KEY].mutations=[]),A&&i(h.parent))},o=function(h){h.domNode[y.DATA_KEY]==null||h.domNode[y.DATA_KEY].mutations==null||(h instanceof O.default&&h.children.forEach(o),h.optimize(s))},f=t,n=0;f.length>0;n+=1){if(n>=v)throw new Error("[Parchment] Maximum optimize iterations reached");for(f.forEach(function(h){var A=y.find(h.target,!0);A!=null&&(A.domNode===h.target&&(h.type==="childList"?(i(y.find(h.previousSibling,!1)),[].forEach.call(h.addedNodes,function(g){var w=y.find(g,!1);i(w,!1),w instanceof O.default&&w.children.forEach(function(S){i(S,!1)})})):h.type==="attributes"&&i(A.prev)),i(A))}),this.children.forEach(o),f=[].slice.call(this.observer.takeRecords()),l=f.slice();l.length>0;)t.push(l.pop())}},e.prototype.update=function(t,s){var a=this;s===void 0&&(s={}),t=t||this.observer.takeRecords(),t.map(function(l){var i=y.find(l.target,!0);return i==null?null:i.domNode[y.DATA_KEY].mutations==null?(i.domNode[y.DATA_KEY].mutations=[l],i):(i.domNode[y.DATA_KEY].mutations.push(l),null)}).forEach(function(l){l==null||l===a||l.domNode[y.DATA_KEY]==null||l.update(l.domNode[y.DATA_KEY].mutations||[],s)}),this.domNode[y.DATA_KEY].mutations!=null&&r.prototype.update.call(this,this.domNode[y.DATA_KEY].mutations,s),this.optimize(t,s)},e.blotName="scroll",e.defaultChild="block",e.scope=y.Scope.BLOCK_BLOT,e.tagName="DIV",e}(O.default);u.default=d},function(j,u,c){var _=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t])};return function(r,e){d(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}();Object.defineProperty(u,"__esModule",{value:!0});var O=c(18),y=c(1);function p(d,r){if(Object.keys(d).length!==Object.keys(r).length)return!1;for(var e in d)if(d[e]!==r[e])return!1;return!0}var v=function(d){_(r,d);function r(){return d!==null&&d.apply(this,arguments)||this}return r.formats=function(e){if(e.tagName!==r.tagName)return d.formats.call(this,e)},r.prototype.format=function(e,t){var s=this;e===this.statics.blotName&&!t?(this.children.forEach(function(a){a instanceof O.default||(a=a.wrap(r.blotName,!0)),s.attributes.copy(a)}),this.unwrap()):d.prototype.format.call(this,e,t)},r.prototype.formatAt=function(e,t,s,a){if(this.formats()[s]!=null||y.query(s,y.Scope.ATTRIBUTE)){var l=this.isolate(e,t);l.format(s,a)}else d.prototype.formatAt.call(this,e,t,s,a)},r.prototype.optimize=function(e){d.prototype.optimize.call(this,e);var t=this.formats();if(Object.keys(t).length===0)return this.unwrap();var s=this.next;s instanceof r&&s.prev===this&&p(t,s.formats())&&(s.moveChildren(this),s.remove())},r.blotName="inline",r.scope=y.Scope.INLINE_BLOT,r.tagName="SPAN",r}(O.default);u.default=v},function(j,u,c){var _=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,r){d.__proto__=r}||function(d,r){for(var e in r)r.hasOwnProperty(e)&&(d[e]=r[e])};return function(d,r){v(d,r);function e(){this.constructor=d}d.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}}();Object.defineProperty(u,"__esModule",{value:!0});var O=c(18),y=c(1),p=function(v){_(d,v);function d(){return v!==null&&v.apply(this,arguments)||this}return d.formats=function(r){var e=y.query(d.blotName).tagName;if(r.tagName!==e)return v.formats.call(this,r)},d.prototype.format=function(r,e){y.query(r,y.Scope.BLOCK)!=null&&(r===this.statics.blotName&&!e?this.replaceWith(d.blotName):v.prototype.format.call(this,r,e))},d.prototype.formatAt=function(r,e,t,s){y.query(t,y.Scope.BLOCK)!=null?this.format(t,s):v.prototype.formatAt.call(this,r,e,t,s)},d.prototype.insertAt=function(r,e,t){if(t==null||y.query(e,y.Scope.INLINE)!=null)v.prototype.insertAt.call(this,r,e,t);else{var s=this.split(r),a=y.create(e,t);s.parent.insertBefore(a,s)}},d.prototype.update=function(r,e){navigator.userAgent.match(/Trident/)?this.build():v.prototype.update.call(this,r,e)},d.blotName="block",d.scope=y.Scope.BLOCK_BLOT,d.tagName="P",d}(O.default);u.default=p},function(j,u,c){var _=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,d){v.__proto__=d}||function(v,d){for(var r in d)d.hasOwnProperty(r)&&(v[r]=d[r])};return function(v,d){p(v,d);function r(){this.constructor=v}v.prototype=d===null?Object.create(d):(r.prototype=d.prototype,new r)}}();Object.defineProperty(u,"__esModule",{value:!0});var O=c(19),y=function(p){_(v,p);function v(){return p!==null&&p.apply(this,arguments)||this}return v.formats=function(d){},v.prototype.format=function(d,r){p.prototype.formatAt.call(this,0,this.length(),d,r)},v.prototype.formatAt=function(d,r,e,t){d===0&&r===this.length()?this.format(e,t):p.prototype.formatAt.call(this,d,r,e,t)},v.prototype.formats=function(){return this.statics.formats(this.domNode)},v}(O.default);u.default=y},function(j,u,c){var _=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,r){d.__proto__=r}||function(d,r){for(var e in r)r.hasOwnProperty(e)&&(d[e]=r[e])};return function(d,r){v(d,r);function e(){this.constructor=d}d.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}}();Object.defineProperty(u,"__esModule",{value:!0});var O=c(19),y=c(1),p=function(v){_(d,v);function d(r){var e=v.call(this,r)||this;return e.text=e.statics.value(e.domNode),e}return d.create=function(r){return document.createTextNode(r)},d.value=function(r){var e=r.data;return e.normalize&&(e=e.normalize()),e},d.prototype.deleteAt=function(r,e){this.domNode.data=this.text=this.text.slice(0,r)+this.text.slice(r+e)},d.prototype.index=function(r,e){return this.domNode===r?e:-1},d.prototype.insertAt=function(r,e,t){t==null?(this.text=this.text.slice(0,r)+e+this.text.slice(r),this.domNode.data=this.text):v.prototype.insertAt.call(this,r,e,t)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(r){v.prototype.optimize.call(this,r),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(r,e){return[this.domNode,r]},d.prototype.split=function(r,e){if(e===void 0&&(e=!1),!e){if(r===0)return this;if(r===this.length())return this.next}var t=y.create(this.domNode.splitText(r));return this.parent.insertBefore(t,this.next),this.text=this.statics.value(this.domNode),t},d.prototype.update=function(r,e){var t=this;r.some(function(s){return s.type==="characterData"&&s.target===t.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=y.Scope.INLINE_BLOT,d}(O.default);u.default=p},function(j,u,c){var _=document.createElement("div");if(_.classList.toggle("test-class",!1),_.classList.contains("test-class")){var O=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(y,p){return arguments.length>1&&!this.contains(y)==!p?p:O.call(this,y)}}String.prototype.startsWith||(String.prototype.startsWith=function(y,p){return p=p||0,this.substr(p,y.length)===y}),String.prototype.endsWith||(String.prototype.endsWith=function(y,p){var v=this.toString();(typeof p!="number"||!isFinite(p)||Math.floor(p)!==p||p>v.length)&&(p=v.length),p-=y.length;var d=v.indexOf(y,p);return d!==-1&&d===p}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(p){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof p!="function")throw new TypeError("predicate must be a function");for(var v=Object(this),d=v.length>>>0,r=arguments[1],e,t=0;t<d;t++)if(e=v[t],p.call(r,e,t,v))return e}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(j,u){var c=-1,_=1,O=0;function y(n,h,A){if(n==h)return n?[[O,n]]:[];(A<0||n.length<A)&&(A=null);var g=r(n,h),w=n.substring(0,g);n=n.substring(g),h=h.substring(g),g=e(n,h);var S=n.substring(n.length-g);n=n.substring(0,n.length-g),h=h.substring(0,h.length-g);var x=p(n,h);return w&&x.unshift([O,w]),S&&x.push([O,S]),s(x),A!=null&&(x=i(x,A)),x=o(x),x}function p(n,h){var A;if(!n)return[[_,h]];if(!h)return[[c,n]];var g=n.length>h.length?n:h,w=n.length>h.length?h:n,S=g.indexOf(w);if(S!=-1)return A=[[_,g.substring(0,S)],[O,w],[_,g.substring(S+w.length)]],n.length>h.length&&(A[0][0]=A[2][0]=c),A;if(w.length==1)return[[c,n],[_,h]];var x=t(n,h);if(x){var m=x[0],N=x[1],k=x[2],T=x[3],C=x[4],B=y(m,k),F=y(N,T);return B.concat([[O,C]],F)}return v(n,h)}function v(n,h){for(var A=n.length,g=h.length,w=Math.ceil((A+g)/2),S=w,x=2*w,m=new Array(x),N=new Array(x),k=0;k<x;k++)m[k]=-1,N[k]=-1;m[S+1]=0,N[S+1]=0;for(var T=A-g,C=T%2!=0,B=0,F=0,Q=0,D=0,q=0;q<w;q++){for(var E=-q+B;E<=q-F;E+=2){var L=S+E,R;E==-q||E!=q&&m[L-1]<m[L+1]?R=m[L+1]:R=m[L-1]+1;for(var U=R-E;R<A&&U<g&&n.charAt(R)==h.charAt(U);)R++,U++;if(m[L]=R,R>A)F+=2;else if(U>g)B+=2;else if(C){var M=S+T-E;if(M>=0&&M<x&&N[M]!=-1){var P=A-N[M];if(R>=P)return d(n,h,R,U)}}}for(var I=-q+Q;I<=q-D;I+=2){var M=S+I,P;I==-q||I!=q&&N[M-1]<N[M+1]?P=N[M+1]:P=N[M-1]+1;for(var V=P-I;P<A&&V<g&&n.charAt(A-P-1)==h.charAt(g-V-1);)P++,V++;if(N[M]=P,P>A)D+=2;else if(V>g)Q+=2;else if(!C){var L=S+T-I;if(L>=0&&L<x&&m[L]!=-1){var R=m[L],U=S+R-L;if(P=A-P,R>=P)return d(n,h,R,U)}}}}return[[c,n],[_,h]]}function d(n,h,A,g){var w=n.substring(0,A),S=h.substring(0,g),x=n.substring(A),m=h.substring(g),N=y(w,S),k=y(x,m);return N.concat(k)}function r(n,h){if(!n||!h||n.charAt(0)!=h.charAt(0))return 0;for(var A=0,g=Math.min(n.length,h.length),w=g,S=0;A<w;)n.substring(S,w)==h.substring(S,w)?(A=w,S=A):g=w,w=Math.floor((g-A)/2+A);return w}function e(n,h){if(!n||!h||n.charAt(n.length-1)!=h.charAt(h.length-1))return 0;for(var A=0,g=Math.min(n.length,h.length),w=g,S=0;A<w;)n.substring(n.length-w,n.length-S)==h.substring(h.length-w,h.length-S)?(A=w,S=A):g=w,w=Math.floor((g-A)/2+A);return w}function t(n,h){var A=n.length>h.length?n:h,g=n.length>h.length?h:n;if(A.length<4||g.length*2<A.length)return null;function w(F,Q,D){for(var q=F.substring(D,D+Math.floor(F.length/4)),E=-1,L="",R,U,M,P;(E=Q.indexOf(q,E+1))!=-1;){var I=r(F.substring(D),Q.substring(E)),V=e(F.substring(0,D),Q.substring(0,E));L.length<V+I&&(L=Q.substring(E-V,E)+Q.substring(E,E+I),R=F.substring(0,D-V),U=F.substring(D+I),M=Q.substring(0,E-V),P=Q.substring(E+I))}return L.length*2>=F.length?[R,U,M,P,L]:null}var S=w(A,g,Math.ceil(A.length/4)),x=w(A,g,Math.ceil(A.length/2)),m;if(!S&&!x)return null;x?S?m=S[4].length>x[4].length?S:x:m=x:m=S;var N,k,T,C;n.length>h.length?(N=m[0],k=m[1],T=m[2],C=m[3]):(T=m[0],C=m[1],N=m[2],k=m[3]);var B=m[4];return[N,k,T,C,B]}function s(n){n.push([O,""]);for(var h=0,A=0,g=0,w="",S="",x;h<n.length;)switch(n[h][0]){case _:g++,S+=n[h][1],h++;break;case c:A++,w+=n[h][1],h++;break;case O:A+g>1?(A!==0&&g!==0&&(x=r(S,w),x!==0&&(h-A-g>0&&n[h-A-g-1][0]==O?n[h-A-g-1][1]+=S.substring(0,x):(n.splice(0,0,[O,S.substring(0,x)]),h++),S=S.substring(x),w=w.substring(x)),x=e(S,w),x!==0&&(n[h][1]=S.substring(S.length-x)+n[h][1],S=S.substring(0,S.length-x),w=w.substring(0,w.length-x))),A===0?n.splice(h-g,A+g,[_,S]):g===0?n.splice(h-A,A+g,[c,w]):n.splice(h-A-g,A+g,[c,w],[_,S]),h=h-A-g+(A?1:0)+(g?1:0)+1):h!==0&&n[h-1][0]==O?(n[h-1][1]+=n[h][1],n.splice(h,1)):h++,g=0,A=0,w="",S="";break}n[n.length-1][1]===""&&n.pop();var m=!1;for(h=1;h<n.length-1;)n[h-1][0]==O&&n[h+1][0]==O&&(n[h][1].substring(n[h][1].length-n[h-1][1].length)==n[h-1][1]?(n[h][1]=n[h-1][1]+n[h][1].substring(0,n[h][1].length-n[h-1][1].length),n[h+1][1]=n[h-1][1]+n[h+1][1],n.splice(h-1,1),m=!0):n[h][1].substring(0,n[h+1][1].length)==n[h+1][1]&&(n[h-1][1]+=n[h+1][1],n[h][1]=n[h][1].substring(n[h+1][1].length)+n[h+1][1],n.splice(h+1,1),m=!0)),h++;m&&s(n)}var a=y;a.INSERT=_,a.DELETE=c,a.EQUAL=O,j.exports=a;function l(n,h){if(h===0)return[O,n];for(var A=0,g=0;g<n.length;g++){var w=n[g];if(w[0]===c||w[0]===O){var S=A+w[1].length;if(h===S)return[g+1,n];if(h<S){n=n.slice();var x=h-A,m=[w[0],w[1].slice(0,x)],N=[w[0],w[1].slice(x)];return n.splice(g,1,m,N),[g+1,n]}else A=S}}throw new Error("cursor_pos is out of bounds!")}function i(n,h){var A=l(n,h),g=A[1],w=A[0],S=g[w],x=g[w+1];if(S==null)return n;if(S[0]!==O)return n;if(x!=null&&S[1]+x[1]===x[1]+S[1])return g.splice(w,2,x,S),f(g,w,2);if(x!=null&&x[1].indexOf(S[1])===0){g.splice(w,2,[x[0],S[1]],[0,S[1]]);var m=x[1].slice(S[1].length);return m.length>0&&g.splice(w+2,0,[x[0],m]),f(g,w,3)}else return n}function o(n){for(var h=!1,A=function(x){return x.charCodeAt(0)>=56320&&x.charCodeAt(0)<=57343},g=function(x){return x.charCodeAt(x.length-1)>=55296&&x.charCodeAt(x.length-1)<=56319},w=2;w<n.length;w+=1)n[w-2][0]===O&&g(n[w-2][1])&&n[w-1][0]===c&&A(n[w-1][1])&&n[w][0]===_&&A(n[w][1])&&(h=!0,n[w-1][1]=n[w-2][1].slice(-1)+n[w-1][1],n[w][1]=n[w-2][1].slice(-1)+n[w][1],n[w-2][1]=n[w-2][1].slice(0,-1));if(!h)return n;for(var S=[],w=0;w<n.length;w+=1)n[w][1].length>0&&S.push(n[w]);return S}function f(n,h,A){for(var g=h+A-1;g>=0&&g>=h-1;g--)if(g+1<n.length){var w=n[g],S=n[g+1];w[0]===S[1]&&n.splice(g,2,[w[0],w[1]+S[1]])}return n}},function(j,u){u=j.exports=typeof Object.keys=="function"?Object.keys:c,u.shim=c;function c(_){var O=[];for(var y in _)O.push(y);return O}},function(j,u){var c=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";u=j.exports=c?_:O,u.supported=_;function _(y){return Object.prototype.toString.call(y)=="[object Arguments]"}u.unsupported=O;function O(y){return y&&typeof y=="object"&&typeof y.length=="number"&&Object.prototype.hasOwnProperty.call(y,"callee")&&!Object.prototype.propertyIsEnumerable.call(y,"callee")||!1}},function(j,u){var c=Object.prototype.hasOwnProperty,_="~";function O(){}Object.create&&(O.prototype=Object.create(null),new O().__proto__||(_=!1));function y(v,d,r){this.fn=v,this.context=d,this.once=r||!1}function p(){this._events=new O,this._eventsCount=0}p.prototype.eventNames=function(){var d=[],r,e;if(this._eventsCount===0)return d;for(e in r=this._events)c.call(r,e)&&d.push(_?e.slice(1):e);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(r)):d},p.prototype.listeners=function(d,r){var e=_?_+d:d,t=this._events[e];if(r)return!!t;if(!t)return[];if(t.fn)return[t.fn];for(var s=0,a=t.length,l=new Array(a);s<a;s++)l[s]=t[s].fn;return l},p.prototype.emit=function(d,r,e,t,s,a){var l=_?_+d:d;if(!this._events[l])return!1;var i=this._events[l],o=arguments.length,f,n;if(i.fn){switch(i.once&&this.removeListener(d,i.fn,void 0,!0),o){case 1:return i.fn.call(i.context),!0;case 2:return i.fn.call(i.context,r),!0;case 3:return i.fn.call(i.context,r,e),!0;case 4:return i.fn.call(i.context,r,e,t),!0;case 5:return i.fn.call(i.context,r,e,t,s),!0;case 6:return i.fn.call(i.context,r,e,t,s,a),!0}for(n=1,f=new Array(o-1);n<o;n++)f[n-1]=arguments[n];i.fn.apply(i.context,f)}else{var h=i.length,A;for(n=0;n<h;n++)switch(i[n].once&&this.removeListener(d,i[n].fn,void 0,!0),o){case 1:i[n].fn.call(i[n].context);break;case 2:i[n].fn.call(i[n].context,r);break;case 3:i[n].fn.call(i[n].context,r,e);break;case 4:i[n].fn.call(i[n].context,r,e,t);break;default:if(!f)for(A=1,f=new Array(o-1);A<o;A++)f[A-1]=arguments[A];i[n].fn.apply(i[n].context,f)}}return!0},p.prototype.on=function(d,r,e){var t=new y(r,e||this),s=_?_+d:d;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],t]:this._events[s].push(t):(this._events[s]=t,this._eventsCount++),this},p.prototype.once=function(d,r,e){var t=new y(r,e||this,!0),s=_?_+d:d;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],t]:this._events[s].push(t):(this._events[s]=t,this._eventsCount++),this},p.prototype.removeListener=function(d,r,e,t){var s=_?_+d:d;if(!this._events[s])return this;if(!r)return--this._eventsCount===0?this._events=new O:delete this._events[s],this;var a=this._events[s];if(a.fn)a.fn===r&&(!t||a.once)&&(!e||a.context===e)&&(--this._eventsCount===0?this._events=new O:delete this._events[s]);else{for(var l=0,i=[],o=a.length;l<o;l++)(a[l].fn!==r||t&&!a[l].once||e&&a[l].context!==e)&&i.push(a[l]);i.length?this._events[s]=i.length===1?i[0]:i:--this._eventsCount===0?this._events=new O:delete this._events[s]}return this},p.prototype.removeAllListeners=function(d){var r;return d?(r=_?_+d:d,this._events[r]&&(--this._eventsCount===0?this._events=new O:delete this._events[r])):(this._events=new O,this._eventsCount=0),this},p.prototype.off=p.prototype.removeListener,p.prototype.addListener=p.prototype.on,p.prototype.setMaxListeners=function(){return this},p.prefixed=_,p.EventEmitter=p,typeof j<"u"&&(j.exports=p)},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.matchText=u.matchSpacing=u.matchNewline=u.matchBlot=u.matchAttributor=u.default=void 0;var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},O=function(){function H(G,X){var $=[],Y=!0,ae=!1,ne=void 0;try{for(var ie=G[Symbol.iterator](),se;!(Y=(se=ie.next()).done)&&($.push(se.value),!(X&&$.length===X));Y=!0);}catch(de){ae=!0,ne=de}finally{try{!Y&&ie.return&&ie.return()}finally{if(ae)throw ne}}return $}return function(G,X){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return H(G,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function H(G,X){for(var $=0;$<X.length;$++){var Y=X[$];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(G,Y.key,Y)}}return function(G,X,$){return X&&H(G.prototype,X),$&&H(G,$),G}}(),p=c(3),v=N(p),d=c(2),r=N(d),e=c(0),t=N(e),s=c(5),a=N(s),l=c(10),i=N(l),o=c(9),f=N(o),n=c(36),h=c(37),A=c(13),g=N(A),w=c(26),S=c(38),x=c(39),m=c(40);function N(H){return H&&H.__esModule?H:{default:H}}function k(H,G,X){return G in H?Object.defineProperty(H,G,{value:X,enumerable:!0,configurable:!0,writable:!0}):H[G]=X,H}function T(H,G){if(!(H instanceof G))throw new TypeError("Cannot call a class as a function")}function C(H,G){if(!H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:H}function B(H,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);H.prototype=Object.create(G&&G.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(H,G):H.__proto__=G)}var F=(0,i.default)("quill:clipboard"),Q="__ql-matcher",D=[[Node.TEXT_NODE,ee],[Node.TEXT_NODE,le],["br",te],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,Z],[Node.ELEMENT_NODE,ce],[Node.ELEMENT_NODE,W],[Node.ELEMENT_NODE,ve],["li",oe],["b",V.bind(V,"bold")],["i",V.bind(V,"italic")],["style",re]],q=[n.AlignAttribute,S.DirectionAttribute].reduce(function(H,G){return H[G.keyName]=G,H},{}),E=[n.AlignStyle,h.BackgroundStyle,w.ColorStyle,S.DirectionStyle,x.FontStyle,m.SizeStyle].reduce(function(H,G){return H[G.keyName]=G,H},{}),L=function(H){B(G,H);function G(X,$){T(this,G);var Y=C(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,X,$));return Y.quill.root.addEventListener("paste",Y.onPaste.bind(Y)),Y.container=Y.quill.addContainer("ql-clipboard"),Y.container.setAttribute("contenteditable",!0),Y.container.setAttribute("tabindex",-1),Y.matchers=[],D.concat(Y.options.matchers).forEach(function(ae){var ne=O(ae,2),ie=ne[0],se=ne[1];!$.matchVisual&&se===ce||Y.addMatcher(ie,se)}),Y}return y(G,[{key:"addMatcher",value:function($,Y){this.matchers.push([$,Y])}},{key:"convert",value:function($){if(typeof $=="string")return this.container.innerHTML=$.replace(/\>\r?\n +\</g,"><"),this.convert();var Y=this.quill.getFormat(this.quill.selection.savedRange.index);if(Y[g.default.blotName]){var ae=this.container.innerText;return this.container.innerHTML="",new r.default().insert(ae,k({},g.default.blotName,Y[g.default.blotName]))}var ne=this.prepareMatching(),ie=O(ne,2),se=ie[0],de=ie[1],ue=I(this.container,se,de);return M(ue,`
`)&&ue.ops[ue.ops.length-1].attributes==null&&(ue=ue.compose(new r.default().retain(ue.length()-1).delete(1))),F.log("convert",this.container.innerHTML,ue),this.container.innerHTML="",ue}},{key:"dangerouslyPasteHTML",value:function($,Y){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a.default.sources.API;if(typeof $=="string")this.quill.setContents(this.convert($),Y),this.quill.setSelection(0,a.default.sources.SILENT);else{var ne=this.convert(Y);this.quill.updateContents(new r.default().retain($).concat(ne),ae),this.quill.setSelection($+ne.length(),a.default.sources.SILENT)}}},{key:"onPaste",value:function($){var Y=this;if(!($.defaultPrevented||!this.quill.isEnabled())){var ae=this.quill.getSelection(),ne=new r.default().retain(ae.index),ie=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(a.default.sources.SILENT),setTimeout(function(){ne=ne.concat(Y.convert()).delete(ae.length),Y.quill.updateContents(ne,a.default.sources.USER),Y.quill.setSelection(ne.length()-ae.length,a.default.sources.SILENT),Y.quill.scrollingContainer.scrollTop=ie,Y.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var $=this,Y=[],ae=[];return this.matchers.forEach(function(ne){var ie=O(ne,2),se=ie[0],de=ie[1];switch(se){case Node.TEXT_NODE:ae.push(de);break;case Node.ELEMENT_NODE:Y.push(de);break;default:[].forEach.call($.container.querySelectorAll(se),function(ue){ue[Q]=ue[Q]||[],ue[Q].push(de)});break}}),[Y,ae]}}]),G}(f.default);L.DEFAULTS={matchers:[],matchVisual:!0};function R(H,G,X){return(typeof G>"u"?"undefined":_(G))==="object"?Object.keys(G).reduce(function($,Y){return R($,Y,G[Y])},H):H.reduce(function($,Y){return Y.attributes&&Y.attributes[G]?$.push(Y):$.insert(Y.insert,(0,v.default)({},k({},G,X),Y.attributes))},new r.default)}function U(H){if(H.nodeType!==Node.ELEMENT_NODE)return{};var G="__ql-computed-style";return H[G]||(H[G]=window.getComputedStyle(H))}function M(H,G){for(var X="",$=H.ops.length-1;$>=0&&X.length<G.length;--$){var Y=H.ops[$];if(typeof Y.insert!="string")break;X=Y.insert+X}return X.slice(-1*G.length)===G}function P(H){if(H.childNodes.length===0)return!1;var G=U(H);return["block","list-item"].indexOf(G.display)>-1}function I(H,G,X){return H.nodeType===H.TEXT_NODE?X.reduce(function($,Y){return Y(H,$)},new r.default):H.nodeType===H.ELEMENT_NODE?[].reduce.call(H.childNodes||[],function($,Y){var ae=I(Y,G,X);return Y.nodeType===H.ELEMENT_NODE&&(ae=G.reduce(function(ne,ie){return ie(Y,ne)},ae),ae=(Y[Q]||[]).reduce(function(ne,ie){return ie(Y,ne)},ae)),$.concat(ae)},new r.default):new r.default}function V(H,G,X){return R(X,H,!0)}function W(H,G){var X=t.default.Attributor.Attribute.keys(H),$=t.default.Attributor.Class.keys(H),Y=t.default.Attributor.Style.keys(H),ae={};return X.concat($).concat(Y).forEach(function(ne){var ie=t.default.query(ne,t.default.Scope.ATTRIBUTE);ie!=null&&(ae[ie.attrName]=ie.value(H),ae[ie.attrName])||(ie=q[ne],ie!=null&&(ie.attrName===ne||ie.keyName===ne)&&(ae[ie.attrName]=ie.value(H)||void 0),ie=E[ne],ie!=null&&(ie.attrName===ne||ie.keyName===ne)&&(ie=E[ne],ae[ie.attrName]=ie.value(H)||void 0))}),Object.keys(ae).length>0&&(G=R(G,ae)),G}function Z(H,G){var X=t.default.query(H);if(X==null)return G;if(X.prototype instanceof t.default.Embed){var $={},Y=X.value(H);Y!=null&&($[X.blotName]=Y,G=new r.default().insert($,X.formats(H)))}else typeof X.formats=="function"&&(G=R(G,X.blotName,X.formats(H)));return G}function te(H,G){return M(G,`
`)||G.insert(`
`),G}function re(){return new r.default}function oe(H,G){var X=t.default.query(H);if(X==null||X.blotName!=="list-item"||!M(G,`
`))return G;for(var $=-1,Y=H.parentNode;!Y.classList.contains("ql-clipboard");)(t.default.query(Y)||{}).blotName==="list"&&($+=1),Y=Y.parentNode;return $<=0?G:G.compose(new r.default().retain(G.length()-1).retain(1,{indent:$}))}function le(H,G){return M(G,`
`)||(P(H)||G.length()>0&&H.nextSibling&&P(H.nextSibling))&&G.insert(`
`),G}function ce(H,G){if(P(H)&&H.nextElementSibling!=null&&!M(G,`

`)){var X=H.offsetHeight+parseFloat(U(H).marginTop)+parseFloat(U(H).marginBottom);H.nextElementSibling.offsetTop>H.offsetTop+X*1.5&&G.insert(`
`)}return G}function ve(H,G){var X={},$=H.style||{};return $.fontStyle&&U(H).fontStyle==="italic"&&(X.italic=!0),$.fontWeight&&(U(H).fontWeight.startsWith("bold")||parseInt(U(H).fontWeight)>=700)&&(X.bold=!0),Object.keys(X).length>0&&(G=R(G,X)),parseFloat($.textIndent||0)>0&&(G=new r.default().insert("	").concat(G)),G}function ee(H,G){var X=H.data;if(H.parentNode.tagName==="O:P")return G.insert(X.trim());if(X.trim().length===0&&H.parentNode.classList.contains("ql-clipboard"))return G;if(!U(H.parentNode).whiteSpace.startsWith("pre")){var $=function(ae,ne){return ne=ne.replace(/[^\u00a0]/g,""),ne.length<1&&ae?" ":ne};X=X.replace(/\r\n/g," ").replace(/\n/g," "),X=X.replace(/\s\s+/g,$.bind($,!0)),(H.previousSibling==null&&P(H.parentNode)||H.previousSibling!=null&&P(H.previousSibling))&&(X=X.replace(/^\s+/,$.bind($,!1))),(H.nextSibling==null&&P(H.parentNode)||H.nextSibling!=null&&P(H.nextSibling))&&(X=X.replace(/\s+$/,$.bind($,!1)))}return G.insert(X)}u.default=L,u.matchAttributor=W,u.matchBlot=Z,u.matchNewline=le,u.matchSpacing=ce,u.matchText=ee},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=function(){function s(a,l){for(var i=0;i<l.length;i++){var o=l[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(a,l,i){return l&&s(a.prototype,l),i&&s(a,i),a}}(),O=function s(a,l,i){a===null&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,l);if(o===void 0){var f=Object.getPrototypeOf(a);return f===null?void 0:s(f,l,i)}else{if("value"in o)return o.value;var n=o.get;return n===void 0?void 0:n.call(i)}},y=c(6),p=v(y);function v(s){return s&&s.__esModule?s:{default:s}}function d(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function r(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function e(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var t=function(s){e(a,s);function a(){return d(this,a),r(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return _(a,[{key:"optimize",value:function(i){O(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"optimize",this).call(this,i),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return O(a.__proto__||Object.getPrototypeOf(a),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),a}(p.default);t.blotName="bold",t.tagName=["STRONG","B"],u.default=t},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.addControls=u.default=void 0;var _=function(){function m(N,k){var T=[],C=!0,B=!1,F=void 0;try{for(var Q=N[Symbol.iterator](),D;!(C=(D=Q.next()).done)&&(T.push(D.value),!(k&&T.length===k));C=!0);}catch(q){B=!0,F=q}finally{try{!C&&Q.return&&Q.return()}finally{if(B)throw F}}return T}return function(N,k){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return m(N,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=function(){function m(N,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(N,C.key,C)}}return function(N,k,T){return k&&m(N.prototype,k),T&&m(N,T),N}}(),y=c(2),p=i(y),v=c(0),d=i(v),r=c(5),e=i(r),t=c(10),s=i(t),a=c(9),l=i(a);function i(m){return m&&m.__esModule?m:{default:m}}function o(m,N,k){return N in m?Object.defineProperty(m,N,{value:k,enumerable:!0,configurable:!0,writable:!0}):m[N]=k,m}function f(m,N){if(!(m instanceof N))throw new TypeError("Cannot call a class as a function")}function n(m,N){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:m}function h(m,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);m.prototype=Object.create(N&&N.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(m,N):m.__proto__=N)}var A=(0,s.default)("quill:toolbar"),g=function(m){h(N,m);function N(k,T){f(this,N);var C=n(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,k,T));if(Array.isArray(C.options.container)){var B=document.createElement("div");S(B,C.options.container),k.container.parentNode.insertBefore(B,k.container),C.container=B}else typeof C.options.container=="string"?C.container=document.querySelector(C.options.container):C.container=C.options.container;if(!(C.container instanceof HTMLElement)){var F;return F=A.error("Container required for toolbar",C.options),n(C,F)}return C.container.classList.add("ql-toolbar"),C.controls=[],C.handlers={},Object.keys(C.options.handlers).forEach(function(Q){C.addHandler(Q,C.options.handlers[Q])}),[].forEach.call(C.container.querySelectorAll("button, select"),function(Q){C.attach(Q)}),C.quill.on(e.default.events.EDITOR_CHANGE,function(Q,D){Q===e.default.events.SELECTION_CHANGE&&C.update(D)}),C.quill.on(e.default.events.SCROLL_OPTIMIZE,function(){var Q=C.quill.selection.getRange(),D=_(Q,1),q=D[0];C.update(q)}),C}return O(N,[{key:"addHandler",value:function(T,C){this.handlers[T]=C}},{key:"attach",value:function(T){var C=this,B=[].find.call(T.classList,function(Q){return Q.indexOf("ql-")===0});if(B){if(B=B.slice(3),T.tagName==="BUTTON"&&T.setAttribute("type","button"),this.handlers[B]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[B]==null){A.warn("ignoring attaching to disabled format",B,T);return}if(d.default.query(B)==null){A.warn("ignoring attaching to nonexistent format",B,T);return}}var F=T.tagName==="SELECT"?"change":"click";T.addEventListener(F,function(Q){var D=void 0;if(T.tagName==="SELECT"){if(T.selectedIndex<0)return;var q=T.options[T.selectedIndex];q.hasAttribute("selected")?D=!1:D=q.value||!1}else T.classList.contains("ql-active")?D=!1:D=T.value||!T.hasAttribute("value"),Q.preventDefault();C.quill.focus();var E=C.quill.selection.getRange(),L=_(E,1),R=L[0];if(C.handlers[B]!=null)C.handlers[B].call(C,D);else if(d.default.query(B).prototype instanceof d.default.Embed){if(D=prompt("Enter "+B),!D)return;C.quill.updateContents(new p.default().retain(R.index).delete(R.length).insert(o({},B,D)),e.default.sources.USER)}else C.quill.format(B,D,e.default.sources.USER);C.update(R)}),this.controls.push([B,T])}}},{key:"update",value:function(T){var C=T==null?{}:this.quill.getFormat(T);this.controls.forEach(function(B){var F=_(B,2),Q=F[0],D=F[1];if(D.tagName==="SELECT"){var q=void 0;if(T==null)q=null;else if(C[Q]==null)q=D.querySelector("option[selected]");else if(!Array.isArray(C[Q])){var E=C[Q];typeof E=="string"&&(E=E.replace(/\"/g,'\\"')),q=D.querySelector('option[value="'+E+'"]')}q==null?(D.value="",D.selectedIndex=-1):q.selected=!0}else if(T==null)D.classList.remove("ql-active");else if(D.hasAttribute("value")){var L=C[Q]===D.getAttribute("value")||C[Q]!=null&&C[Q].toString()===D.getAttribute("value")||C[Q]==null&&!D.getAttribute("value");D.classList.toggle("ql-active",L)}else D.classList.toggle("ql-active",C[Q]!=null)})}}]),N}(l.default);g.DEFAULTS={};function w(m,N,k){var T=document.createElement("button");T.setAttribute("type","button"),T.classList.add("ql-"+N),k!=null&&(T.value=k),m.appendChild(T)}function S(m,N){Array.isArray(N[0])||(N=[N]),N.forEach(function(k){var T=document.createElement("span");T.classList.add("ql-formats"),k.forEach(function(C){if(typeof C=="string")w(T,C);else{var B=Object.keys(C)[0],F=C[B];Array.isArray(F)?x(T,B,F):w(T,B,F)}}),m.appendChild(T)})}function x(m,N,k){var T=document.createElement("select");T.classList.add("ql-"+N),k.forEach(function(C){var B=document.createElement("option");C!==!1?B.setAttribute("value",C):B.setAttribute("selected","selected"),T.appendChild(B)}),m.appendChild(T)}g.DEFAULTS={container:null,handlers:{clean:function(){var N=this,k=this.quill.getSelection();if(k!=null)if(k.length==0){var T=this.quill.getFormat();Object.keys(T).forEach(function(C){d.default.query(C,d.default.Scope.INLINE)!=null&&N.quill.format(C,!1)})}else this.quill.removeFormat(k,e.default.sources.USER)},direction:function(N){var k=this.quill.getFormat().align;N==="rtl"&&k==null?this.quill.format("align","right",e.default.sources.USER):!N&&k==="right"&&this.quill.format("align",!1,e.default.sources.USER),this.quill.format("direction",N,e.default.sources.USER)},indent:function(N){var k=this.quill.getSelection(),T=this.quill.getFormat(k),C=parseInt(T.indent||0);if(N==="+1"||N==="-1"){var B=N==="+1"?1:-1;T.direction==="rtl"&&(B*=-1),this.quill.format("indent",C+B,e.default.sources.USER)}},link:function(N){N===!0&&(N=prompt("Enter link URL:")),this.quill.format("link",N,e.default.sources.USER)},list:function(N){var k=this.quill.getSelection(),T=this.quill.getFormat(k);N==="check"?T.list==="checked"||T.list==="unchecked"?this.quill.format("list",!1,e.default.sources.USER):this.quill.format("list","unchecked",e.default.sources.USER):this.quill.format("list",N,e.default.sources.USER)}}},u.default=g,u.addControls=S},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=function(){function s(a,l){for(var i=0;i<l.length;i++){var o=l[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(a,l,i){return l&&s(a.prototype,l),i&&s(a,i),a}}(),O=function s(a,l,i){a===null&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,l);if(o===void 0){var f=Object.getPrototypeOf(a);return f===null?void 0:s(f,l,i)}else{if("value"in o)return o.value;var n=o.get;return n===void 0?void 0:n.call(i)}},y=c(28),p=v(y);function v(s){return s&&s.__esModule?s:{default:s}}function d(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function r(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function e(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var t=function(s){e(a,s);function a(l,i){d(this,a);var o=r(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l));return o.label.innerHTML=i,o.container.classList.add("ql-color-picker"),[].slice.call(o.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(f){f.classList.add("ql-primary")}),o}return _(a,[{key:"buildItem",value:function(i){var o=O(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"buildItem",this).call(this,i);return o.style.backgroundColor=i.getAttribute("value")||"",o}},{key:"selectItem",value:function(i,o){O(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"selectItem",this).call(this,i,o);var f=this.label.querySelector(".ql-color-label"),n=i&&i.getAttribute("data-value")||"";f&&(f.tagName==="line"?f.style.stroke=n:f.style.fill=n)}}]),a}(p.default);u.default=t},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=function(){function s(a,l){for(var i=0;i<l.length;i++){var o=l[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(a,l,i){return l&&s(a.prototype,l),i&&s(a,i),a}}(),O=function s(a,l,i){a===null&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,l);if(o===void 0){var f=Object.getPrototypeOf(a);return f===null?void 0:s(f,l,i)}else{if("value"in o)return o.value;var n=o.get;return n===void 0?void 0:n.call(i)}},y=c(28),p=v(y);function v(s){return s&&s.__esModule?s:{default:s}}function d(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function r(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function e(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var t=function(s){e(a,s);function a(l,i){d(this,a);var o=r(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l));return o.container.classList.add("ql-icon-picker"),[].forEach.call(o.container.querySelectorAll(".ql-picker-item"),function(f){f.innerHTML=i[f.getAttribute("data-value")||""]}),o.defaultItem=o.container.querySelector(".ql-selected"),o.selectItem(o.defaultItem),o}return _(a,[{key:"selectItem",value:function(i,o){O(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"selectItem",this).call(this,i,o),i=i||this.defaultItem,this.label.innerHTML=i.innerHTML}}]),a}(p.default);u.default=t},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=function(){function p(v,d){for(var r=0;r<d.length;r++){var e=d[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(v,e.key,e)}}return function(v,d,r){return d&&p(v.prototype,d),r&&p(v,r),v}}();function O(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}var y=function(){function p(v,d){var r=this;O(this,p),this.quill=v,this.boundsContainer=d||document.body,this.root=v.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"}),this.hide()}return _(p,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var r=d.left+d.width/2-this.root.offsetWidth/2,e=d.bottom+this.quill.root.scrollTop;this.root.style.left=r+"px",this.root.style.top=e+"px",this.root.classList.remove("ql-flip");var t=this.boundsContainer.getBoundingClientRect(),s=this.root.getBoundingClientRect(),a=0;if(s.right>t.right&&(a=t.right-s.right,this.root.style.left=r+a+"px"),s.left<t.left&&(a=t.left-s.left,this.root.style.left=r+a+"px"),s.bottom>t.bottom){var l=s.bottom-s.top,i=d.bottom-d.top+l;this.root.style.top=e-i+"px",this.root.classList.add("ql-flip")}return a}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),p}();u.default=y},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=function(){function x(m,N){var k=[],T=!0,C=!1,B=void 0;try{for(var F=m[Symbol.iterator](),Q;!(T=(Q=F.next()).done)&&(k.push(Q.value),!(N&&k.length===N));T=!0);}catch(D){C=!0,B=D}finally{try{!T&&F.return&&F.return()}finally{if(C)throw B}}return k}return function(m,N){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return x(m,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=function x(m,N,k){m===null&&(m=Function.prototype);var T=Object.getOwnPropertyDescriptor(m,N);if(T===void 0){var C=Object.getPrototypeOf(m);return C===null?void 0:x(C,N,k)}else{if("value"in T)return T.value;var B=T.get;return B===void 0?void 0:B.call(k)}},y=function(){function x(m,N){for(var k=0;k<N.length;k++){var T=N[k];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(m,T.key,T)}}return function(m,N,k){return N&&x(m.prototype,N),k&&x(m,k),m}}(),p=c(3),v=f(p),d=c(8),r=f(d),e=c(43),t=f(e),s=c(27),a=f(s),l=c(15),i=c(41),o=f(i);function f(x){return x&&x.__esModule?x:{default:x}}function n(x,m){if(!(x instanceof m))throw new TypeError("Cannot call a class as a function")}function h(x,m){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:x}function A(x,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);x.prototype=Object.create(m&&m.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(x,m):x.__proto__=m)}var g=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],w=function(x){A(m,x);function m(N,k){n(this,m),k.modules.toolbar!=null&&k.modules.toolbar.container==null&&(k.modules.toolbar.container=g);var T=h(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,N,k));return T.quill.container.classList.add("ql-snow"),T}return y(m,[{key:"extendToolbar",value:function(k){k.container.classList.add("ql-snow"),this.buildButtons([].slice.call(k.container.querySelectorAll("button")),o.default),this.buildPickers([].slice.call(k.container.querySelectorAll("select")),o.default),this.tooltip=new S(this.quill,this.options.bounds),k.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(T,C){k.handlers.link.call(k,!C.format.link)})}}]),m}(t.default);w.DEFAULTS=(0,v.default)(!0,{},t.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(m){if(m){var N=this.quill.getSelection();if(N==null||N.length==0)return;var k=this.quill.getText(N);/^\S+@\S+\.\S+$/.test(k)&&k.indexOf("mailto:")!==0&&(k="mailto:"+k);var T=this.quill.theme.tooltip;T.edit("link",k)}else this.quill.format("link",!1)}}}}});var S=function(x){A(m,x);function m(N,k){n(this,m);var T=h(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,N,k));return T.preview=T.root.querySelector("a.ql-preview"),T}return y(m,[{key:"listen",value:function(){var k=this;O(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(T){k.root.classList.contains("ql-editing")?k.save():k.edit("link",k.preview.textContent),T.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(T){if(k.linkRange!=null){var C=k.linkRange;k.restoreFocus(),k.quill.formatText(C,"link",!1,r.default.sources.USER),delete k.linkRange}T.preventDefault(),k.hide()}),this.quill.on(r.default.events.SELECTION_CHANGE,function(T,C,B){if(T!=null){if(T.length===0&&B===r.default.sources.USER){var F=k.quill.scroll.descendant(a.default,T.index),Q=_(F,2),D=Q[0],q=Q[1];if(D!=null){k.linkRange=new l.Range(T.index-q,D.length());var E=a.default.formats(D.domNode);k.preview.textContent=E,k.preview.setAttribute("href",E),k.show(),k.position(k.quill.getBounds(k.linkRange));return}}else delete k.linkRange;k.hide()}})}},{key:"show",value:function(){O(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),m}(e.BaseTooltip);S.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),u.default=w},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=c(29),O=Y(_),y=c(36),p=c(38),v=c(64),d=c(65),r=Y(d),e=c(66),t=Y(e),s=c(67),a=Y(s),l=c(37),i=c(26),o=c(39),f=c(40),n=c(56),h=Y(n),A=c(68),g=Y(A),w=c(27),S=Y(w),x=c(69),m=Y(x),N=c(70),k=Y(N),T=c(71),C=Y(T),B=c(72),F=Y(B),Q=c(73),D=Y(Q),q=c(13),E=Y(q),L=c(74),R=Y(L),U=c(75),M=Y(U),P=c(57),I=Y(P),V=c(41),W=Y(V),Z=c(28),te=Y(Z),re=c(59),oe=Y(re),le=c(60),ce=Y(le),ve=c(61),ee=Y(ve),H=c(108),G=Y(H),X=c(62),$=Y(X);function Y(ae){return ae&&ae.__esModule?ae:{default:ae}}O.default.register({"attributors/attribute/direction":p.DirectionAttribute,"attributors/class/align":y.AlignClass,"attributors/class/background":l.BackgroundClass,"attributors/class/color":i.ColorClass,"attributors/class/direction":p.DirectionClass,"attributors/class/font":o.FontClass,"attributors/class/size":f.SizeClass,"attributors/style/align":y.AlignStyle,"attributors/style/background":l.BackgroundStyle,"attributors/style/color":i.ColorStyle,"attributors/style/direction":p.DirectionStyle,"attributors/style/font":o.FontStyle,"attributors/style/size":f.SizeStyle},!0),O.default.register({"formats/align":y.AlignClass,"formats/direction":p.DirectionClass,"formats/indent":v.IndentClass,"formats/background":l.BackgroundStyle,"formats/color":i.ColorStyle,"formats/font":o.FontClass,"formats/size":f.SizeClass,"formats/blockquote":r.default,"formats/code-block":E.default,"formats/header":t.default,"formats/list":a.default,"formats/bold":h.default,"formats/code":q.Code,"formats/italic":g.default,"formats/link":S.default,"formats/script":m.default,"formats/strike":k.default,"formats/underline":C.default,"formats/image":F.default,"formats/video":D.default,"formats/list/item":s.ListItem,"modules/formula":R.default,"modules/syntax":M.default,"modules/toolbar":I.default,"themes/bubble":G.default,"themes/snow":$.default,"ui/icons":W.default,"ui/picker":te.default,"ui/icon-picker":ce.default,"ui/color-picker":oe.default,"ui/tooltip":ee.default},!0),u.default=O.default},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.IndentClass=void 0;var _=function(){function a(l,i){for(var o=0;o<i.length;o++){var f=i[o];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,i,o){return i&&a(l.prototype,i),o&&a(l,o),l}}(),O=function a(l,i,o){l===null&&(l=Function.prototype);var f=Object.getOwnPropertyDescriptor(l,i);if(f===void 0){var n=Object.getPrototypeOf(l);return n===null?void 0:a(n,i,o)}else{if("value"in f)return f.value;var h=f.get;return h===void 0?void 0:h.call(o)}},y=c(0),p=v(y);function v(a){return a&&a.__esModule?a:{default:a}}function d(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}function r(a,l){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:a}function e(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);a.prototype=Object.create(l&&l.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(a,l):a.__proto__=l)}var t=function(a){e(l,a);function l(){return d(this,l),r(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return _(l,[{key:"add",value:function(o,f){if(f==="+1"||f==="-1"){var n=this.value(o)||0;f=f==="+1"?n+1:n-1}return f===0?(this.remove(o),!0):O(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"add",this).call(this,o,f)}},{key:"canAdd",value:function(o,f){return O(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"canAdd",this).call(this,o,f)||O(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"canAdd",this).call(this,o,parseInt(f))}},{key:"value",value:function(o){return parseInt(O(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"value",this).call(this,o))||void 0}}]),l}(p.default.Attributor.Class),s=new t("indent","ql-indent",{scope:p.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});u.IndentClass=s},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=c(4),O=y(_);function y(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(e){d(t,e);function t(){return p(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(O.default);r.blotName="blockquote",r.tagName="blockquote",u.default=r},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=function(){function t(s,a){for(var l=0;l<a.length;l++){var i=a[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(s,i.key,i)}}return function(s,a,l){return a&&t(s.prototype,a),l&&t(s,l),s}}(),O=c(4),y=p(O);function p(t){return t&&t.__esModule?t:{default:t}}function v(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function d(t,s){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:t}function r(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(t,s):t.__proto__=s)}var e=function(t){r(s,t);function s(){return v(this,s),d(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return _(s,null,[{key:"formats",value:function(l){return this.tagName.indexOf(l.tagName)+1}}]),s}(y.default);e.blotName="header",e.tagName=["H1","H2","H3","H4","H5","H6"],u.default=e},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.default=u.ListItem=void 0;var _=function(){function n(h,A){for(var g=0;g<A.length;g++){var w=A[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}return function(h,A,g){return A&&n(h.prototype,A),g&&n(h,g),h}}(),O=function n(h,A,g){h===null&&(h=Function.prototype);var w=Object.getOwnPropertyDescriptor(h,A);if(w===void 0){var S=Object.getPrototypeOf(h);return S===null?void 0:n(S,A,g)}else{if("value"in w)return w.value;var x=w.get;return x===void 0?void 0:x.call(g)}},y=c(0),p=t(y),v=c(4),d=t(v),r=c(25),e=t(r);function t(n){return n&&n.__esModule?n:{default:n}}function s(n,h,A){return h in n?Object.defineProperty(n,h,{value:A,enumerable:!0,configurable:!0,writable:!0}):n[h]=A,n}function a(n,h){if(!(n instanceof h))throw new TypeError("Cannot call a class as a function")}function l(n,h){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:n}function i(n,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);n.prototype=Object.create(h&&h.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(n,h):n.__proto__=h)}var o=function(n){i(h,n);function h(){return a(this,h),l(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return _(h,[{key:"format",value:function(g,w){g===f.blotName&&!w?this.replaceWith(p.default.create(this.statics.scope)):O(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"format",this).call(this,g,w)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():O(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(g,w){return this.parent.isolate(this.offset(this.parent),this.length()),g===this.parent.statics.blotName?(this.parent.replaceWith(g,w),this):(this.parent.unwrap(),O(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"replaceWith",this).call(this,g,w))}}],[{key:"formats",value:function(g){return g.tagName===this.tagName?void 0:O(h.__proto__||Object.getPrototypeOf(h),"formats",this).call(this,g)}}]),h}(d.default);o.blotName="list-item",o.tagName="LI";var f=function(n){i(h,n),_(h,null,[{key:"create",value:function(g){var w=g==="ordered"?"OL":"UL",S=O(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this,w);return(g==="checked"||g==="unchecked")&&S.setAttribute("data-checked",g==="checked"),S}},{key:"formats",value:function(g){if(g.tagName==="OL")return"ordered";if(g.tagName==="UL")return g.hasAttribute("data-checked")?g.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function h(A){a(this,h);var g=l(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,A)),w=function(x){if(x.target.parentNode===A){var m=g.statics.formats(A),N=p.default.find(x.target);m==="checked"?N.format("list","unchecked"):m==="unchecked"&&N.format("list","checked")}};return A.addEventListener("touchstart",w),A.addEventListener("mousedown",w),g}return _(h,[{key:"format",value:function(g,w){this.children.length>0&&this.children.tail.format(g,w)}},{key:"formats",value:function(){return s({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(g,w){if(g instanceof o)O(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertBefore",this).call(this,g,w);else{var S=w==null?this.length():w.offset(this),x=this.split(S);x.parent.insertBefore(g,x)}}},{key:"optimize",value:function(g){O(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"optimize",this).call(this,g);var w=this.next;w!=null&&w.prev===this&&w.statics.blotName===this.statics.blotName&&w.domNode.tagName===this.domNode.tagName&&w.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(w.moveChildren(this),w.remove())}},{key:"replace",value:function(g){if(g.statics.blotName!==this.statics.blotName){var w=p.default.create(this.statics.defaultChild);g.moveChildren(w),this.appendChild(w)}O(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"replace",this).call(this,g)}}]),h}(e.default);f.blotName="list",f.scope=p.default.Scope.BLOCK_BLOT,f.tagName=["OL","UL"],f.defaultChild="list-item",f.allowedChildren=[o],u.ListItem=o,u.default=f},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=c(56),O=y(_);function y(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(e){d(t,e);function t(){return p(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(O.default);r.blotName="italic",r.tagName=["EM","I"],u.default=r},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=function(){function s(a,l){for(var i=0;i<l.length;i++){var o=l[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(a,l,i){return l&&s(a.prototype,l),i&&s(a,i),a}}(),O=function s(a,l,i){a===null&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,l);if(o===void 0){var f=Object.getPrototypeOf(a);return f===null?void 0:s(f,l,i)}else{if("value"in o)return o.value;var n=o.get;return n===void 0?void 0:n.call(i)}},y=c(6),p=v(y);function v(s){return s&&s.__esModule?s:{default:s}}function d(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function r(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function e(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var t=function(s){e(a,s);function a(){return d(this,a),r(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return _(a,null,[{key:"create",value:function(i){return i==="super"?document.createElement("sup"):i==="sub"?document.createElement("sub"):O(a.__proto__||Object.getPrototypeOf(a),"create",this).call(this,i)}},{key:"formats",value:function(i){if(i.tagName==="SUB")return"sub";if(i.tagName==="SUP")return"super"}}]),a}(p.default);t.blotName="script",t.tagName=["SUB","SUP"],u.default=t},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=c(6),O=y(_);function y(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(e){d(t,e);function t(){return p(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(O.default);r.blotName="strike",r.tagName="S",u.default=r},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=c(6),O=y(_);function y(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(e){d(t,e);function t(){return p(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(O.default);r.blotName="underline",r.tagName="U",u.default=r},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=function(){function l(i,o){for(var f=0;f<o.length;f++){var n=o[f];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,o,f){return o&&l(i.prototype,o),f&&l(i,f),i}}(),O=function l(i,o,f){i===null&&(i=Function.prototype);var n=Object.getOwnPropertyDescriptor(i,o);if(n===void 0){var h=Object.getPrototypeOf(i);return h===null?void 0:l(h,o,f)}else{if("value"in n)return n.value;var A=n.get;return A===void 0?void 0:A.call(f)}},y=c(0),p=d(y),v=c(27);function d(l){return l&&l.__esModule?l:{default:l}}function r(l,i){if(!(l instanceof i))throw new TypeError("Cannot call a class as a function")}function e(l,i){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:l}function t(l,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);l.prototype=Object.create(i&&i.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(l,i):l.__proto__=i)}var s=["alt","height","width"],a=function(l){t(i,l);function i(){return r(this,i),e(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _(i,[{key:"format",value:function(f,n){s.indexOf(f)>-1?n?this.domNode.setAttribute(f,n):this.domNode.removeAttribute(f):O(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"format",this).call(this,f,n)}}],[{key:"create",value:function(f){var n=O(i.__proto__||Object.getPrototypeOf(i),"create",this).call(this,f);return typeof f=="string"&&n.setAttribute("src",this.sanitize(f)),n}},{key:"formats",value:function(f){return s.reduce(function(n,h){return f.hasAttribute(h)&&(n[h]=f.getAttribute(h)),n},{})}},{key:"match",value:function(f){return/\.(jpe?g|gif|png)$/.test(f)||/^data:image\/.+;base64/.test(f)}},{key:"sanitize",value:function(f){return(0,v.sanitize)(f,["http","https","data"])?f:"//:0"}},{key:"value",value:function(f){return f.getAttribute("src")}}]),i}(p.default.Embed);a.blotName="image",a.tagName="IMG",u.default=a},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0});var _=function(){function l(i,o){for(var f=0;f<o.length;f++){var n=o[f];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,o,f){return o&&l(i.prototype,o),f&&l(i,f),i}}(),O=function l(i,o,f){i===null&&(i=Function.prototype);var n=Object.getOwnPropertyDescriptor(i,o);if(n===void 0){var h=Object.getPrototypeOf(i);return h===null?void 0:l(h,o,f)}else{if("value"in n)return n.value;var A=n.get;return A===void 0?void 0:A.call(f)}},y=c(4),p=c(27),v=d(p);function d(l){return l&&l.__esModule?l:{default:l}}function r(l,i){if(!(l instanceof i))throw new TypeError("Cannot call a class as a function")}function e(l,i){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:l}function t(l,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);l.prototype=Object.create(i&&i.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(l,i):l.__proto__=i)}var s=["height","width"],a=function(l){t(i,l);function i(){return r(this,i),e(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _(i,[{key:"format",value:function(f,n){s.indexOf(f)>-1?n?this.domNode.setAttribute(f,n):this.domNode.removeAttribute(f):O(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"format",this).call(this,f,n)}}],[{key:"create",value:function(f){var n=O(i.__proto__||Object.getPrototypeOf(i),"create",this).call(this,f);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(f)),n}},{key:"formats",value:function(f){return s.reduce(function(n,h){return f.hasAttribute(h)&&(n[h]=f.getAttribute(h)),n},{})}},{key:"sanitize",value:function(f){return v.default.sanitize(f)}},{key:"value",value:function(f){return f.getAttribute("src")}}]),i}(y.BlockEmbed);a.blotName="video",a.className="ql-video",a.tagName="IFRAME",u.default=a},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.default=u.FormulaBlot=void 0;var _=function(){function f(n,h){for(var A=0;A<h.length;A++){var g=h[A];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,g.key,g)}}return function(n,h,A){return h&&f(n.prototype,h),A&&f(n,A),n}}(),O=function f(n,h,A){n===null&&(n=Function.prototype);var g=Object.getOwnPropertyDescriptor(n,h);if(g===void 0){var w=Object.getPrototypeOf(n);return w===null?void 0:f(w,h,A)}else{if("value"in g)return g.value;var S=g.get;return S===void 0?void 0:S.call(A)}},y=c(35),p=t(y),v=c(5),d=t(v),r=c(9),e=t(r);function t(f){return f&&f.__esModule?f:{default:f}}function s(f,n){if(!(f instanceof n))throw new TypeError("Cannot call a class as a function")}function a(f,n){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:f}function l(f,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);f.prototype=Object.create(n&&n.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(f,n):f.__proto__=n)}var i=function(f){l(n,f);function n(){return s(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _(n,null,[{key:"create",value:function(A){var g=O(n.__proto__||Object.getPrototypeOf(n),"create",this).call(this,A);return typeof A=="string"&&(window.katex.render(A,g,{throwOnError:!1,errorColor:"#f00"}),g.setAttribute("data-value",A)),g}},{key:"value",value:function(A){return A.getAttribute("data-value")}}]),n}(p.default);i.blotName="formula",i.className="ql-formula",i.tagName="SPAN";var o=function(f){l(n,f),_(n,null,[{key:"register",value:function(){d.default.register(i,!0)}}]);function n(){s(this,n);var h=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return h}return n}(e.default);u.FormulaBlot=i,u.default=o},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.default=u.CodeToken=u.CodeBlock=void 0;var _=function(){function A(g,w){for(var S=0;S<w.length;S++){var x=w[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,w,S){return w&&A(g.prototype,w),S&&A(g,S),g}}(),O=function A(g,w,S){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,w);if(x===void 0){var m=Object.getPrototypeOf(g);return m===null?void 0:A(m,w,S)}else{if("value"in x)return x.value;var N=x.get;return N===void 0?void 0:N.call(S)}},y=c(0),p=a(y),v=c(5),d=a(v),r=c(9),e=a(r),t=c(13),s=a(t);function a(A){return A&&A.__esModule?A:{default:A}}function l(A,g){if(!(A instanceof g))throw new TypeError("Cannot call a class as a function")}function i(A,g){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:A}function o(A,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);A.prototype=Object.create(g&&g.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(A,g):A.__proto__=g)}var f=function(A){o(g,A);function g(){return l(this,g),i(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return _(g,[{key:"replaceWith",value:function(S){this.domNode.textContent=this.domNode.textContent,this.attach(),O(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"replaceWith",this).call(this,S)}},{key:"highlight",value:function(S){var x=this.domNode.textContent;this.cachedText!==x&&((x.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=S(x),this.domNode.normalize(),this.attach()),this.cachedText=x)}}]),g}(s.default);f.className="ql-syntax";var n=new p.default.Attributor.Class("token","hljs",{scope:p.default.Scope.INLINE}),h=function(A){o(g,A),_(g,null,[{key:"register",value:function(){d.default.register(n,!0),d.default.register(f,!0)}}]);function g(w,S){l(this,g);var x=i(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,w,S));if(typeof x.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var m=null;return x.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(m),m=setTimeout(function(){x.highlight(),m=null},x.options.interval)}),x.highlight(),x}return _(g,[{key:"highlight",value:function(){var S=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var x=this.quill.getSelection();this.quill.scroll.descendants(f).forEach(function(m){m.highlight(S.options.highlight)}),this.quill.update(d.default.sources.SILENT),x!=null&&this.quill.setSelection(x,d.default.sources.SILENT)}}}]),g}(e.default);h.DEFAULTS={highlight:function(){return window.hljs==null?null:function(A){var g=window.hljs.highlightAuto(A);return g.value}}(),interval:1e3},u.CodeBlock=f,u.CodeToken=n,u.default=h},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(j,u){j.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(j,u){j.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(j,u){j.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(j,u){j.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(j,u){j.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(j,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.default=u.BubbleTooltip=void 0;var _=function g(w,S,x){w===null&&(w=Function.prototype);var m=Object.getOwnPropertyDescriptor(w,S);if(m===void 0){var N=Object.getPrototypeOf(w);return N===null?void 0:g(N,S,x)}else{if("value"in m)return m.value;var k=m.get;return k===void 0?void 0:k.call(x)}},O=function(){function g(w,S){for(var x=0;x<S.length;x++){var m=S[x];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(w,m.key,m)}}return function(w,S,x){return S&&g(w.prototype,S),x&&g(w,x),w}}(),y=c(3),p=l(y),v=c(8),d=l(v),r=c(43),e=l(r),t=c(15),s=c(41),a=l(s);function l(g){return g&&g.__esModule?g:{default:g}}function i(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")}function o(g,w){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:g}function f(g,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);g.prototype=Object.create(w&&w.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(g,w):g.__proto__=w)}var n=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],h=function(g){f(w,g);function w(S,x){i(this,w),x.modules.toolbar!=null&&x.modules.toolbar.container==null&&(x.modules.toolbar.container=n);var m=o(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,S,x));return m.quill.container.classList.add("ql-bubble"),m}return O(w,[{key:"extendToolbar",value:function(x){this.tooltip=new A(this.quill,this.options.bounds),this.tooltip.root.appendChild(x.container),this.buildButtons([].slice.call(x.container.querySelectorAll("button")),a.default),this.buildPickers([].slice.call(x.container.querySelectorAll("select")),a.default)}}]),w}(e.default);h.DEFAULTS=(0,p.default)(!0,{},e.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(w){w?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var A=function(g){f(w,g);function w(S,x){i(this,w);var m=o(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,S,x));return m.quill.on(d.default.events.EDITOR_CHANGE,function(N,k,T,C){if(N===d.default.events.SELECTION_CHANGE)if(k!=null&&k.length>0&&C===d.default.sources.USER){m.show(),m.root.style.left="0px",m.root.style.width="",m.root.style.width=m.root.offsetWidth+"px";var B=m.quill.getLines(k.index,k.length);if(B.length===1)m.position(m.quill.getBounds(k));else{var F=B[B.length-1],Q=m.quill.getIndex(F),D=Math.min(F.length()-1,k.index+k.length-Q),q=m.quill.getBounds(new t.Range(Q,D));m.position(q)}}else document.activeElement!==m.textbox&&m.quill.hasFocus()&&m.hide()}),m}return O(w,[{key:"listen",value:function(){var x=this;_(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){x.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!x.root.classList.contains("ql-hidden")){var m=x.quill.getSelection();m!=null&&x.position(x.quill.getBounds(m))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(x){var m=_(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"position",this).call(this,x),N=this.root.querySelector(".ql-tooltip-arrow");if(N.style.marginLeft="",m===0)return m;N.style.marginLeft=-1*m-N.offsetWidth/2+"px"}}]),w}(r.BaseTooltip);A.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),u.BubbleTooltip=A,u.default=h},function(j,u,c){j.exports=c(63)}]).default})})(Zt);var ur=Zt.exports,cr=we&&we.__extends||function(){var K=function(z,j){return K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var _ in c)c.hasOwnProperty(_)&&(u[_]=c[_])},K(z,j)};return function(z,j){K(z,j);function u(){this.constructor=z}z.prototype=j===null?Object.create(j):(u.prototype=j.prototype,new u)}}(),Ge=we&&we.__assign||function(){return Ge=Object.assign||function(K){for(var z,j=1,u=arguments.length;j<u;j++){z=arguments[j];for(var c in z)Object.prototype.hasOwnProperty.call(z,c)&&(K[c]=z[c])}return K},Ge.apply(this,arguments)},fr=we&&we.__spreadArrays||function(){for(var K=0,z=0,j=arguments.length;z<j;z++)K+=arguments[z].length;for(var u=Array(K),c=0,z=0;z<j;z++)for(var _=arguments[z],O=0,y=_.length;O<y;O++,c++)u[c]=_[O];return u},Ze=we&&we.__importDefault||function(K){return K&&K.__esModule?K:{default:K}},Oe=Ze(J),dr=Ze(en),Ce=Ze(fn),Ot=Ze(ur),hr=function(K){cr(z,K);function z(j){var u=K.call(this,j)||this;u.dirtyProps=["modules","formats","bounds","theme","children"],u.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],u.state={generation:0},u.selection=null,u.onEditorChange=function(_,O,y,p){var v,d,r,e;_==="text-change"?(d=(v=u).onEditorChangeText)===null||d===void 0||d.call(v,u.editor.root.innerHTML,O,p,u.unprivilegedEditor):_==="selection-change"&&((e=(r=u).onEditorChangeSelection)===null||e===void 0||e.call(r,O,p,u.unprivilegedEditor))};var c=u.isControlled()?j.value:j.defaultValue;return u.value=c??"",u}return z.prototype.validateProps=function(j){var u;if(Oe.default.Children.count(j.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Oe.default.Children.count(j.children)){var c=Oe.default.Children.only(j.children);if(((u=c)===null||u===void 0?void 0:u.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&j.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},z.prototype.shouldComponentUpdate=function(j,u){var c=this,_;if(this.validateProps(j),!this.editor||this.state.generation!==u.generation)return!0;if("value"in j){var O=this.getEditorContents(),y=(_=j.value,_??"");this.isEqualValue(y,O)||this.setEditorContents(this.editor,y)}return j.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,j.readOnly),fr(this.cleanProps,this.dirtyProps).some(function(p){return!Ce.default(j[p],c.props[p])})},z.prototype.shouldComponentRegenerate=function(j){var u=this;return this.dirtyProps.some(function(c){return!Ce.default(j[c],u.props[c])})},z.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},z.prototype.componentWillUnmount=function(){this.destroyEditor()},z.prototype.componentDidUpdate=function(j,u){var c=this;if(this.editor&&this.shouldComponentRegenerate(j)){var _=this.editor.getContents(),O=this.editor.getSelection();this.regenerationSnapshot={delta:_,selection:O},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==u.generation){var y=this.regenerationSnapshot,_=y.delta,p=y.selection;delete this.regenerationSnapshot,this.instantiateEditor();var v=this.editor;v.setContents(_),Nt(function(){return c.setEditorSelection(v,p)})}},z.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},z.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},z.prototype.isControlled=function(){return"value"in this.props},z.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},z.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},z.prototype.createEditor=function(j,u){var c=new Ot.default(j,u);return u.tabIndex!=null&&this.setEditorTabIndex(c,u.tabIndex),this.hookEditor(c),c},z.prototype.hookEditor=function(j){this.unprivilegedEditor=this.makeUnprivilegedEditor(j),j.on("editor-change",this.onEditorChange)},z.prototype.unhookEditor=function(j){j.off("editor-change",this.onEditorChange)},z.prototype.getEditorContents=function(){return this.value},z.prototype.getEditorSelection=function(){return this.selection},z.prototype.isDelta=function(j){return j&&j.ops},z.prototype.isEqualValue=function(j,u){return this.isDelta(j)&&this.isDelta(u)?Ce.default(j.ops,u.ops):Ce.default(j,u)},z.prototype.setEditorContents=function(j,u){var c=this;this.value=u;var _=this.getEditorSelection();typeof u=="string"?j.setContents(j.clipboard.convert(u)):j.setContents(u),Nt(function(){return c.setEditorSelection(j,_)})},z.prototype.setEditorSelection=function(j,u){if(this.selection=u,u){var c=j.getLength();u.index=Math.max(0,Math.min(u.index,c-1)),u.length=Math.max(0,Math.min(u.length,c-1-u.index)),j.setSelection(u)}},z.prototype.setEditorTabIndex=function(j,u){var c,_;!((_=(c=j)===null||c===void 0?void 0:c.scroll)===null||_===void 0)&&_.domNode&&(j.scroll.domNode.tabIndex=u)},z.prototype.setEditorReadOnly=function(j,u){u?j.disable():j.enable()},z.prototype.makeUnprivilegedEditor=function(j){var u=j;return{getHTML:function(){return u.root.innerHTML},getLength:u.getLength.bind(u),getText:u.getText.bind(u),getContents:u.getContents.bind(u),getSelection:u.getSelection.bind(u),getBounds:u.getBounds.bind(u)}},z.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var j=dr.default.findDOMNode(this.editingArea);if(!j)throw new Error("Cannot find element for editing area");if(j.nodeType===3)throw new Error("Editing area cannot be a text node");return j},z.prototype.renderEditingArea=function(){var j=this,u=this.props,c=u.children,_=u.preserveWhitespace,O=this.state.generation,y={key:O,ref:function(p){j.editingArea=p}};return Oe.default.Children.count(c)?Oe.default.cloneElement(Oe.default.Children.only(c),y):_?Oe.default.createElement("pre",Ge({},y)):Oe.default.createElement("div",Ge({},y))},z.prototype.render=function(){var j;return Oe.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(j=this.props.className,j??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},z.prototype.onEditorChangeText=function(j,u,c,_){var O,y;if(this.editor){var p=this.isDelta(this.value)?_.getContents():_.getHTML();p!==this.getEditorContents()&&(this.lastDeltaChangeSet=u,this.value=p,(y=(O=this.props).onChange)===null||y===void 0||y.call(O,j,u,c,_))}},z.prototype.onEditorChangeSelection=function(j,u,c){var _,O,y,p,v,d;if(this.editor){var r=this.getEditorSelection(),e=!r&&j,t=r&&!j;Ce.default(j,r)||(this.selection=j,(O=(_=this.props).onChangeSelection)===null||O===void 0||O.call(_,j,u,c),e?(p=(y=this.props).onFocus)===null||p===void 0||p.call(y,j,u,c):t&&((d=(v=this.props).onBlur)===null||d===void 0||d.call(v,r,u,c)))}},z.prototype.focus=function(){this.editor&&this.editor.focus()},z.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},z.displayName="React Quill",z.Quill=Ot.default,z.defaultProps={theme:"snow",modules:{},readOnly:!1},z}(Oe.default.Component);function Nt(K){Promise.resolve().then(K)}var pr=hr;const ze=Jt(pr),Ke=({tableKey:K,location:z,period:j,sectionId:u,initialSummary:c,author:_})=>{const O=z||"all-locations",{notes:y,loading:p,error:v,save:d,updateByRow:r,deleteByRow:e}=sr({tableKey:K,location:O,period:j,sectionId:u}),t=J.useMemo(()=>y[y.length-1],[y]),s=J.useRef(null),a=J.useRef(null),[l,i]=J.useState(c||""),[o,f]=J.useState("");J.useEffect(()=>{t&&(l||i(t.summary||""),o||f(t.note||""))},[t?.timestamp]);const n=J.useMemo(()=>`ai-notes-pin:summary:${K}:${O}:${j||"all"}:${u||"default"}`,[K,O,j,u]),h=J.useMemo(()=>`ai-notes-pin:notes:${K}:${O}:${j||"all"}:${u||"default"}`,[K,O,j,u]),A=J.useMemo(()=>`ai-notes-collapsed:${K}:${O}:${j||"all"}:${u||"default"}`,[K,O,j,u]),[g,w]=J.useState(()=>{try{return localStorage.getItem(n)==="1"}catch{return!1}}),[S,x]=J.useState(()=>{try{return localStorage.getItem(h)==="1"}catch{return!1}}),[m,N]=J.useState(()=>{try{return localStorage.getItem(A)==="1"}catch{return!1}}),[k,T]=J.useState(!1),[C,B]=J.useState(!1),F={toolbar:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}],["blockquote","code-block"],["link","image","video"],[{table:"TD"}],["clean"]],clipboard:{matchVisual:!1}},Q=["header","font","size","bold","italic","underline","strike","color","background","script","list","indent","direction","align","blockquote","code-block","link","image","video","table"],D=ee=>{if(!ee)return"";const H=se=>se.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),G=ee.replace(/\r\n?/g,`
`).split(`
`),X=[],$=se=>/\|/.test(se),Y=se=>/\t/.test(se),ae=se=>{const de=se,ue=$(G[se])?"pipe":Y(G[se])?"tab":null;if(!ue)return{consumed:0};const me=[];let fe=se;for(;fe<G.length;){const ye=G[fe];if(ue==="pipe"&&$(ye)||ue==="tab"&&Y(ye)){const Be=ue==="pipe"?ye.split("|").map(Ee=>Ee.trim()).filter((Ee,Fe,Ue)=>!(Fe===0&&Ue[0]==="")&&!(Fe===Ue.length-1&&Ue[Ue.length-1]==="")):ye.split("	").map(Ee=>Ee.trim());Be.length>1&&me.push(Be),fe++;continue}break}if(me.length>=2){const ye=me[0],Be=me.slice(1);return X.push('<table class="ai-table">'),X.push("<thead><tr>"+ye.map(Ee=>`<th>${H(Ee)}</th>`).join("")+"</tr></thead>"),X.push("<tbody>"+Be.map(Ee=>"<tr>"+Ee.map(Fe=>`<td>${H(Fe)}</td>`).join("")+"</tr>").join("")+"</tbody>"),X.push("</table>"),{consumed:fe-de}}return{consumed:0}},ne=se=>{se.length&&(X.push('<ul class="ai-image-bullets">'+se.map(de=>`<li>${de}</li>`).join("")+"</ul>"),se.length=0)};let ie=[];for(let se=0;se<G.length;se++){const de=G[se].trim();if(!de){ne(ie);continue}const ue=ae(se);if(ue.consumed){ne(ie),se+=ue.consumed-1;continue}const me=H(de).replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>");if(/^(?:\*|-|\u2022)\s+/.test(de)||/^\d+[\.)]\s+/.test(de)){de.replace(/^(?:\*|-|\u2022)\s+/,"").replace(/^\d+[\.)]\s+/,""),ie.push(me.replace(/^(?:\*|-|\u2022|\d+[\.)])\s+/,""));continue}if(de.endsWith(":")||de.length<=64&&de===de.toUpperCase()&&/[A-Z]/.test(de)){ne(ie),X.push(`<h3>${me.replace(/:$/,"")}</h3>`);continue}ne(ie),X.push(`<p>${me}</p>`)}return ne(ie),X.join("")};J.useEffect(()=>{const ee=X=>{if(!X)return;const $=X.getEditor?.();if(!$||!$.root)return;const Y=ae=>{const ne=ae.clipboardData;if(!ne)return;const ie=ne.getData("text/html"),se=ne.getData("text/plain");if(se&&!ie){ae.preventDefault();const de=D(se),ue=_e.sanitize(de,{USE_PROFILES:{html:!0}}),me=$.getSelection(!0),fe=me?me.index:$.getLength();$.clipboard.dangerouslyPasteHTML(fe,ue,"user")}};return $.root.addEventListener("paste",Y),()=>$.root.removeEventListener("paste",Y)},H=ee(s.current),G=ee(a.current);return()=>{typeof H=="function"&&H(),typeof G=="function"&&G()}},[s.current,a.current]);const[q,E]=J.useState(!1),L=async ee=>{const H=y[ee];if(H)try{const G=_e.sanitize(H.summary||"",{USE_PROFILES:{html:!0}}),X=_e.sanitize(H.note||"",{USE_PROFILES:{html:!0}});await d({note:X,summary:G,author:_||"Anonymous"})&&(i(G),f(X))}catch{}},[R,U]=J.useState(null),[M,P]=J.useState(""),[I,V]=J.useState(""),W=ee=>{const H=y[ee];H&&(U(ee),P(H.summary||""),V(H.note||""))},Z=()=>{U(null),P(""),V("")},te=async()=>{if(R===null)return;const ee=y[R];if(!(!ee||!ee.rowNumber))try{const H=_e.sanitize(M,{USE_PROFILES:{html:!0}}),G=_e.sanitize(I,{USE_PROFILES:{html:!0}});await r(ee.rowNumber,{summary:H,note:G,author:_||"Anonymous"})&&Z()}catch{}},re=async ee=>{const H=y[ee];if(!(!H||!H.rowNumber||!window.confirm(`Delete this note from ${H.timestamp}? This cannot be undone.`)))try{const X=await e(H.rowNumber)}catch{}},oe=()=>{const ee=!g;w(ee);try{localStorage.setItem(n,ee?"1":"0")}catch{}ee&&T(!0)},le=()=>{const ee=!S;x(ee);try{localStorage.setItem(h,ee?"1":"0")}catch{}ee&&B(!0)},ce=()=>{const ee=!m;N(ee);try{localStorage.setItem(A,ee?"1":"0")}catch{}ee||(g&&T(!0),S&&B(!0))},ve=ee=>{const H=ee==="summary"?s.current:a.current;if(!H)return;const G=H.getEditor?.();if(!G)return;const X=G.getText(),$=_e.sanitize(D(X),{USE_PROFILES:{html:!0}});G.setSelection(0,G.getLength()),G.deleteText(0,G.getLength()),G.clipboard.dangerouslyPasteHTML(0,$,"user");const Y=G.root.innerHTML;ee==="summary"?i(Y):f(Y)};return m?b.jsx(Ne,{className:"mt-4 ai-notes border-l-4 border-l-blue-500",children:b.jsx(Pe,{className:"pb-2 pt-3",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(He,{className:"h-5 w-5 text-blue-600"}),b.jsx(Xe,{className:"h-5 w-5 text-green-600"}),y.length>0&&b.jsx(pe,{variant:"secondary",className:"text-xs",children:y.length}),t&&b.jsxs("div",{className:"text-xs text-gray-500",children:["Last: ",new Date(t.timestamp).toLocaleDateString()]})]}),(g||S)&&b.jsx($e,{className:"h-4 w-4 text-orange-500"})]}),b.jsx(he,{variant:"ghost",size:"sm",onClick:ce,className:"h-8 w-8 p-0",title:"Expand Notes & Summary",children:b.jsx(qt,{className:"h-4 w-4"})})]})})}):b.jsxs(Ne,{className:"mt-4 ai-notes border-l-4 border-l-blue-500",children:[b.jsxs(Pe,{className:"flex flex-col gap-3",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs(Ie,{className:"text-base flex items-center gap-2",children:[b.jsx(He,{className:"h-5 w-5 text-blue-600"}),"AI Summary & Notes",y.length>0&&b.jsxs(pe,{variant:"secondary",className:"text-xs",children:[y.length," saved"]}),O!=="all-locations"&&b.jsx(pe,{variant:"outline",className:"text-xs",children:O})]}),b.jsx(he,{variant:"ghost",size:"sm",onClick:ce,className:"h-8 w-8 p-0",title:"Collapse to Icons",children:b.jsx(Mn,{className:"h-4 w-4"})})]}),b.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[b.jsxs(he,{type:"button",variant:"outline",size:"sm",onClick:()=>T(ee=>!ee),children:[k?b.jsx(De,{className:"mr-2 h-4 w-4"}):b.jsx(et,{className:"mr-2 h-4 w-4"}),b.jsx(He,{className:"mr-1 h-4 w-4"}),"Summary"]}),b.jsx(he,{type:"button",variant:"ghost",size:"sm",onClick:oe,title:g?"Unpin Summary":"Pin Summary",children:g?b.jsx($e,{className:"h-4 w-4 text-orange-500"}):b.jsx(mt,{className:"h-4 w-4"})}),b.jsxs(he,{type:"button",variant:"outline",size:"sm",onClick:()=>B(ee=>!ee),children:[C?b.jsx(De,{className:"mr-2 h-4 w-4"}):b.jsx(et,{className:"mr-2 h-4 w-4"}),b.jsx(Xe,{className:"mr-1 h-4 w-4"}),"Notes"]}),b.jsx(he,{type:"button",variant:"ghost",size:"sm",onClick:le,title:S?"Unpin Notes":"Pin Notes",children:S?b.jsx($e,{className:"h-4 w-4 text-orange-500"}):b.jsx(mt,{className:"h-4 w-4"})})]})]}),b.jsxs(ke,{className:"space-y-3",children:[t&&b.jsxs("div",{className:"text-sm text-slate-600 ai-notes-render",children:[b.jsx("div",{className:"font-medium",children:"Last saved:"}),b.jsxs("div",{className:"whitespace-pre-wrap",children:[t.summary&&b.jsxs("div",{className:"mb-2",children:[b.jsx("div",{className:"font-semibold",children:"Summary:"}),b.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:t.summary}})]}),t.note&&b.jsxs("div",{children:[b.jsx("div",{className:"font-semibold",children:"Note:"}),b.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:t.note}})]})]}),b.jsx("div",{className:"mt-3",children:b.jsxs(he,{type:"button",variant:"outline",size:"sm",onClick:()=>E(ee=>!ee),children:[q?"Hide history":"Show history"," (",y.length,")"]})}),q&&b.jsx("div",{className:"mt-2 space-y-3 max-h-64 overflow-y-auto border-t pt-2",children:y.map((ee,H)=>b.jsxs("div",{className:"border rounded p-3 bg-gradient-to-r from-gray-50 to-white shadow-sm",children:[b.jsxs("div",{className:"text-xs text-slate-500 mb-2 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"font-medium",children:new Date(ee.timestamp).toLocaleString()}),b.jsx("span",{children:"•"}),b.jsx("span",{children:ee.author||"Anonymous"}),ee.location&&ee.location!==O&&b.jsx(pe,{variant:"outline",className:"text-[10px] px-1 py-0",children:ee.location})]}),b.jsx("div",{className:"flex items-center gap-1",children:b.jsxs("span",{className:"text-[10px] text-slate-400",children:["#",ee.rowNumber||"?"]})})]}),R===H?b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-slate-600 mb-1 font-medium",children:"Summary"}),b.jsx(ze,{theme:"snow",value:M,onChange:P,modules:{toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link","clean"]]},className:"bg-white rounded"})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-slate-600 mb-1 font-medium",children:"Note"}),b.jsx(ze,{theme:"snow",value:I,onChange:V,modules:{toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link","clean"]]},className:"bg-white rounded"})]}),b.jsxs("div",{className:"flex gap-2 pt-2",children:[b.jsxs(he,{type:"button",size:"sm",onClick:te,disabled:p,children:[p?b.jsx(Qe,{size:"xs",className:"mr-2"}):b.jsx(Je,{className:"mr-2 h-4 w-4"}),"Save Changes"]}),b.jsx(he,{type:"button",size:"sm",variant:"outline",onClick:Z,children:"Cancel"})]})]}):b.jsxs(b.Fragment,{children:[ee.summary&&b.jsxs("div",{className:"mb-2",children:[b.jsx("div",{className:"text-xs text-slate-600 mb-1 font-medium",children:"Summary"}),b.jsx("div",{className:"prose prose-sm max-w-none bg-blue-50 p-2 rounded",dangerouslySetInnerHTML:{__html:_e.sanitize(ee.summary)}})]}),ee.note&&b.jsxs("div",{className:"mb-2",children:[b.jsx("div",{className:"text-xs text-slate-600 mb-1 font-medium",children:"Note"}),b.jsx("div",{className:"prose prose-sm max-w-none bg-green-50 p-2 rounded",dangerouslySetInnerHTML:{__html:_e.sanitize(ee.note)}})]}),b.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 pt-2 border-t border-gray-200",children:[b.jsxs(he,{type:"button",size:"sm",variant:"secondary",onClick:()=>L(H),className:"flex items-center gap-1",children:[b.jsx(Bn,{className:"h-3 w-3"}),"Restore"]}),b.jsxs(he,{type:"button",size:"sm",variant:"outline",onClick:()=>W(H),className:"flex items-center gap-1",children:[b.jsx(Rn,{className:"h-3 w-3"}),"Edit"]}),b.jsxs(he,{type:"button",size:"sm",variant:"destructive",onClick:()=>re(H),className:"flex items-center gap-1",children:[b.jsx(Cn,{className:"h-3 w-3"}),"Delete"]})]})]})]},`${ee.rowNumber}-${H}`))})]}),k&&b.jsxs("div",{className:"grid gap-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(He,{className:"h-4 w-4 text-blue-600"}),b.jsx("div",{className:"text-sm font-medium text-blue-800",children:"Summary Editor"})]}),b.jsx(ze,{ref:s,theme:"snow",value:l,onChange:i,modules:F,formats:Q,className:"bg-white rounded-md shadow-sm",placeholder:"Enter your summary here... Use the toolbar for advanced formatting."}),b.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[b.jsxs(he,{type:"button",variant:"secondary",onClick:()=>ve("summary"),title:"Auto-format and beautify content",children:[b.jsx(gt,{className:"mr-2 h-4 w-4"})," Clean & Beautify"]}),b.jsxs(he,{onClick:async()=>{const ee=_e.sanitize(l,{USE_PROFILES:{html:!0}}),H=_e.sanitize(o||t?.note||"",{USE_PROFILES:{html:!0}});await d({summary:ee,note:H,author:_||"Anonymous"})&&!g&&T(!1)},disabled:p,className:"bg-blue-600 hover:bg-blue-700",children:[p?b.jsx(Qe,{size:"xs",className:"mr-2"}):b.jsx(Je,{className:"mr-2 h-4 w-4"}),"Save Summary"]}),l&&b.jsx(he,{type:"button",variant:"outline",onClick:()=>i(""),size:"sm",children:"Clear"})]})]}),C&&b.jsxs("div",{className:"grid gap-4 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Xe,{className:"h-4 w-4 text-green-600"}),b.jsx("div",{className:"text-sm font-medium text-green-800",children:"Notes Editor"})]}),b.jsx(ze,{ref:a,theme:"snow",value:o,onChange:f,modules:F,formats:Q,className:"bg-white rounded-md shadow-sm",placeholder:"Enter your notes here... Supports rich formatting, tables, links, and more."}),b.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[b.jsxs(he,{type:"button",variant:"secondary",onClick:()=>ve("notes"),title:"Auto-format and beautify content",children:[b.jsx(gt,{className:"mr-2 h-4 w-4"})," Clean & Beautify"]}),b.jsxs(he,{onClick:async()=>{const ee=_e.sanitize(o,{USE_PROFILES:{html:!0}}),H=_e.sanitize(l||t?.summary||"",{USE_PROFILES:{html:!0}});await d({summary:H,note:ee,author:_||"Anonymous"})&&(f(""),S||B(!1))},disabled:p,className:"bg-green-600 hover:bg-green-700",children:[p?b.jsx(Qe,{size:"xs",className:"mr-2"}):b.jsx(Je,{className:"mr-2 h-4 w-4"}),"Save Notes"]}),o&&b.jsx(he,{type:"button",variant:"outline",onClick:()=>f(""),size:"sm",children:"Clear"})]})]}),v&&b.jsx("div",{className:"text-sm text-red-600",children:String(v)})]})]})},wt=[{id:"all",name:"All Locations",fullName:"All Locations"},{id:"kwality",name:"Kwality House, Kemps Corner",fullName:"Kwality House, Kemps Corner"},{id:"supreme",name:"Supreme HQ, Bandra",fullName:"Supreme HQ, Bandra"},{id:"kenkere",name:"Kenkere House",fullName:"Kenkere House"}];J.memo(({location:K,isActive:z})=>b.jsxs("div",{className:"flex items-center gap-2",children:[K.id==="all"?b.jsx(sn,{className:"w-4 h-4"}):b.jsx(Rt,{className:"w-4 h-4"}),b.jsx("div",{className:"text-center",children:b.jsx("div",{className:"font-bold",children:K.name})})]}));J.memo(({title:K,value:z,description:j})=>b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:z}),b.jsx("div",{className:"text-sm text-slate-300 font-medium",children:j})]}));const vr=()=>{const K=tn(),{data:z,loading:j,error:u,refetch:c}=jt(),[_,O]=J.useState("kwality"),[y,p]=J.useState(!1),v=Sn(z||[]),d=J.useMemo(()=>{if(_==="all")return v;const e=wt.find(t=>t.id===_);return e?v.filter(t=>{if(t.location===e.fullName)return!0;const s=t.location?.toLowerCase()||"";return e.fullName.toLowerCase(),!!(e.id==="kwality"&&s.includes("kwality")||e.id==="supreme"&&s.includes("supreme")||e.id==="kenkere"&&s.includes("kenkere"))}):v},[v,_]),r=J.useMemo(()=>wt.slice(1).map(t=>{const s=(z||[]).filter(o=>{const f=o.location?.toLowerCase()||"";return t.fullName.toLowerCase(),t.id==="kwality"&&f.includes("kwality")||t.id==="supreme"&&f.includes("supreme")||t.id==="kenkere"&&f.includes("kenkere")?!0:o.location===t.fullName}),a=s.length,l=s.reduce((o,f)=>o+(f.checkedInCount||0),0),i=s.length>0?Math.round(s.reduce((o,f)=>o+(f.fillPercentage||0),0)/s.length):0;return{location:t.name.split(",")[0],sessions:qe(a),attendance:l.toLocaleString(),fillRate:`${i}%`}}),[z]);return J.useCallback(e=>{O(e)},[]),j?null:u?b.jsx("div",{className:"min-h-screen bg-gray-50/30 flex items-center justify-center p-4",children:b.jsx(Ne,{className:`p-8 ${Re.card.background} ${Re.card.shadow} max-w-md`,children:b.jsxs(ke,{className:"text-center space-y-4",children:[b.jsx(st,{className:"w-12 h-12 text-red-600 mx-auto"}),b.jsxs("div",{children:[b.jsx("p",{className:"text-lg font-semibold text-gray-800",children:"Connection Error"}),b.jsx("p",{className:"text-sm text-gray-600 mt-2",children:u})]}),b.jsxs(he,{onClick:c,className:"gap-2",children:[b.jsx(st,{className:"w-4 h-4"}),"Retry Connection"]})]})})}):b.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/20",children:[b.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white min-h-[500px]",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/20 via-purple-600/20 to-indigo-600/20"}),b.jsxs("div",{className:"absolute inset-0",children:[b.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_20%_80%,_rgba(120,119,198,0.3),_transparent_50%)]"}),b.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_80%_20%,_rgba(255,255,255,0.1),_transparent_50%)]"}),b.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_40%_40%,_rgba(120,119,198,0.2),_transparent_50%)]"})]}),b.jsx("div",{className:"relative px-8 py-20",children:b.jsxs("div",{className:"max-w-7xl mx-auto",children:[b.jsxs("div",{className:"flex items-center justify-between mb-8",children:[b.jsxs(he,{onClick:()=>K("/"),variant:"outline",size:"sm",className:"gap-2 bg-white/10 backdrop-blur-sm border-white/20 text-white hover:bg-white/20 hover:border-white/30 transition-all duration-200",children:[b.jsx(nn,{className:"w-4 h-4"}),"Dashboard"]}),b.jsx(Ln,{sessionsData:d,defaultFileName:"sessions-data",variant:"outline",size:"sm"})]}),b.jsxs("div",{className:"text-center space-y-6",children:[b.jsxs("div",{className:"inline-flex items-center gap-3 bg-white/10 backdrop-blur-sm rounded-full px-6 py-3 border border-white/20",children:[b.jsx(it,{className:"w-5 h-5 text-blue-300"}),b.jsx("span",{className:"font-semibold text-white",children:"Session Analytics"})]}),b.jsx("h1",{className:"text-6xl md:text-7xl font-black bg-gradient-to-r from-white via-blue-100 to-indigo-200 bg-clip-text text-transparent",children:"Sessions Dashboard"}),b.jsx("p",{className:"text-xl text-slate-300 max-w-3xl mx-auto leading-relaxed",children:"Comprehensive analysis of class performance, attendance patterns, and operational insights across all studio locations"}),b.jsx("div",{className:"flex items-center justify-center gap-12 mt-16",children:r.map((e,t)=>b.jsxs(ge.Fragment,{children:[b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:e.sessions}),b.jsx("div",{className:"text-sm text-slate-300 font-medium",children:e.location}),b.jsx("div",{className:"text-xs text-slate-400",children:"Sessions"})]}),t<r.length-1&&b.jsx("div",{className:"w-px h-16 bg-white/20"})]},e.location))}),b.jsx("div",{className:"flex items-center justify-center gap-12 mt-8",children:r.map((e,t)=>b.jsxs(ge.Fragment,{children:[b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"text-2xl font-bold text-white/90 mb-1",children:e.attendance}),b.jsx("div",{className:"text-xs text-slate-400",children:"Total Attendance"})]}),t<r.length-1&&b.jsx("div",{className:"w-px h-12 bg-white/20"})]},`attendance-${e.location}`))})]})]})})]}),b.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8 space-y-8",children:[b.jsx(Pn,{data:z||[]}),b.jsxs("div",{className:"flex justify-between items-center animate-fade-in",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Dn,{className:"w-5 h-5 text-indigo-600"}),b.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Data Source: Sessions Sheet"}),b.jsx(pe,{variant:"outline",className:"text-indigo-700 border-indigo-200",children:"1sDPAX6OmGb48kL1pm0mhin2C9KD-Jykq8skJjNuQUNg"})]}),b.jsxs(he,{variant:"outline",size:"sm",className:"gap-2 text-indigo-700 border-indigo-200 hover:bg-indigo-50",onClick:()=>p(!0),children:[b.jsx(qt,{className:"w-4 h-4"}),"View Source Data"]})]}),b.jsx(wn,{activeLocation:_,onLocationChange:O,showInfoPopover:!0,infoPopoverContext:"sessions-overview"}),b.jsx(Ne,{className:`${Re.card.background} ${Re.card.shadow} ${Re.card.border} overflow-hidden mt-6`,children:b.jsxs(ke,{className:"p-6 space-y-8",children:[b.jsx(hn,{data:d}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[b.jsx(_t,{data:d,title:"Top Performing Classes",type:"classes",variant:"top",initialCount:10}),b.jsx(_t,{data:d,title:"Bottom Performing Classes",type:"classes",variant:"bottom",initialCount:10})]}),b.jsx(Fn,{data:d}),b.jsx(Ke,{tableKey:"sessions:attendanceAnalytics",location:_,period:"current",sectionId:"sessions-attendance",author:"Sessions Analyst"}),b.jsx(Un,{data:d}),b.jsx(Ke,{tableKey:"sessions:classFormatAnalysis",location:_,period:"current",sectionId:"sessions-class-format",author:"Sessions Analyst"}),b.jsx(pn,{data:d}),b.jsx(Ke,{tableKey:"sessions:groupedTable",location:_,period:"current",sectionId:"sessions-grouped",author:"Sessions Analyst"})]})})]}),b.jsx(An,{open:y,onOpenChange:p,sources:[{name:"Sessions",sheetName:"Sessions",spreadsheetId:"1sDPAX6OmGb48kL1pm0mhin2C9KD-Jykq8skJjNuQUNg",data:z||[]}]})]})},ni=()=>{const{data:K,loading:z}=jt(),{setLoading:j}=rn();J.useEffect(()=>{j(z,"Loading session analytics...")},[z,j]);const u=J.useMemo(()=>!K||K.length===0?[]:[{key:"Kwality House, Kemps Corner",name:"Kwality"},{key:"Supreme HQ, Bandra",name:"Supreme"},{key:"Kenkere House",name:"Kenkere"},{key:"Pop-up",name:"Pop-up"}].map(_=>{const y=K.filter(p=>_.key==="Kenkere House"?p.location?.includes("Kenkere")||p.location==="Kenkere House":p.location===_.key).reduce((p,v)=>p+(v.checkedInCount||0),0);return{location:_.name,label:"Total Check-ins",value:qe(y)}}),[K]);return b.jsx(Tn,{children:b.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-orange-50/30 to-red-50/20",children:[b.jsx(In,{title:"Sessions Analytics",subtitle:"Comprehensive analysis of class sessions, attendance patterns, and performance insights",metrics:u,onExportClick:()=>{}}),b.jsxs("main",{children:[b.jsx(vr,{}),b.jsx("div",{className:"container mx-auto px-6 pb-8",children:b.jsx(Ke,{location:"sessions",sectionId:"sessions-overview",tableKey:"sessions-main",author:"Sessions Analyst"})})]}),b.jsx(qn,{})]})})};export{ni as default};
//# sourceMappingURL=Sessions-BkoCfTyy.js.map
