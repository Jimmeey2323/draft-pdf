import{r as u,w as B,j as t,f as a,h as S}from"./index-Bm67KBkU.js";import{T as O,a as _,b as N,c as U,d as Y,e as E,f as G}from"./table-DhXofKdS.js";import{T as n,H as J}from"./tableStyles-BJWvDwDQ.js";import{C as K}from"./CopyTableButton-Blm2CDq4.js";import{C as P}from"./select-CM-Birqk.js";import{C as Q}from"./chevron-right-CbIMR3DA.js";const se=({data:A,columns:y,loading:X=!1,stickyHeader:$=!1,showFooter:R=!1,footerData:l,maxHeight:F,className:L,headerGradient:k="default",onSort:m,sortField:H,sortDirection:q,onRowClick:T,tableId:c,disableRegistry:C=!1,striped:z=!0,compact:o=!1})=>{const f=J[k]||k,w=e=>{if(typeof e=="string"&&(e.includes("₹")||e.includes("$"))){const i=parseFloat(e.replace(/[₹$,]/g,""));if(!isNaN(i)&&i<1e3)return`₹${Math.round(i)}`}return e},M=e=>e==null||typeof e=="object"?"":typeof e=="number"?e>=0&&e<=100&&!Number.isInteger(e)?`${e.toFixed(1)}%`:e>=1e3?`₹${e.toLocaleString("en-IN",{maximumFractionDigits:0})}`:Number.isInteger(e)?e.toString():e.toFixed(1):w(e),V=e=>{e.sortable&&m&&m(e.key)},b=u.useRef(null),d=B();return u.useEffect(()=>{if(C||!d||!c)return;const e=b.current;if(!e)return;const i=()=>{const r=e.querySelector("table")||e;let s=`${c}
`;const g=r.querySelectorAll("thead th, thead td, tr:first-child th, tr:first-child td"),h=[];return g.forEach(p=>{const x=p.textContent?.trim();x&&h.push(x)}),h.length&&(s+=h.join("	")+`
`,s+=h.map(()=>"---").join("	")+`
`),r.querySelectorAll("tbody tr, tr:not(:first-child)").forEach(p=>{const x=p.querySelectorAll("td, th"),j=[];x.forEach(W=>j.push((W.textContent||"").trim())),j.length&&(s+=j.join("	")+`
`)}),s.trim()};return d.register({id:c,getTextContent:i}),()=>d.unregister(c)},[d,c,C]),t.jsx("div",{ref:b,className:a(n.container,L),style:{maxHeight:F},children:t.jsxs(O,{className:n.table,children:[t.jsx(_,{className:a($&&n.header.wrapper,"border-b border-slate-300"),children:t.jsx(N,{className:a("border-none",o?"h-10":"h-12","relative",f.includes("from-")?`bg-gradient-to-r ${f}`:""),style:f.includes("from-")?void 0:{background:"linear-gradient(to right, rgb(51 65 85), rgb(15 23 42), rgb(51 65 85))"},children:y.map((e,i)=>{const r=e.sticky||i===0,s=i===y.length-1,g=(e.className||"").split(" ").filter(h=>!h.startsWith("bg-")).join(" ");return t.jsxs(U,{className:a("px-3 text-left text-white font-bold text-xs uppercase tracking-wide border-r border-white/20 last:border-r-0",o?"py-2":"py-3",e.align==="center"&&"text-center",e.align==="right"&&"text-right",e.sortable&&"cursor-pointer hover:bg-white/10 transition-colors",r&&"sticky left-0 z-40 border-r border-white/20",g,s&&c&&"pr-12"),style:{minWidth:"80px",...r?{background:f.includes("from-")?`linear-gradient(to right, ${f.split(" ").slice(1).join(" ")})`:"linear-gradient(to right, rgb(51 65 85), rgb(15 23 42))"}:{}},onClick:()=>V(e),children:[t.jsxs("div",{className:a("flex items-center gap-1 h-full",e.align==="center"&&"justify-center",e.align==="right"&&"justify-end"),children:[t.jsx("span",{className:"text-xs font-bold uppercase tracking-wide leading-tight",children:e.header}),e.sortable&&H===e.key&&(q==="asc"?t.jsx(P,{className:"w-3 h-3"}):t.jsx(Q,{className:"w-3 h-3"}))]}),s&&c&&t.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:t.jsx(K,{tableRef:b,tableName:c,size:"sm",onCopyAllTabs:d?async()=>d.getAllTabsContent():void 0})})]},e.key)})})}),t.jsx(Y,{children:A.map((e,i)=>t.jsx(N,{className:a(n.body.row,z&&i%2===1&&n.body.rowAlternate,T&&n.body.rowClickable,o?"h-10":"h-12"),onClick:()=>T?.(e),children:y.map((r,s)=>{const g=r.sticky||s===0;return t.jsx(E,{className:a(n.body.cell,o?"py-1.5":"py-2",r.align==="center"&&n.body.cellCenter,r.align==="right"&&"text-right",g&&n.body.cellSticky,r.className),style:{minWidth:"80px"},children:t.jsx("div",{className:a("flex items-center h-full",r.align==="center"&&"justify-center",r.align==="right"&&"justify-end"),children:r.render?r.render(e[r.key],e):t.jsx("span",{className:"text-sm truncate",children:w(e[r.key])})})},r.key)})},i))}),R&&l&&t.jsx(G,{className:"sticky bottom-0 z-10",children:t.jsx(N,{className:a(n.footer.row,o?"h-10":"h-12","hover:bg-slate-800"),children:y.map((e,i)=>{const r=e.sticky||i===0;return t.jsx(E,{className:a(n.footer.cell,o?"py-1.5":"py-2",e.align==="center"&&n.footer.cellCenter,e.align==="right"&&"text-right",r&&n.footer.cellSticky),style:{minWidth:"80px"},children:t.jsx("div",{className:a("flex items-center h-full",e.align==="center"&&"justify-center",e.align==="right"&&"justify-end"),children:t.jsx("span",{className:"text-sm font-bold text-white",children:l[e.key]==="TOTALS"||l[e.key]==="TOTAL"?l[e.key]:e.render&&typeof l[e.key]=="object"?(()=>{const s=e.render(l[e.key],l);return S.isValidElement(s)?S.cloneElement(s,{className:a(s.props?.className?.replace(/text-slate-\d+/g,"").replace(/text-blue-\d+/g,"").replace(/text-green-\d+/g,""),"text-white")}):s})():M(l[e.key])})})},e.key)})})})]})})};export{se as M};
//# sourceMappingURL=ModernDataTable-Qj0casC7.js.map
