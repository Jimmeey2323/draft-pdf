import{r as m,j as e,C as T,a as E,b as I,f as b,c as y,B as x,R as O,X as o}from"./index-Bm67KBkU.js";import{F as V,P as C,a as w,f as h,b as f,c as A,S as H,d as X,e as $,g as q,h as u,I as R}from"./select-CM-Birqk.js";import{B as l}from"./index-DkD_C-d1.js";import{C as z,a as G,b as J}from"./collapsible-bGJQ2Wb9.js";import{C as K}from"./chevron-right-CbIMR3DA.js";import{C as k}from"./googleAuth-BGo8ElRc.js";const ae=({filters:s,onFiltersChange:c,onReset:S,type:L="sales"})=>{const[N,g]=m.useState(!1),[r,p]=m.useState(s.dateRange.start?new Date(s.dateRange.start):void 0),[n,j]=m.useState(s.dateRange.end?new Date(s.dateRange.end):void 0),[t,d]=m.useState(s),P=()=>{const a={...t,dateRange:{start:r?h(r,"yyyy-MM-dd"):"",end:n?h(n,"yyyy-MM-dd"):""}};c(a),g(!1)},F=()=>{S(),p(void 0),j(void 0),d({dateRange:{start:"",end:""},location:[],category:[],product:[],soldBy:[],paymentMethod:[]}),g(!1)},i=(a,M)=>{if(a==="dateRange")p(void 0),j(void 0),c({...s,dateRange:{start:"",end:""}});else if(Array.isArray(s[a])){const D=s[a].filter(B=>B!==M);c({...s,[a]:D})}},v=(()=>{let a=0;return(s.dateRange.start||s.dateRange.end)&&a++,s.category?.length&&(a+=s.category.length),s.paymentMethod?.length&&(a+=s.paymentMethod.length),s.soldBy?.length&&(a+=s.soldBy.length),(s.minAmount||s.maxAmount)&&a++,a})();return e.jsxs(T,{className:"bg-gradient-to-br from-white via-slate-50/30 to-white border-0 shadow-xl backdrop-blur-sm",children:[e.jsxs(z,{open:N,onOpenChange:g,children:[e.jsx(G,{asChild:!0,children:e.jsx(E,{className:"cursor-pointer hover:bg-slate-50/50 transition-colors rounded-t-xl",children:e.jsxs(I,{className:"flex items-center justify-between text-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-r from-blue-500 to-purple-600",children:e.jsx(V,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"bg-gradient-to-r from-slate-700 via-slate-800 to-slate-900 bg-clip-text text-transparent",children:"Advanced Filters"}),v>0&&e.jsxs(l,{variant:"default",className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:[v," active"]})]}),e.jsx(K,{className:b("w-5 h-5 transition-transform text-slate-600",N&&"rotate-180")})]})})}),e.jsx(J,{children:e.jsxs(y,{className:"space-y-6 pt-0",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Start Date"}),e.jsxs(C,{children:[e.jsx(w,{asChild:!0,children:e.jsxs(x,{variant:"outline",className:b("w-full justify-start text-left font-normal bg-white/80 backdrop-blur-sm",!r&&"text-muted-foreground"),children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),r?h(r,"PPP"):"Pick start date"]})}),e.jsx(f,{className:"w-auto p-0",align:"start",children:e.jsx(A,{mode:"single",selected:r,onSelect:p,initialFocus:!0})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"End Date"}),e.jsxs(C,{children:[e.jsx(w,{asChild:!0,children:e.jsxs(x,{variant:"outline",className:b("w-full justify-start text-left font-normal bg-white/80 backdrop-blur-sm",!n&&"text-muted-foreground"),children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),n?h(n,"PPP"):"Pick end date"]})}),e.jsx(f,{className:"w-auto p-0",align:"start",children:e.jsx(A,{mode:"single",selected:n,onSelect:j,initialFocus:!0})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Category"}),e.jsxs(H,{value:"",onValueChange:a=>{t.category?.includes(a)||d({...t,category:[...t.category||[],a]})},children:[e.jsx(X,{className:"bg-white/80 backdrop-blur-sm",children:e.jsx($,{placeholder:"Select categories..."})}),e.jsxs(q,{children:[e.jsx(u,{value:"membership",children:"Membership"}),e.jsx(u,{value:"class-packages",children:"Class Packages"}),e.jsx(u,{value:"merchandise",children:"Merchandise"}),e.jsx(u,{value:"personal-training",children:"Personal Training"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Min Amount"}),e.jsx(R,{type:"number",placeholder:"₹0",value:t.minAmount||"",onChange:a=>d({...t,minAmount:a.target.value?Number(a.target.value):void 0}),className:"bg-white/80 backdrop-blur-sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Max Amount"}),e.jsx(R,{type:"number",placeholder:"₹100,000",value:t.maxAmount||"",onChange:a=>d({...t,maxAmount:a.target.value?Number(a.target.value):void 0}),className:"bg-white/80 backdrop-blur-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200/50",children:[e.jsx(x,{onClick:P,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:"Apply Filters"}),e.jsxs(x,{onClick:F,variant:"outline",className:"gap-2",children:[e.jsx(O,{className:"w-4 h-4"}),"Reset"]})]})]})})]}),v>0&&e.jsx(y,{className:"pt-0 pb-4",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(s.dateRange.start||s.dateRange.end)&&e.jsxs(l,{variant:"secondary",className:"gap-1",children:["Date: ",s.dateRange.start||"..."," to ",s.dateRange.end||"...",e.jsx(o,{className:"w-3 h-3 cursor-pointer hover:text-red-500",onClick:()=>i("dateRange","")})]}),s.category?.map(a=>e.jsxs(l,{variant:"secondary",className:"gap-1",children:["Category: ",a,e.jsx(o,{className:"w-3 h-3 cursor-pointer hover:text-red-500",onClick:()=>i("category",a)})]},a)),s.paymentMethod?.map(a=>e.jsxs(l,{variant:"secondary",className:"gap-1",children:["Payment: ",a,e.jsx(o,{className:"w-3 h-3 cursor-pointer hover:text-red-500",onClick:()=>i("paymentMethod",a)})]},a)),s.soldBy?.map(a=>e.jsxs(l,{variant:"secondary",className:"gap-1",children:["Sold by: ",a,e.jsx(o,{className:"w-3 h-3 cursor-pointer hover:text-red-500",onClick:()=>i("soldBy",a)})]},a)),(s.minAmount||s.maxAmount)&&e.jsxs(l,{variant:"secondary",className:"gap-1",children:["Amount: ₹",s.minAmount||0," - ₹",s.maxAmount||"∞",e.jsx(o,{className:"w-3 h-3 cursor-pointer hover:text-red-500",onClick:()=>c({...s,minAmount:void 0,maxAmount:void 0})})]})]})})]})};export{ae as A};
//# sourceMappingURL=AutoCloseFilterSection-DJhjGBJF.js.map
