{"version":3,"file":"ExpirationDataTables-Dix9gqRP.js","sources":["../../src/hooks/useExpirationMetrics.ts","../../src/components/dashboard/ExpirationMetricCards.tsx","../../src/components/dashboard/ExpirationDataTables.tsx"],"sourcesContent":["import { useMemo } from 'react';\nimport { ExpirationData } from '@/types/dashboard';\nimport { parseDate } from '@/utils/dateUtils';\nimport { formatNumber, formatPercentage, formatCurrency } from '@/utils/formatters';\n\ntype Trend = 'strong' | 'moderate' | 'weak';\n\nexport interface ExpirationMetric {\n  title: string;\n  value: string;\n  rawValue: number;\n  change: number;\n  changeDetails: { rate: number; isSignificant: boolean; trend: Trend };\n  previousValue: string;\n  previousRawValue: number;\n  periodLabel?: string;\n  icon: string;\n  description: string;\n}\n\ninterface Options {\n  dateRange?: { start?: string | Date; end?: string | Date };\n}\n\nconst calcGrowth = (current: number, previous: number) => {\n  if (previous === 0) return { rate: current > 0 ? 100 : 0, isSignificant: current > 0, trend: current > 0 ? 'moderate' as Trend : 'weak' as Trend };\n  const rate = ((current - previous) / previous) * 100;\n  const mag = Math.abs(rate);\n  \n  // Trend should consider direction of change\n  let trend: Trend;\n  if (rate > 0) {\n    // Positive growth\n    trend = mag > 20 ? 'strong' : mag > 5 ? 'moderate' : 'weak';\n  } else {\n    // Negative growth (decline) - should always be weak or moderate at best\n    trend = mag > 20 ? 'weak' : mag > 5 ? 'moderate' : 'weak';\n  }\n  \n  return { rate, isSignificant: mag > 2, trend };\n};\n\nexport function useExpirationMetrics(\n  data: ExpirationData[] = [],\n  historicalData?: ExpirationData[],\n  options?: Options\n) {\n  return useMemo(() => {\n    // Use the filtered data directly for current metrics\n    // Don't filter by date again - the data passed in is already filtered\n    const current = data;\n    \n    // For historical comparison, use the historicalData if provided\n    const compareEnd = options?.dateRange?.end\n      ? (typeof options.dateRange.end === 'string' ? new Date(options.dateRange.end) : (options.dateRange.end as Date))\n      : new Date();\n    const monthStart = (d: Date) => new Date(d.getFullYear(), d.getMonth(), 1);\n    const monthEnd = (d: Date) => new Date(d.getFullYear(), d.getMonth() + 1, 0, 23, 59, 59, 999);\n    const currentStart = monthStart(compareEnd);\n    const currentEnd = monthEnd(compareEnd);\n    const prevAnchor = new Date(currentStart.getFullYear(), currentStart.getMonth() - 1, 15);\n    const prevStart = monthStart(prevAnchor);\n    const prevEnd = monthEnd(prevAnchor);\n    const fmt = (d: Date) => d.toLocaleDateString(undefined, { month: 'short', year: 'numeric' });\n    const periodLabel = `${fmt(currentStart)} vs ${fmt(prevStart)}`;\n\n    const within = (d?: Date | null, start?: Date, end?: Date) => !!(d && start && end && d >= start && d <= end);\n\n    // Use historicalData or data for previous period comparison\n    const baseForComparison = historicalData && historicalData.length > 0 ? historicalData : data;\n    const previous = baseForComparison.filter((it) => within(parseDate((it as any).endDate), prevStart, prevEnd));\n\n    const countByStatus = (list: ExpirationData[], status: string) => list.filter((i) => (i.status || '').toLowerCase() === status).length;\n\n    const totalMembershipsCur = current.length;\n    const totalMembershipsPrev = previous.length;\n\n    const activeCur = countByStatus(current, 'active');\n    const activePrev = countByStatus(previous, 'active');\n\n    const churnedCur = countByStatus(current, 'churned');\n    const churnedPrev = countByStatus(previous, 'churned');\n\n    const frozenCur = countByStatus(current, 'frozen');\n    const frozenPrev = countByStatus(previous, 'frozen');\n\n    const churnRateCur = totalMembershipsCur > 0 ? (churnedCur / totalMembershipsCur) * 100 : 0;\n    const churnRatePrev = totalMembershipsPrev > 0 ? (churnedPrev / totalMembershipsPrev) * 100 : 0;\n\n    const activeRateCur = totalMembershipsCur > 0 ? (activeCur / totalMembershipsCur) * 100 : 0;\n    const activeRatePrev = totalMembershipsPrev > 0 ? (activePrev / totalMembershipsPrev) * 100 : 0;\n\n    const frozenRateCur = totalMembershipsCur > 0 ? (frozenCur / totalMembershipsCur) * 100 : 0;\n    const frozenRatePrev = totalMembershipsPrev > 0 ? (frozenPrev / totalMembershipsPrev) * 100 : 0;\n\n    // Revenue impact from churned (using paid field)\n    const paidVal = (s: string | undefined) => {\n      if (!s) return 0;\n      const n = parseFloat(String(s).replace(/[^0-9.-]/g, ''));\n      return isNaN(n) ? 0 : n;\n    };\n    const churnLossCur = current\n      .filter((i) => (i.status || '').toLowerCase() === 'churned')\n      .reduce((sum, i) => sum + paidVal(i.paid), 0);\n    const churnLossPrev = previous\n      .filter((i) => (i.status || '').toLowerCase() === 'churned')\n      .reduce((sum, i) => sum + paidVal(i.paid), 0);\n\n    const metrics: ExpirationMetric[] = [\n      {\n        title: 'Total Memberships',\n        value: formatNumber(totalMembershipsCur),\n        rawValue: totalMembershipsCur,\n        change: calcGrowth(totalMembershipsCur, totalMembershipsPrev).rate,\n        changeDetails: calcGrowth(totalMembershipsCur, totalMembershipsPrev),\n        previousValue: formatNumber(totalMembershipsPrev),\n        previousRawValue: totalMembershipsPrev,\n        periodLabel,\n        icon: 'Users',\n        description: 'All tracked membership records',\n      },\n      {\n        title: 'Active Members',\n        value: formatNumber(activeCur),\n        rawValue: activeCur,\n        change: calcGrowth(activeCur, activePrev).rate,\n        changeDetails: calcGrowth(activeCur, activePrev),\n        previousValue: formatNumber(activePrev),\n        previousRawValue: activePrev,\n        periodLabel,\n        icon: 'CheckCircle',\n        description: `${activeRateCur.toFixed(1)}% of total memberships`,\n      },\n      {\n        title: 'Churned Members',\n        value: formatNumber(churnedCur),\n        rawValue: churnedCur,\n        change: calcGrowth(churnedCur, churnedPrev).rate,\n        changeDetails: calcGrowth(churnedCur, churnedPrev),\n        previousValue: formatNumber(churnedPrev),\n        previousRawValue: churnedPrev,\n        periodLabel,\n        icon: 'AlertTriangle',\n        description: `${churnRateCur.toFixed(1)}% churn rate`,\n      },\n      {\n        title: 'Frozen Members',\n        value: formatNumber(frozenCur),\n        rawValue: frozenCur,\n        change: calcGrowth(frozenCur, frozenPrev).rate,\n        changeDetails: calcGrowth(frozenCur, frozenPrev),\n        previousValue: formatNumber(frozenPrev),\n        previousRawValue: frozenPrev,\n        periodLabel,\n        icon: 'Clock',\n        description: `${frozenRateCur.toFixed(1)}% of total memberships`,\n      },\n      {\n        title: 'Revenue Impact',\n        value: formatCurrency(churnLossCur),\n        rawValue: churnLossCur,\n        change: calcGrowth(churnLossCur, churnLossPrev).rate,\n        changeDetails: calcGrowth(churnLossCur, churnLossPrev),\n        previousValue: formatCurrency(churnLossPrev),\n        previousRawValue: churnLossPrev,\n        periodLabel,\n        icon: 'TrendingUp',\n        description: `Loss from churned members`,\n      },\n    ];\n\n    return { metrics };\n  }, [data, historicalData, options?.dateRange?.start, options?.dateRange?.end]);\n}\n","import React from 'react';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { TrendingUp, TrendingDown, Users, AlertTriangle, Clock, CheckCircle } from 'lucide-react';\nimport { ExpirationData } from '@/types/dashboard';\nimport { cn } from '@/lib/utils';\nimport { useExpirationMetrics } from '@/hooks/useExpirationMetrics';\n\ninterface ExpirationMetricCardsProps {\n  data: ExpirationData[];\n  historicalData?: ExpirationData[];\n  dateRange?: { start?: string | Date; end?: string | Date };\n  onMetricClick?: (data: ExpirationData[], type: string) => void;\n}\n\nconst iconMap = {\n  Users,\n  CheckCircle,\n  AlertTriangle,\n  Clock,\n  TrendingUp,\n};\n\nexport const ExpirationMetricCards: React.FC<ExpirationMetricCardsProps> = ({ \n  data,\n  historicalData,\n  dateRange,\n  onMetricClick \n}) => {\n  const { metrics } = useExpirationMetrics(data, historicalData, { dateRange });\n\n  const getFilteredData = (metric: any) => {\n    if (metric.title === 'Active Members') return data.filter(item => item.status === 'Active');\n    if (metric.title === 'Churned Members') return data.filter(item => item.status === 'Churned');\n    if (metric.title === 'Frozen Members') return data.filter(item => item.status === 'Frozen');\n    return data;\n  };\n\n  // Take the first 8 metrics for the cards (matching Sales tab layout)\n  const displayMetrics = metrics.slice(0, 8);\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n      {displayMetrics.map((metric, index) => {\n        const IconComponent = iconMap[metric.icon as keyof typeof iconMap] || Users;\n        const isPositive = metric.change > 0;\n        const isNegative = metric.change < 0;\n\n        return (\n          <Card\n            key={metric.title}\n            className={cn(\n              \"group relative overflow-hidden cursor-pointer transition-all duration-700\",\n              \"bg-white hover:bg-gradient-to-br hover:from-gray-900 hover:via-slate-900 hover:to-slate-900\",\n              index % 4 === 0 && \"border-t-4 border-green-700 hover:border-green-700 shadow-lg\",\n              index % 4 === 1 && \"border-t-4 border-blue-700 hover:border-blue-700 shadow-lg\",\n              index % 4 === 2 && \"border-t-4 border-pink-700 hover:border-pink-700 shadow-lg\", \n              index % 4 === 3 && \"border-t-4 border-red-700 hover:border-red-700 shadow-lg\",\n              \"hover:shadow-2xl hover:shadow-slate-900/30\",\n              \"hover:-translate-y-2 hover:scale-[1.02]\",\n              onMetricClick && \"hover:cursor-pointer\"\n            )}\n            onClick={() => {\n              const filteredData = getFilteredData(metric);\n              onMetricClick?.(filteredData, metric.title.toLowerCase());\n            }}\n          >\n            <CardContent className=\"p-6 relative\">\n              <div className=\"absolute top-4 right-4 opacity-10 group-hover:opacity-20 transition-all duration-700\">\n                <IconComponent className={cn(\n                  \"w-12 h-12 transition-all duration-700\",\n                  index % 4 === 0 && \"text-green-700\",\n                  index % 4 === 1 && \"text-blue-700\",\n                  index % 4 === 2 && \"text-pink-700\",\n                  index % 4 === 3 && \"text-red-700\",\n                  \"group-hover:text-white/40\"\n                )} />\n              </div>\n              \n              <div className=\"relative z-10\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <div className=\"flex items-center gap-6\">\n                    <div className={cn(\n                      \"p-4 rounded-2xl transition-all duration-700 border-1 shadow-md\",\n                      index % 4 === 0 && \"bg-gradient-to-br from-green-700 to-green-600 border-green-900 text-white shadow-green-200\",\n                      index % 4 === 1 && \"bg-gradient-to-br from-blue-700 to-blue-600 border-blue-900 text-white shadow-blue-200\",\n                      index % 4 === 2 && \"bg-gradient-to-br from-pink-700 to-pink-600 border-pink-900 text-white shadow-pink-200\",\n                      index % 4 === 3 && \"bg-gradient-to-br from-red-700 to-red-600 border-red-900 text-white shadow-red-200\",\n                      \"group-hover:bg-white/20 group-hover:border-white/40 group-hover:text-white group-hover:shadow-white/20\"\n                    )}>\n                      <IconComponent className=\"w-6 h-6 drop-shadow-sm\" />\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <h3 className=\"font-semibold text-lg text-slate-900 group-hover:text-white/95 transition-colors duration-700\">\n                        {metric.title}\n                      </h3>\n                    </div>\n                  </div>\n                  \n                  <div className={cn(\n                    \"flex items-center space-x-1 px-3 py-1 rounded-full text-xs font-semibold transition-all duration-700\",\n                    isPositive\n                      ? \"bg-green-50 text-green-700 group-hover:bg-green-400/30 group-hover:text-green-100\"\n                      : isNegative\n                      ? \"bg-red-50 text-red-700 group-hover:bg-red-400/30 group-hover:text-red-100\"\n                      : \"bg-blue-50 text-blue-700 group-hover:bg-blue-400/30 group-hover:text-blue-100\"\n                  )}>\n                    {isPositive && <TrendingUp className=\"w-3 h-3\" />}\n                    {isNegative && <TrendingDown className=\"w-3 h-3\" />}\n                    <span>\n                      {metric.change > 0 ? '+' : ''}{metric.change.toFixed(1)}%\n                    </span>\n                  </div>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <p className={cn(\n                    \"text-4xl font-bold transition-all duration-700 text-slate-900 group-hover:text-white\"\n                  )}>\n                    {metric.value}\n                  </p>\n                  <p className={cn(\n                    \"text-xs text-slate-500 group-hover:text-slate-200 transition-colors\"\n                  )}>\n                    {metric.periodLabel ? (\n                      <>\n                        {metric.periodLabel}: <span className=\"font-medium\">{metric.previousValue}</span>\n                      </>\n                    ) : (\n                      <>vs previous month: <span className=\"font-medium\">{metric.previousValue}</span></>\n                    )}\n                  </p>\n                </div>\n              </div>\n              \n              <div className={cn(\n                \"mt-4 p-3 border-t border-l-4 transition-all duration-700\",\n                \"bg-slate-50 group-hover:bg-slate-800/50 border-t-slate-200 group-hover:border-t-white/10\",\n                index % 4 === 0 && \"border-l-green-700\",\n                index % 4 === 1 && \"border-l-blue-700\",\n                index % 4 === 2 && \"border-l-pink-700\",\n                index % 4 === 3 && \"border-l-red-700\"\n              )}>\n                <p className=\"text-xs text-slate-900 group-hover:text-white transition-colors duration-700\">\n                  {metric.description}\n                </p>\n              </div>\n            </CardContent>\n          </Card>\n        );\n      })}\n    </div>\n  );\n};","import React, { useState } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { ExpirationData } from '@/types/dashboard';\nimport { formatNumber } from '@/utils/formatters';\nimport { Search, SortAsc, SortDesc } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\ninterface ExpirationDataTablesProps {\n  data: ExpirationData[];\n  onRowClick?: (item: ExpirationData) => void;\n}\n\ntype SortField = 'firstName' | 'membershipName' | 'endDate' | 'status';\ntype SortDirection = 'asc' | 'desc';\n\nexport const ExpirationDataTables: React.FC<ExpirationDataTablesProps> = ({ data, onRowClick }) => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sortField, setSortField] = useState<SortField>('endDate');\n  const [sortDirection, setSortDirection] = useState<SortDirection>('asc');\n\n  const handleSort = (field: SortField) => {\n    if (sortField === field) {\n      setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortField(field);\n      setSortDirection('asc');\n    }\n  };\n\n  const filteredAndSortedData = data\n    .filter(item => {\n      const searchLower = searchTerm.toLowerCase();\n      return (\n        item.firstName?.toLowerCase().includes(searchLower) ||\n        item.lastName?.toLowerCase().includes(searchLower) ||\n        item.email?.toLowerCase().includes(searchLower) ||\n        item.membershipName?.toLowerCase().includes(searchLower) ||\n        item.status?.toLowerCase().includes(searchLower)\n      );\n    })\n    .sort((a, b) => {\n      const aVal = a[sortField] || '';\n      const bVal = b[sortField] || '';\n      const multiplier = sortDirection === 'asc' ? 1 : -1;\n      return aVal.localeCompare(bVal) * multiplier;\n    });\n\n  // Table 1: Churned Memberships\n  const churnedData = filteredAndSortedData.filter(item => item.status === 'Churned');\n\n  // Table 2: Frozen Memberships\n  const frozenData = filteredAndSortedData.filter(item => item.status === 'Frozen');\n\n  // Table 3: Active Memberships\n  const activeData = filteredAndSortedData.filter(item => item.status === 'Active');\n\n  // Table 4: All Memberships Summary\n  const summaryData = data.reduce((acc, item) => {\n    const key = item.membershipName || 'Unknown';\n    if (!acc[key]) {\n      acc[key] = { name: key, total: 0, active: 0, churned: 0, frozen: 0 };\n    }\n    acc[key].total++;\n    if (item.status === 'Active') acc[key].active++;\n    if (item.status === 'Churned') acc[key].churned++;\n    if (item.status === 'Frozen') acc[key].frozen++;\n    return acc;\n  }, {} as Record<string, { name: string; total: number; active: number; churned: number; frozen: number }>);\n\n  const summaryArray = Object.values(summaryData).sort((a, b) => b.total - a.total);\n\n  const SortButton = ({ field, children }: { field: SortField; children: React.ReactNode }) => (\n    <Button\n      variant=\"ghost\"\n      size=\"sm\"\n      onClick={() => handleSort(field)}\n      className=\"h-auto p-1 font-medium text-slate-700 hover:text-slate-900\"\n    >\n      {children}\n      {sortField === field && (\n        sortDirection === 'asc' ? <SortAsc className=\"ml-1 h-3 w-3\" /> : <SortDesc className=\"ml-1 h-3 w-3\" />\n      )}\n    </Button>\n  );\n\n  const getStatusBadge = (status: string) => (\n    <Badge\n      variant=\"outline\"\n      className={cn(\n        \"text-xs\",\n        status === 'Churned' ? \"border-red-200 bg-red-50 text-red-700\" :\n        status === 'Frozen' ? \"border-yellow-200 bg-yellow-50 text-yellow-700\" :\n        \"border-green-200 bg-green-50 text-green-700\"\n      )}\n    >\n      {status}\n    </Badge>\n  );\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Search Bar */}\n      <Card className=\"bg-white/70 backdrop-blur-lg border-gray-200/80 shadow-lg rounded-2xl\">\n        <CardContent className=\"p-4\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4\" />\n            <Input\n              placeholder=\"Search by name, email, membership, or status...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"pl-10 border-slate-300 focus:border-blue-500 focus:ring-blue-500\"\n            />\n          </div>\n        </CardContent>\n      </Card>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Table 1: Churned Memberships */}\n        <Card className=\"bg-white/70 backdrop-blur-lg border-gray-200/80 shadow-lg rounded-2xl hover:shadow-xl transition-all duration-300\">\n          <CardHeader className=\"pb-3\">\n            <CardTitle className=\"text-lg font-semibold bg-gradient-to-r from-red-600 to-red-500 bg-clip-text text-transparent flex items-center gap-2\">\n              <div className=\"w-2 h-2 bg-red-500 rounded-full\"></div>\n              Churned Memberships ({formatNumber(churnedData.length)})\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"overflow-x-auto max-h-96\">\n              <table className=\"w-full text-sm\">\n                <thead className=\"sticky top-0 bg-white/90\">\n                  <tr className=\"border-b border-slate-200\">\n                    <th className=\"text-left py-2 px-3\">\n                      <SortButton field=\"firstName\">Member</SortButton>\n                    </th>\n                    <th className=\"text-left py-2 px-3\">\n                      <SortButton field=\"membershipName\">Membership</SortButton>\n                    </th>\n                    <th className=\"text-left py-2 px-3\">\n                      <SortButton field=\"endDate\">End Date</SortButton>\n                    </th>\n                    <th className=\"text-left py-2 px-3\">Status</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {churnedData.slice(0, 50).map((item, index) => (\n                    <tr \n                      key={index} \n                      className=\"border-b border-slate-100 hover:bg-slate-50/50 cursor-pointer\"\n                      onClick={() => onRowClick?.(item)}\n                    >\n                      <td className=\"py-2 px-3 font-medium\">{`${item.firstName} ${item.lastName}`}</td>\n                      <td className=\"py-2 px-3 text-slate-600 text-xs\">{item.membershipName}</td>\n                      <td className=\"py-2 px-3 text-slate-600\">{item.endDate}</td>\n                      <td className=\"py-2 px-3\">{getStatusBadge(item.status)}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Table 2: Frozen Memberships */}\n        <Card className=\"bg-white/70 backdrop-blur-lg border-gray-200/80 shadow-lg rounded-2xl hover:shadow-xl transition-all duration-300\">\n          <CardHeader className=\"pb-3\">\n            <CardTitle className=\"text-lg font-semibold bg-gradient-to-r from-yellow-600 to-yellow-500 bg-clip-text text-transparent flex items-center gap-2\">\n              <div className=\"w-2 h-2 bg-yellow-500 rounded-full\"></div>\n              Frozen Memberships ({formatNumber(frozenData.length)})\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"overflow-x-auto max-h-96\">\n              <table className=\"w-full text-sm\">\n                <thead className=\"sticky top-0 bg-white/90\">\n                  <tr className=\"border-b border-slate-200\">\n                    <th className=\"text-left py-2 px-3\">\n                      <SortButton field=\"firstName\">Member</SortButton>\n                    </th>\n                    <th className=\"text-left py-2 px-3\">\n                      <SortButton field=\"membershipName\">Membership</SortButton>\n                    </th>\n                    <th className=\"text-left py-2 px-3\">\n                      <SortButton field=\"endDate\">End Date</SortButton>\n                    </th>\n                    <th className=\"text-left py-2 px-3\">Status</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {frozenData.slice(0, 50).map((item, index) => (\n                    <tr \n                      key={index} \n                      className=\"border-b border-slate-100 hover:bg-slate-50/50 cursor-pointer\"\n                      onClick={() => onRowClick?.(item)}\n                    >\n                      <td className=\"py-2 px-3 font-medium\">{`${item.firstName} ${item.lastName}`}</td>\n                      <td className=\"py-2 px-3 text-slate-600 text-xs\">{item.membershipName}</td>\n                      <td className=\"py-2 px-3 text-slate-600\">{item.endDate}</td>\n                      <td className=\"py-2 px-3\">{getStatusBadge(item.status)}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Table 3: Active Memberships */}\n        <Card className=\"bg-white/70 backdrop-blur-lg border-gray-200/80 shadow-lg rounded-2xl hover:shadow-xl transition-all duration-300\">\n          <CardHeader className=\"pb-3\">\n            <CardTitle className=\"text-lg font-semibold bg-gradient-to-r from-green-600 to-green-500 bg-clip-text text-transparent flex items-center gap-2\">\n              <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n              Active Memberships ({formatNumber(activeData.length)})\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"overflow-x-auto max-h-96\">\n              <table className=\"w-full text-sm\">\n                <thead className=\"sticky top-0 bg-white/90\">\n                  <tr className=\"border-b border-slate-200\">\n                    <th className=\"text-left py-2 px-3\">\n                      <SortButton field=\"firstName\">Member</SortButton>\n                    </th>\n                    <th className=\"text-left py-2 px-3\">\n                      <SortButton field=\"membershipName\">Membership</SortButton>\n                    </th>\n                    <th className=\"text-left py-2 px-3\">\n                      <SortButton field=\"endDate\">End Date</SortButton>\n                    </th>\n                    <th className=\"text-left py-2 px-3\">Status</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {activeData.slice(0, 50).map((item, index) => (\n                    <tr \n                      key={index} \n                      className=\"border-b border-slate-100 hover:bg-slate-50/50 cursor-pointer\"\n                      onClick={() => onRowClick?.(item)}\n                    >\n                      <td className=\"py-2 px-3 font-medium\">{`${item.firstName} ${item.lastName}`}</td>\n                      <td className=\"py-2 px-3 text-slate-600 text-xs\">{item.membershipName}</td>\n                      <td className=\"py-2 px-3 text-slate-600\">{item.endDate}</td>\n                      <td className=\"py-2 px-3\">{getStatusBadge(item.status)}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Table 4: Membership Summary */}\n        <Card className=\"bg-white/70 backdrop-blur-lg border-gray-200/80 shadow-lg rounded-2xl hover:shadow-xl transition-all duration-300\">\n          <CardHeader className=\"pb-3\">\n            <CardTitle className=\"text-lg font-semibold bg-gradient-to-r from-slate-700 to-slate-500 bg-clip-text text-transparent flex items-center gap-2\">\n              <div className=\"w-2 h-2 bg-gradient-to-r from-slate-500 to-slate-600 rounded-full\"></div>\n              Membership Type Summary\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"overflow-x-auto max-h-96\">\n              <table className=\"w-full text-sm\">\n                <thead className=\"sticky top-0 bg-white/90\">\n                  <tr className=\"border-b border-slate-200\">\n                    <th className=\"text-left py-2 px-3 font-medium text-slate-700\">Membership</th>\n                    <th className=\"text-center py-2 px-3 font-medium text-slate-700\">Total</th>\n                    <th className=\"text-center py-2 px-3 font-medium text-green-600\">Active</th>\n                    <th className=\"text-center py-2 px-3 font-medium text-yellow-600\">Frozen</th>\n                    <th className=\"text-center py-2 px-3 font-medium text-red-600\">Churned</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {summaryArray.map((item, index) => (\n                    <tr key={index} className=\"border-b border-slate-100 hover:bg-slate-50/50\">\n                      <td className=\"py-2 px-3 font-medium text-xs\">{item.name}</td>\n                      <td className=\"py-2 px-3 text-center font-medium\">{formatNumber(item.total)}</td>\n                      <td className=\"py-2 px-3 text-center text-green-600\">{formatNumber(item.active)}</td>\n                      <td className=\"py-2 px-3 text-center text-yellow-600\">{formatNumber(item.frozen)}</td>\n                      <td className=\"py-2 px-3 text-center text-red-600\">{formatNumber(item.churned)}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n};"],"names":["calcGrowth","current","previous","rate","mag","trend","useExpirationMetrics","data","historicalData","options","useMemo","compareEnd","monthStart","d","monthEnd","currentStart","prevAnchor","prevStart","prevEnd","fmt","periodLabel","within","start","end","it","parseDate","countByStatus","list","status","i","totalMembershipsCur","totalMembershipsPrev","activeCur","activePrev","churnedCur","churnedPrev","frozenCur","frozenPrev","churnRateCur","activeRateCur","frozenRateCur","paidVal","s","n","churnLossCur","sum","churnLossPrev","formatNumber","formatCurrency","iconMap","Users","CheckCircle","AlertTriangle","Clock","TrendingUp","ExpirationMetricCards","dateRange","onMetricClick","metrics","getFilteredData","metric","item","displayMetrics","jsx","index","IconComponent","isPositive","isNegative","Card","cn","filteredData","jsxs","CardContent","TrendingDown","Fragment","ExpirationDataTables","onRowClick","searchTerm","setSearchTerm","useState","sortField","setSortField","sortDirection","setSortDirection","handleSort","field","filteredAndSortedData","searchLower","a","b","aVal","bVal","multiplier","churnedData","frozenData","activeData","summaryData","acc","key","summaryArray","SortButton","children","Button","SortAsc","SortDesc","getStatusBadge","Badge","Search","Input","e","CardHeader","CardTitle"],"mappings":"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"}