import{w as T,h as g}from"./index-Bm67KBkU.js";function A(o,c,u,f){const s=T();return g.useEffect(()=>{if(u||!s||!o.current||!c)return;const y=()=>{const d=o.current,h=d.querySelector("table")||d;let r=`${c}
`;r+=`Exported on ${new Date().toLocaleDateString()} at ${new Date().toLocaleTimeString()}
`,r+=`
`;const b=h.querySelectorAll("thead th, thead td, tr:first-child th, tr:first-child td"),l=[];return b.forEach(e=>{const i=e.textContent?.trim();i&&l.push(i)}),l.length&&(r+=l.join("	")+`
`,r+=l.map(()=>"---").join("	")+`
`),h.querySelectorAll("tbody tr, tr:not(:first-child)").forEach(e=>{const i=e.classList.contains("bg-slate-100")||e.classList.contains("bg-gray-100")||e.classList.contains("bg-slate-50")||e.classList.contains("bg-gray-50")||e.classList.contains("group-row")||e.classList.contains("category-row")||e.classList.contains("section-header")||e.classList.contains("group-header")||e.classList.contains("category-header")||e.querySelector('button[class*="ChevronRight"], button[class*="ChevronDown"]')!==null||e.querySelector("svg.lucide-chevron-right, svg.lucide-chevron-down")!==null||e.querySelector('[data-lucide="chevron-right"], [data-lucide="chevron-down"]')!==null||e.querySelector(".fa-chevron-right, .fa-chevron-down")!==null||e.hasAttribute("data-group")||e.hasAttribute("data-category")||e.hasAttribute("data-section")||e.hasAttribute("data-grouped")||(()=>{const t=e.querySelector("td:first-child, th:first-child");return t&&t.getAttribute("colspan")&&parseInt(t.getAttribute("colspan")||"1")>1})()||(()=>{const t=e.textContent?.trim().toLowerCase()||"";return t.includes("expand")||t.includes("collapse")||t.includes("show more")||t.includes("show less")||t.includes("items")&&!t.match(/\d+\s+items/)||t.includes("category:")||t.includes("group:")||t.includes("section:")||t.length>0&&t.length<50&&!t.match(/\d/)&&!t.includes("â‚¹")&&!t.includes("%")&&!t.includes(":")&&e.querySelectorAll("td, th").length<=2})(),m=e.classList.contains("bg-slate-800")||e.classList.contains("bg-gray-800")||e.classList.contains("bg-slate-900")||e.classList.contains("totals-row")||e.classList.contains("summary-row")||e.classList.contains("footer-row")||(()=>{const t=e.textContent?.trim()||"";return t.includes("TOTALS")||t.includes("TOTAL")||t.includes("Total")||t.includes("Sum")||t.includes("Summary")||t.includes("Grand Total")||t.includes("Subtotal")||(()=>{const n=e.querySelector("td:first-child, th:first-child")?.textContent?.trim().toLowerCase()||"";return n==="total"||n==="totals"||n==="grand total"||n==="summary"||n.startsWith("total ")})()})();if(i&&!m)return;const L=e.querySelectorAll("td, th"),a=[];L.forEach(t=>{if(t.querySelector("button")&&!t.textContent?.trim().replace(/[\s\n\r]+/g,"").length)a.push("");else{const n=t.textContent?.trim()||"";a.push(n)}}),a.length>0&&a.some(t=>t!=="")&&(r+=a.join("	")+`
`)}),r.trim()};return s.register({id:c,getTextContent:y}),()=>s.unregister(c)},[s,o,c,u,f]),{getAllTabsText:g.useCallback(async()=>s?s.getAllTabsContent():"",[s])}}export{A as u};
//# sourceMappingURL=useRegisterTableForCopy-Dn-WXpBr.js.map
