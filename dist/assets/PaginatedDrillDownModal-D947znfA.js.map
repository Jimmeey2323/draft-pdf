{"version":3,"file":"PaginatedDrillDownModal-D947znfA.js","sources":["../../src/components/dashboard/PaginatedDrillDownModal.tsx"],"sourcesContent":["import React, { useMemo, useState } from 'react';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { TrendingUp, TrendingDown, DollarSign, Users, Target, Eye, X, ChevronLeft, ChevronRight, Download, BarChart3 } from 'lucide-react';\nimport { formatCurrency, formatNumber, formatPercentage } from '@/utils/formatters';\n\ninterface PaginatedDrillDownModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  data: any;\n  relatedData: any[];\n  type: 'product' | 'category' | 'member' | 'seller' | 'trainer' | 'location' | 'metric' | 'lead' | 'client';\n  title: string;\n}\n\nexport const PaginatedDrillDownModal: React.FC<PaginatedDrillDownModalProps> = ({\n  isOpen,\n  onClose,\n  data,\n  relatedData,\n  type,\n  title\n}) => {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pageSize, setPageSize] = useState(50);\n\n  // Filter related data based on the selected item\n  const filteredData = useMemo(() => {\n    // First, check if we already have pre-filtered specific data\n    if (data?.filteredTransactionData && data.filteredTransactionData.length > 0) {\n      console.log(`PaginatedDrillDownModal: Using pre-filtered data with ${data.filteredTransactionData.length} transactions`);\n      return data.filteredTransactionData;\n    }\n    \n    if (data?.rawData && data.rawData.length > 0) {\n      console.log(`PaginatedDrillDownModal: Using raw data with ${data.rawData.length} transactions`);\n      return data.rawData;\n    }\n    \n    if (!data || !relatedData) return [];\n    \n    // Fallback to filtering relatedData based on the selected item\n    let filtered = [];\n    switch (type) {\n      case 'product':\n        filtered = relatedData.filter(item => \n          item.paymentItem === data.name || \n          item.cleanedProduct === data.name ||\n          item.product === data.name\n        );\n        break;\n      case 'category':\n        filtered = relatedData.filter(item => \n          item.paymentCategory === data.name || \n          item.cleanedCategory === data.name ||\n          item.category === data.name\n        );\n        break;\n      case 'member':\n        filtered = relatedData.filter(item => \n          item.memberId === data.memberId || \n          item.customerName === data.name ||\n          item.memberName === data.name\n        );\n        break;\n      case 'seller':\n        filtered = relatedData.filter(item => \n          item.soldBy === data.name ||\n          item.soldBy === data.soldBy\n        );\n        break;\n      default:\n        filtered = relatedData;\n    }\n    \n    console.log(`Filtered ${filtered.length} items for ${type}: ${data.name || data.title}`);\n    return filtered;\n  }, [data, relatedData, type]);\n\n  // Pagination logic\n  const totalPages = Math.ceil(filteredData.length / pageSize);\n  const startIndex = (currentPage - 1) * pageSize;\n  const endIndex = startIndex + pageSize;\n  const currentPageData = filteredData.slice(startIndex, endIndex);\n\n  // Generate summary metrics\n  const summaryMetrics = useMemo(() => {\n    if (!filteredData.length) return null;\n\n    const metrics = {\n      totalRecords: filteredData.length,\n      totalRevenue: 0,\n      totalTransactions: 0,\n      uniqueCustomers: new Set(),\n      avgValue: 0\n    };\n\n    filteredData.forEach(item => {\n      if (item.paymentValue) {\n        metrics.totalRevenue += item.paymentValue;\n        metrics.totalTransactions += 1;\n      }\n      if (item.memberId) {\n        metrics.uniqueCustomers.add(item.memberId);\n      }\n      if (item.ltv) {\n        metrics.totalRevenue += item.ltv;\n      }\n    });\n\n    metrics.avgValue = metrics.totalTransactions > 0 ? \n      metrics.totalRevenue / metrics.totalTransactions : 0;\n\n    return {\n      ...metrics,\n      uniqueCustomers: metrics.uniqueCustomers.size\n    };\n  }, [filteredData]);\n\n  // Dynamic columns based on data type\n  const columns = useMemo(() => {\n    if (!filteredData.length) return [];\n\n    const firstItem = filteredData[0];\n    const baseColumns = [];\n\n    // Common columns for sales data\n    if (firstItem.paymentDate) {\n      baseColumns.push(\n        { key: 'paymentDate', header: 'Date', align: 'center' as const },\n        { key: 'customerName', header: 'Customer', align: 'left' as const },\n        { key: 'paymentItem', header: 'Product', align: 'left' as const },\n        { key: 'paymentValue', header: 'Amount', align: 'right' as const, render: (value: number) => formatCurrency(value) },\n        { key: 'paymentMethod', header: 'Payment Method', align: 'center' as const },\n        { key: 'calculatedLocation', header: 'Location', align: 'center' as const }\n      );\n    }\n\n    // Lead/funnel data\n    if (firstItem.source) {\n      baseColumns.push(\n        { key: 'createdAt', header: 'Created', align: 'center' as const },\n        { key: 'customerName', header: 'Lead Name', align: 'left' as const },\n        { key: 'source', header: 'Source', align: 'left' as const },\n        { key: 'stage', header: 'Stage', align: 'center' as const },\n        { key: 'ltv', header: 'LTV', align: 'right' as const, render: (value: number) => formatCurrency(value || 0) }\n      );\n    }\n\n    return baseColumns;\n  }, [filteredData]);\n\n  const exportData = () => {\n    const csvContent = filteredData.map(item => \n      columns.map(col => item[col.key] || '').join(',')\n    ).join('\\n');\n    \n    const headers = columns.map(col => col.header).join(',');\n    const fullCsv = headers + '\\n' + csvContent;\n    \n    const blob = new Blob([fullCsv], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${title.replace(/[^a-z0-9]/gi, '_').toLowerCase()}_drill_down.csv`;\n    a.click();\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-[95vw] w-full h-[90vh] p-0\">\n        <DialogHeader className=\"bg-gradient-to-r from-blue-700 to-blue-900 text-white p-6 rounded-t-lg\">\n          <DialogTitle className=\"text-xl font-bold flex items-center gap-3\">\n            <BarChart3 className=\"w-6 h-6 animate-pulse\" />\n            {title}\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={onClose}\n              className=\"ml-auto text-white hover:bg-white/20 rounded-full\"\n            >\n              <X className=\"w-4 h-4\" />\n            </Button>\n          </DialogTitle>\n        </DialogHeader>\n\n        <div className=\"flex-1 overflow-hidden p-6\">\n          {/* Summary Metrics */}\n          {summaryMetrics && (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6\">\n              <Card className=\"bg-gradient-to-r from-blue-50 to-blue-100 border-0 shadow-lg\">\n                <CardContent className=\"p-4\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"p-2 bg-blue-600 rounded-lg\">\n                      <Eye className=\"w-5 h-5 text-white\" />\n                    </div>\n                    <div>\n                      <p className=\"text-sm font-medium text-blue-700\">Total Records</p>\n                      <p className=\"text-2xl font-bold text-blue-900\">{formatNumber(summaryMetrics.totalRecords)}</p>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n\n              <Card className=\"bg-gradient-to-r from-green-50 to-green-100 border-0 shadow-lg\">\n                <CardContent className=\"p-4\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"p-2 bg-green-600 rounded-lg\">\n                      <DollarSign className=\"w-5 h-5 text-white\" />\n                    </div>\n                    <div>\n                      <p className=\"text-sm font-medium text-green-700\">Total Revenue</p>\n                      <p className=\"text-2xl font-bold text-green-900\">{formatCurrency(summaryMetrics.totalRevenue)}</p>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n\n              <Card className=\"bg-gradient-to-r from-purple-50 to-purple-100 border-0 shadow-lg\">\n                <CardContent className=\"p-4\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"p-2 bg-purple-600 rounded-lg\">\n                      <Users className=\"w-5 h-5 text-white\" />\n                    </div>\n                    <div>\n                      <p className=\"text-sm font-medium text-purple-700\">Unique Customers</p>\n                      <p className=\"text-2xl font-bold text-purple-900\">{formatNumber(summaryMetrics.uniqueCustomers)}</p>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n\n              <Card className=\"bg-gradient-to-r from-orange-50 to-orange-100 border-0 shadow-lg\">\n                <CardContent className=\"p-4\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"p-2 bg-orange-600 rounded-lg\">\n                      <Target className=\"w-5 h-5 text-white\" />\n                    </div>\n                    <div>\n                      <p className=\"text-sm font-medium text-orange-700\">Avg Value</p>\n                      <p className=\"text-2xl font-bold text-orange-900\">{formatCurrency(summaryMetrics.avgValue)}</p>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          )}\n\n          {/* Export and Pagination Controls */}\n          <div className=\"flex justify-between items-center mb-4\">\n            <div className=\"flex items-center gap-4\">\n              <Button\n                variant=\"outline\"\n                onClick={exportData}\n                className=\"flex items-center gap-2\"\n              >\n                <Download className=\"w-4 h-4\" />\n                Export Data\n              </Button>\n              <Badge variant=\"outline\" className=\"text-sm\">\n                Showing {startIndex + 1}-{Math.min(endIndex, filteredData.length)} of {filteredData.length} records\n              </Badge>\n            </div>\n\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-sm text-gray-600\">Rows per page:</span>\n              <select\n                value={pageSize}\n                onChange={(e) => {\n                  setPageSize(Number(e.target.value));\n                  setCurrentPage(1);\n                }}\n                className=\"border rounded px-2 py-1 text-sm\"\n              >\n                <option value={25}>25</option>\n                <option value={50}>50</option>\n                <option value={100}>100</option>\n              </select>\n            </div>\n          </div>\n\n          {/* Data Table */}\n          <div className=\"flex-1 overflow-auto border border-gray-200 rounded-lg bg-white shadow-sm\">\n            <Table>\n              <TableHeader className=\"sticky top-0 z-20 bg-gradient-to-r from-gray-700 to-gray-900 text-white\">\n                <TableRow>\n                  {columns.map((column) => (\n                    <TableHead \n                      key={String(column.key)} \n                      className={`\n                        font-bold text-white py-3 px-4 text-sm max-h-[35px] h-[35px]\n                        ${column.align === 'center' ? 'text-center' : column.align === 'right' ? 'text-right' : 'text-left'}\n                      `}\n                    >\n                      {column.header}\n                    </TableHead>\n                  ))}\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                {currentPageData.map((item, index) => (\n                  <TableRow \n                    key={index} \n                    className=\"hover:bg-gray-50/80 transition-colors duration-150 border-b border-gray-200 max-h-[35px] h-[35px]\"\n                  >\n                    {columns.map((column) => (\n                      <TableCell \n                        key={String(column.key)} \n                        className={`\n                          py-2 px-4 align-middle font-medium text-sm max-h-[35px] h-[35px] overflow-hidden text-ellipsis whitespace-nowrap\n                          ${column.align === 'center' ? 'text-center' : column.align === 'right' ? 'text-right' : 'text-left'}\n                        `}\n                      >\n                        {column.render ? column.render(item[column.key]) : item[column.key]}\n                      </TableCell>\n                    ))}\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </div>\n\n          {/* Pagination Controls */}\n          <div className=\"flex items-center justify-between mt-4 pt-4 border-t border-gray-200\">\n            <div className=\"text-sm text-gray-600\">\n              Page {currentPage} of {totalPages}\n            </div>\n            \n            <div className=\"flex items-center gap-2\">\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => setCurrentPage(1)}\n                disabled={currentPage === 1}\n              >\n                First\n              </Button>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))}\n                disabled={currentPage === 1}\n              >\n                <ChevronLeft className=\"w-4 h-4\" />\n              </Button>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => setCurrentPage(prev => Math.min(totalPages, prev + 1))}\n                disabled={currentPage === totalPages}\n              >\n                <ChevronRight className=\"w-4 h-4\" />\n              </Button>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => setCurrentPage(totalPages)}\n                disabled={currentPage === totalPages}\n              >\n                Last\n              </Button>\n            </div>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n};"],"names":["PaginatedDrillDownModal","isOpen","onClose","data","relatedData","type","title","currentPage","setCurrentPage","useState","pageSize","setPageSize","filteredData","useMemo","filtered","item","totalPages","startIndex","endIndex","currentPageData","summaryMetrics","metrics","columns","firstItem","baseColumns","value","formatCurrency","exportData","csvContent","col","fullCsv","blob","url","a","jsx","Dialog","jsxs","DialogContent","DialogHeader","DialogTitle","BarChart3","Button","X","Card","CardContent","Eye","formatNumber","DollarSign","Users","Target","Download","Badge","e","Table","TableHeader","TableRow","column","TableHead","TableBody","index","TableCell","prev","ChevronLeft","ChevronRight"],"mappings":"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"}