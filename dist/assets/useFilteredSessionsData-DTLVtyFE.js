import{r as i,v as u,j as D}from"./index-Bm67KBkU.js";const f=i.createContext(void 0),m=()=>{const r=i.useContext(f);return r||{filters:{locations:[],trainers:[],classTypes:[],dayOfWeek:[],timeSlots:[],dateRange:{start:null,end:null}},updateFilters:()=>{},clearFilters:()=>{},clearAllFilters:()=>{}}},y=({children:r})=>{const[e,c]=i.useState(()=>{const s=u();return{locations:[],trainers:[],classTypes:[],dayOfWeek:[],timeSlots:[],dateRange:{start:new Date(s.start),end:new Date(s.end)}}}),t=s=>{c(n=>({...n,...s}))},o=()=>{const s=u();c({locations:[],trainers:[],classTypes:[],dayOfWeek:[],timeSlots:[],dateRange:{start:new Date(s.start),end:new Date(s.end)}})},a=o;return D.jsx(f.Provider,{value:{filters:e,updateFilters:t,clearFilters:o,clearAllFilters:a},children:r})},h=r=>{let e=null;try{e=m().filters}catch{e=null}return i.useMemo(()=>r?r.filter(t=>{const o=t.sessionName?.toLowerCase()||"";if(o.includes("test")||o.includes("demo"))return!1;if(!e)return!0;if(e.trainers.length>0&&!e.trainers.includes(t.trainerName)||e.classTypes.length>0&&!e.classTypes.includes(t.cleanedClass))return!1;if(e.locations&&e.locations.length>0){const a=e.locations,s=(t.location||"").toLowerCase();if(!a.some(d=>{const l=(d||"").toLowerCase();return l?s.includes(l)||l.includes(s)||s===l:!1}))return!1}if(e.dayOfWeek.length>0&&!e.dayOfWeek.includes(t.dayOfWeek)||e.timeSlots.length>0&&!e.timeSlots.includes(t.time))return!1;if(e.dateRange.start||e.dateRange.end){let a;if(t.date.includes("/")){const n=t.date.split("/");if(n.length===3){const d=parseInt(n[0]),l=parseInt(n[1]),g=parseInt(n[2]);a=new Date(g,l-1,d)}else a=new Date(t.date)}else a=new Date(t.date);if(isNaN(a.getTime()))return!0;const s=new Date(a.getFullYear(),a.getMonth(),a.getDate());if(e.dateRange.start){const n=new Date(e.dateRange.start.getFullYear(),e.dateRange.start.getMonth(),e.dateRange.start.getDate());if(s<n)return!1}if(e.dateRange.end){const n=new Date(e.dateRange.end.getFullYear(),e.dateRange.end.getMonth(),e.dateRange.end.getDate());if(s>n)return!1}}return!0}):[],[r,e])};export{y as S,h as a,m as u};
//# sourceMappingURL=useFilteredSessionsData-DTLVtyFE.js.map
