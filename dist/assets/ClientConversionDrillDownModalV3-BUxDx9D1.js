import{i as W,h as p,j as e,D as X,n as Y,o as J,q,B as w,X as ee,C as c,a as C,b as y,c as x}from"./index-Bm67KBkU.js";import{B as O,a as o,f as T}from"./index-DkD_C-d1.js";import{T as se,a as te,b as R,c as k}from"./tabs-BTrhdLSC.js";import{T as ae,a as le,b as B,c as h,d as re,e as b}from"./table-DhXofKdS.js";import{C as D,D as ie}from"./dollar-sign-CKqx8kbC.js";import{D as $,e as H}from"./SalesMotionHero-sGphstF2.js";import{S as A}from"./star-qy423-d6.js";import{U as L}from"./users-7Ku-1TDB.js";import{Z as I}from"./zap-IfyovFNW.js";import{T as P}from"./googleAuth-BGo8ElRc.js";import{T as ne}from"./target-BmxdxojS.js";import{L as oe}from"./layout-grid-C68I9Ovt.js";const de=W("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),we=({isOpen:G,onClose:F,title:M,data:n,type:j})=>{if(!n)return null;const[f,K]=p.useState("all"),[S,U]=p.useState("table"),[V,Z]=p.useState(""),i=p.useMemo(()=>n?j==="ranking"&&n.relatedClients?n.relatedClients:j==="metric"&&n.clients||(j==="month"||j==="year")&&n.clients||n.clients&&Array.isArray(n.clients)?n.clients:Array.isArray(n)?n:[]:[],[n,j]),l=p.useMemo(()=>{const s=i.length,t=i.filter(r=>String(r.isNew||"").toLowerCase().includes("new")).length,a=i.filter(r=>(r.conversionStatus||"").trim()==="Converted").length,N=i.filter(r=>(r.retentionStatus||"").trim()==="Retained").length,d=i.reduce((r,u)=>r+(u.ltv||0),0),v=i.filter(r=>r.conversionSpan>0).reduce((r,u)=>r+(u.conversionSpan||0),0),g=i.filter(r=>r.conversionSpan>0).length;return{totalMembers:s,newMembers:t,convertedMembers:a,retainedMembers:N,conversionRate:s>0?a/s*100:0,retentionRate:s>0?N/s*100:0,avgLTV:s>0?d/s:0,totalLTV:d,avgConversionTime:g>0?v/g:0}},[i]),m=p.useMemo(()=>{const s=V.trim().toLowerCase();let t=i;if(f==="new")t=t.filter(a=>String(a.isNew||"").toLowerCase().includes("new"));else if(f==="converted")t=t.filter(a=>(a.conversionStatus||"").trim()==="Converted");else if(f==="retained")t=t.filter(a=>(a.retentionStatus||"").trim()==="Retained");else if(f==="highLTV"){const a=t.map(d=>d.ltv||0).sort((d,v)=>d-v),N=a.length?a[Math.floor(.75*(a.length-1))]:0;t=t.filter(d=>(d.ltv||0)>=N)}return s&&(t=t.filter(a=>`${a.firstName} ${a.lastName}`.toLowerCase().includes(s)||(a.email||"").toLowerCase().includes(s))),t},[i,f,V]),E=p.useCallback(s=>{if(!s||s.length===0)return;const t=["First Name","Last Name","Email","Is New","Conversion Status","Retention Status","LTV","First Visit Date","First Visit Location","Home Location","Trainer"],a=s.map(r=>[r.firstName||"",r.lastName||"",r.email||"",r.isNew||"",r.conversionStatus||"",r.retentionStatus||"",String(r.ltv??""),r.firstVisitDate||"",r.firstVisitLocation||"",r.homeLocation||"",r.trainerName||""].map(u=>`"${String(u).replace(/"/g,'""')}"`).join(",")),N=[t.join(","),...a].join(`
`),d=new Blob([N],{type:"text/csv;charset=utf-8;"}),v=URL.createObjectURL(d),g=document.createElement("a");g.href=v,g.download=`${M.replace(/\s+/g,"-").toLowerCase()}-clients.csv`,g.click(),URL.revokeObjectURL(v)},[M]),z=p.useCallback(s=>{const t=s.map(a=>a.email).filter(Boolean).join(", ");t&&navigator.clipboard.writeText(t)},[]),_=()=>{const s=n?.metricType||"",t=s==="converted_members",a=s==="retained_members",N=t?"New → Converted":a?"New → Retained":"New Members",d=t?"New members who converted":a?"New members who were retained":"New Members",v=t||a?"Subset Conv. Rate":"Conversion Rate",g=t||a?"Converted from this subset":"Overall conversion rate";return e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx(c,{className:"bg-white border-2 border-blue-500 shadow-lg hover:shadow-xl transition-all duration-500 hover:scale-105 animate-in fade-in slide-in-from-bottom-4",children:e.jsx(x,{className:"p-5",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-blue-600 mb-1",children:[e.jsx(L,{className:"w-5 h-5 animate-pulse"}),e.jsx("span",{className:"text-xs font-semibold",children:"Total"})]}),e.jsx("div",{className:"text-3xl font-bold text-blue-700",children:o(l.totalMembers)}),e.jsx("div",{className:"text-slate-600 text-sm font-medium",children:"Total Members"})]})})}),e.jsx(c,{className:"bg-white border-2 border-emerald-500 shadow-md hover:shadow-xl transition-all duration-500 hover:scale-105 animate-in fade-in slide-in-from-bottom-4 delay-100",children:e.jsx(x,{className:"p-5",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 mb-1",children:[e.jsx(ne,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-semibold",children:"New"})]}),e.jsx("div",{className:"text-3xl font-bold text-emerald-700",children:o(l.newMembers)}),e.jsx("div",{className:"text-slate-600 text-sm font-medium",children:N}),e.jsx("div",{className:"text-slate-500 text-xs mt-1",children:d})]})})}),e.jsx(c,{className:"bg-white border-2 border-purple-500 shadow-md hover:shadow-xl transition-all duration-500 hover:scale-105 animate-in fade-in slide-in-from-bottom-4 delay-200",children:e.jsx(x,{className:"p-5",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-purple-600 mb-1",children:[e.jsx(A,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-semibold",children:"Conv"})]}),e.jsx("div",{className:"text-3xl font-bold text-purple-700",children:o(l.convertedMembers)}),e.jsx("div",{className:"text-slate-600 text-sm font-medium",children:"Converted"})]})})}),e.jsx(c,{className:"bg-white border-2 border-amber-500 shadow-md hover:shadow-xl transition-all duration-500 hover:scale-105 animate-in fade-in slide-in-from-bottom-4 delay-300",children:e.jsx(x,{className:"p-5",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-amber-600 mb-1",children:[e.jsx(P,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-semibold",children:"Rate"})]}),e.jsxs("div",{className:"text-3xl font-bold text-amber-700",children:[l.conversionRate.toFixed(1),"%"]}),e.jsx("div",{className:"text-slate-600 text-sm font-medium",children:v}),e.jsx("div",{className:"text-slate-500 text-xs mt-1",children:g})]})})}),e.jsx(c,{className:"bg-white border-2 border-rose-500 shadow-md hover:shadow-xl transition-all duration-500 hover:scale-105 animate-in fade-in slide-in-from-bottom-4 delay-400",children:e.jsx(x,{className:"p-5",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-rose-600 mb-1",children:[e.jsx(ie,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-semibold",children:"LTV"})]}),e.jsx("div",{className:"text-3xl font-bold text-rose-700",children:T(l.avgLTV)}),e.jsx("div",{className:"text-slate-600 text-sm font-medium",children:"Avg LTV"}),e.jsxs("div",{className:"text-slate-500 text-xs mt-1",children:["Total: ",T(l.totalLTV)]})]})})})]})},Q=()=>i.length===0?e.jsx(c,{children:e.jsxs(x,{className:"p-8 text-center",children:[e.jsx(L,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No client data available for this selection."})]})}):e.jsxs(c,{className:"border-0 shadow-md",children:[e.jsxs(C,{className:"pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(y,{className:"text-lg",children:["Client Details (",o(m.length)," of ",o(i.length),")"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(w,{variant:"ghost",size:"sm",onClick:()=>E(m),className:"gap-1",children:[e.jsx($,{className:"w-4 h-4"})," Export"]}),e.jsxs(w,{variant:"ghost",size:"sm",onClick:()=>z(m),className:"gap-1",children:[e.jsx(H,{className:"w-4 h-4"})," Emails"]})]})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-2 flex-wrap",children:[e.jsx("div",{className:"inline-flex rounded-full bg-slate-100 p-1",children:["all","new","converted","retained","highLTV"].map(s=>e.jsx("button",{onClick:()=>K(s),className:`px-3 py-1.5 text-xs rounded-full transition-all ${f===s?"bg-green-700 shadow text-white font-medium":"text-slate-600"}`,children:s==="all"?"All":s==="new"?"New":s==="converted"?"Converted":s==="retained"?"Retained":"High LTV"},s))}),e.jsx("div",{className:"relative ml-auto",children:e.jsx("input",{value:V,onChange:s=>Z(s.target.value),placeholder:"Search name or email",className:"h-9 w-56 rounded-full border border-slate-200 bg-white px-3 text-sm outline-none focus:ring-2 focus:ring-slate-200"})}),e.jsxs("div",{className:"inline-flex rounded-full bg-slate-100 p-1",children:[e.jsx("button",{onClick:()=>U("table"),className:`px-2 py-1.5 rounded-full ${S==="table"?"bg-green-700 shadow text-white":""}`,title:"Table View",children:e.jsx(de,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>U("cards"),className:`px-2 py-1.5 rounded-full ${S==="cards"?"bg-green-700 shadow text-white":""}`,title:"Card View",children:e.jsx(oe,{className:"w-4 h-4"})})]})]})]}),e.jsx(x,{className:"p-0",children:S==="table"?e.jsxs("div",{className:"max-h-96 overflow-y-auto",children:[e.jsxs(ae,{children:[e.jsx(le,{className:"sticky top-0 z-10 bg-slate-900",children:e.jsxs(B,{className:"bg-slate-900 border-slate-700",children:[e.jsx(h,{className:"font-semibold text-slate-100 text-xs px-3",children:"Name"}),e.jsx(h,{className:"font-semibold text-slate-100 text-xs px-3",children:"Email"}),e.jsx(h,{className:"font-semibold text-slate-100 text-xs px-3",children:"Trainer"}),e.jsx(h,{className:"font-semibold text-slate-100 text-xs px-3",children:"Class No"}),e.jsx(h,{className:"font-semibold text-slate-100 text-xs px-3",children:"Membership"}),e.jsx(h,{className:"font-semibold text-slate-100 text-xs px-3",children:"First Visit Date"}),e.jsx(h,{className:"font-semibold text-slate-100 text-xs px-3",children:"First Visit Location"}),e.jsx(h,{className:"font-semibold text-slate-100 text-xs px-3",children:"First Visit Entity"}),e.jsx(h,{className:"font-semibold text-slate-100 text-xs px-3",children:"Conversion Status"}),e.jsx(h,{className:"font-semibold text-slate-100 text-xs px-3",children:"First Purchase Date"})]})}),e.jsx(re,{children:m.slice(0,200).map((s,t)=>e.jsxs(B,{className:"compact-table-row hover:bg-gray-50 transition-colors",children:[e.jsxs(b,{className:"text-xs px-3 font-medium text-slate-800",children:[s.firstName," ",s.lastName]}),e.jsx(b,{className:"text-xs px-3 text-gray-600 truncate max-w-[200px]",title:s.email,children:s.email}),e.jsx(b,{className:"text-xs px-3 text-slate-700 truncate max-w-[160px]",title:s.trainerName,children:s.trainerName||"—"}),e.jsx(b,{className:"text-xs px-3 text-center text-slate-700",children:s.classNo??"—"}),e.jsx(b,{className:"text-xs px-3 text-slate-700",children:s.membershipUsed||"—"}),e.jsx(b,{className:"text-xs px-3 text-slate-700",children:s.firstVisitDate||"—"}),e.jsx(b,{className:"text-xs px-3 text-slate-700 truncate max-w-[160px]",title:s.firstVisitLocation,children:s.firstVisitLocation||"—"}),e.jsx(b,{className:"text-xs px-3 text-slate-700",children:s.firstVisitEntityName||"—"}),e.jsx(b,{className:"text-xs px-3 text-slate-700",children:s.conversionStatus||"—"}),e.jsx(b,{className:"text-xs px-3 text-slate-700",children:s.firstPurchase||"—"})]},t))})]}),m.length>200&&e.jsxs("div",{className:"p-4 text-center text-sm text-gray-600",children:["Showing 200 of ",m.length," clients."]})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 p-4",children:m.map((s,t)=>e.jsxs("div",{className:"rounded-xl border border-slate-200 p-4 shadow-sm hover:shadow-md transition-shadow bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"font-semibold text-slate-800 text-sm truncate max-w-[70%]",children:[s.firstName," ",s.lastName]}),e.jsx("div",{className:"text-xs font-semibold text-slate-700",children:T(s.ltv||0)})]}),e.jsx("div",{className:"text-xs text-slate-600 truncate",title:s.email,children:s.email}),e.jsxs("div",{className:"mt-2 text-xs text-slate-700 space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Trainer:"})," ",s.trainerName||"—"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Class No:"})," ",s.classNo??"—"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Location:"})," ",s.firstVisitLocation||"—"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Membership:"})," ",s.membershipUsed||"—"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Conversion:"})," ",s.conversionStatus||"—"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Retention:"})," ",s.retentionStatus||"—"]})]})]},t))})})]});return e.jsx(X,{open:G,onOpenChange:F,children:e.jsxs(Y,{className:"w-[90vw] max-w-[1400px] max-h-[90vh] overflow-hidden p-0 bg-white border-slate-200 shadow-2xl",children:[e.jsx(J,{className:"pb-6 border-b border-slate-700 bg-gradient-to-r from-slate-900 via-blue-950 to-slate-900 text-white -m-6 mb-6 p-6 shadow-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(q,{className:"text-2xl font-bold text-white flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white/10 rounded-lg backdrop-blur-sm",children:e.jsx(D,{className:"w-5 h-5 text-white"})}),M," - Detailed Analysis"]}),e.jsx("p",{className:"text-slate-300 mt-2 text-sm",children:"Targeted client conversion and retention analysis"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(O,{className:"bg-white/20 text-white border-white/30 backdrop-blur-sm",children:j==="month"?"Monthly":j==="year"?"Yearly":j==="metric"?"Metric Analysis":"Analytics"}),e.jsxs(O,{className:"bg-white/20 text-white border-white/30 backdrop-blur-sm",children:[o(m.length)," of ",o(i.length)]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(w,{size:"sm",className:"bg-white text-slate-900 hover:bg-slate-100 font-medium",onClick:()=>E(m),children:[e.jsx($,{className:"w-4 h-4 mr-1"})," Export"]}),e.jsxs(w,{size:"sm",className:"bg-white text-slate-900 hover:bg-slate-100 font-medium",onClick:()=>z(m),children:[e.jsx(H,{className:"w-4 h-4 mr-1"})," Emails"]}),e.jsx(w,{size:"sm",variant:"ghost",className:"text-white hover:bg-white/20",onClick:F,children:e.jsx(ee,{className:"w-4 h-4"})})]})]})]})}),e.jsxs("div",{className:"overflow-y-auto px-8 py-6 space-y-8",style:{maxHeight:"calc(90vh - 140px)"},children:[e.jsxs("div",{className:"p-6 bg-white border-2 border-blue-400 rounded-xl shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-700 mb-6 flex items-center gap-2 pb-4 border-b border-blue-200",children:[e.jsx(D,{className:"w-5 h-5 text-blue-600"}),"Key Performance Metrics"]}),_()]}),e.jsxs(se,{defaultValue:"overview",className:"w-full",children:[e.jsxs(te,{className:"grid w-full grid-cols-3 bg-slate-50 h-14 border-2 border-slate-200 rounded-lg p-1.5",children:[e.jsxs(R,{value:"overview",className:"gap-2 font-medium text-slate-600 data-[state=active]:bg-green-700 data-[state=active]:text-white data-[state=active]:shadow-md transition-all",children:[e.jsx(A,{className:"w-4 h-4"}),"Overview"]}),e.jsxs(R,{value:"clients",className:"gap-2 font-medium text-slate-600 data-[state=active]:bg-green-700 data-[state=active]:text-white data-[state=active]:shadow-md transition-all",children:[e.jsx(L,{className:"w-4 h-4"}),"Client Details"]}),e.jsxs(R,{value:"insights",className:"gap-2 font-medium text-slate-600 data-[state=active]:bg-green-700 data-[state=active]:text-white data-[state=active]:shadow-md transition-all",children:[e.jsx(I,{className:"w-4 h-4"}),"Insights"]})]}),e.jsx(k,{value:"overview",className:"mt-8",children:e.jsxs("div",{className:"p-6 bg-white border-2 border-slate-200 rounded-xl shadow-lg space-y-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-amber-700 mb-6 flex items-center gap-2 pb-4 border-b border-amber-200",children:[e.jsx(A,{className:"w-5 h-5 text-amber-600"}),"Overview Analysis"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs(c,{className:"bg-white border border-slate-200/70 lg:col-span-2",children:[e.jsx(C,{children:e.jsx(y,{className:"text-slate-900",children:"Summary Statistics"})}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:o(l.totalMembers)}),e.jsx("div",{className:"text-sm text-slate-600",children:"Total Members"})]}),e.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:o(l.convertedMembers)}),e.jsx("div",{className:"text-sm text-slate-600",children:"Converted"})]}),e.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[l.conversionRate.toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-slate-600",children:"Conversion Rate"})]}),e.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:l.avgConversionTime>0?`${l.avgConversionTime.toFixed(0)} days`:"N/A"}),e.jsx("div",{className:"text-sm text-slate-600",children:"Avg Conv. Time"})]})]})})]}),e.jsxs(c,{className:"bg-white border border-slate-200/70",children:[e.jsx(C,{children:e.jsx(y,{className:"text-slate-900",children:"Top Segments"})}),e.jsxs(x,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-xs font-semibold text-amber-700 mb-1",children:"Locations"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(i.reduce((s,t)=>{const a=t.firstVisitLocation||"Unknown";return s[a]=(s[a]||0)+1,s},{})).sort((s,t)=>t[1]-s[1]).slice(0,4).map(([s,t])=>e.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-slate-50 border border-slate-200 text-slate-800",children:[s," • ",o(t)]},s))})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-xs font-semibold text-amber-700 mb-1",children:"Trainers"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(i.reduce((s,t)=>{const a=t.trainerName||"Unknown";return s[a]=(s[a]||0)+1,s},{})).sort((s,t)=>t[1]-s[1]).slice(0,4).map(([s,t])=>e.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-slate-50 border border-slate-200 text-slate-800",children:[s," • ",o(t)]},s))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-amber-700 mb-1",children:"Memberships"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(i.reduce((s,t)=>{const a=t.membershipUsed||"Unknown";return s[a]=(s[a]||0)+1,s},{})).sort((s,t)=>t[1]-s[1]).slice(0,4).map(([s,t])=>e.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-slate-50 border border-slate-200 text-slate-800",children:[s," • ",o(t)]},s))})]})]})]})]}),l.totalMembers>l.newMembers&&e.jsxs(c,{className:"bg-white border border-slate-200/70",children:[e.jsx(C,{children:e.jsx(y,{className:"text-slate-900",children:"New Members Discrepancy"})}),e.jsxs(x,{children:[e.jsxs("p",{className:"text-sm text-slate-600 mb-3",children:["There are ",o(l.totalMembers-l.newMembers),' member(s) in this selection who are not marked as "New". Below is a breakdown by their recorded type.']}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(i.reduce((s,t)=>{const a=String(t.isNew||"").trim()||"Unspecified";return String(t.isNew||"").toLowerCase().includes("new")||(s[a]=(s[a]||0)+1),s},{})).sort((s,t)=>t[1]-s[1]).slice(0,6).map(([s,t])=>e.jsxs("span",{className:"text-[11px] px-2.5 py-1 rounded-full bg-slate-50 border border-slate-200 text-slate-800",children:[s,": ",o(t)]},s))})]})]})]})}),e.jsx(k,{value:"clients",className:"mt-8",children:e.jsxs("div",{className:"p-6 bg-white border-2 border-emerald-400 rounded-xl shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-emerald-700 mb-6 flex items-center gap-2 pb-4 border-b border-emerald-200",children:[e.jsx(L,{className:"w-5 h-5 text-emerald-600"}),"Client Details"]}),Q()]})}),e.jsx(k,{value:"insights",className:"mt-8",children:e.jsxs(c,{className:"bg-white border-2 border-amber-400 shadow-lg",children:[e.jsx(C,{children:e.jsxs(y,{className:"text-amber-700 flex items-center gap-2",children:[e.jsx(I,{className:"w-5 h-5 text-amber-600"}),"AI-Powered Insights"]})}),e.jsx(x,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-5 bg-slate-50 rounded-lg border-l-4 border-blue-600 shadow-sm",children:[e.jsxs("h4",{className:"font-semibold text-blue-700 mb-2 flex items-center gap-2",children:[e.jsx(D,{className:"w-4 h-4 text-blue-600"}),"Key Metrics"]}),e.jsxs("ul",{className:"text-sm text-slate-700 space-y-1",children:[e.jsxs("li",{children:["• Total Revenue: ",T(l.totalLTV)]}),e.jsxs("li",{children:["• Conversion Rate: ",l.conversionRate.toFixed(1),"%"]}),e.jsxs("li",{children:["• Retention Rate: ",l.retentionRate.toFixed(1),"%"]}),e.jsxs("li",{children:["• Average Customer Value: ",T(l.avgLTV)]})]})]}),e.jsxs("div",{className:"p-5 bg-slate-50 rounded-lg border-l-4 border-emerald-600 shadow-sm",children:[e.jsxs("h4",{className:"font-semibold text-emerald-700 mb-2 flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4 text-emerald-600"}),"Performance Analysis"]}),e.jsxs("ul",{className:"text-sm text-slate-700 space-y-1",children:[e.jsxs("li",{children:["• ",l.conversionRate>30?"Strong":l.conversionRate>15?"Moderate":"Needs improvement"," conversion performance"]}),e.jsxs("li",{children:["• ",l.retentionRate>70?"Excellent":l.retentionRate>50?"Good":"Needs attention"," retention rate"]}),e.jsxs("li",{children:["• Customer lifetime value is ",l.avgLTV>1e4?"high":l.avgLTV>5e3?"moderate":"developing"]}),e.jsx("li",{children:"• This selection shows targeted analytics for clicked data only"})]})]})]})})]})})]})]})]})})};export{we as ClientConversionDrillDownModalV3};
//# sourceMappingURL=ClientConversionDrillDownModalV3-BUxDx9D1.js.map
