{"version":3,"file":"UniversalDrillDownModal-U61av5hX.js","sources":["../../src/components/ui/OptimizedTable.tsx","../../src/components/dashboard/UniversalDrillDownModal.tsx"],"sourcesContent":["\nimport React, { memo, useMemo, useRef, useEffect } from 'react';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport CopyTableButton from '@/components/ui/CopyTableButton';\nimport { useMetricsTablesRegistry } from '@/contexts/MetricsTablesRegistryContext';\n\ninterface OptimizedTableProps<T> {\n  data: T[];\n  columns: Array<{\n    key: keyof T;\n    header: string;\n    render?: (value: any, item: T) => React.ReactNode;\n    className?: string;\n    align?: 'left' | 'center' | 'right';\n  }>;\n  loading?: boolean;\n  maxHeight?: string;\n  stickyHeader?: boolean;\n  stickyFirstColumn?: boolean;\n  showFooter?: boolean;\n  footerData?: any;\n  onRowClick?: (item: T) => void;\n  tableId?: string;\n  showCopyButton?: boolean;\n}\n\nfunction OptimizedTableComponent<T extends Record<string, any>>({\n  data,\n  columns,\n  loading = false,\n  maxHeight = \"600px\",\n  stickyHeader = true,\n  stickyFirstColumn = false,\n  showFooter = false,\n  footerData,\n  onRowClick,\n  tableId = 'optimized-table',\n  showCopyButton = true\n}: OptimizedTableProps<T>) {\n  const tableRef = useRef<HTMLTableElement>(null);\n  \n  // Register with metrics tables registry\n  const { registerTable, unregisterTable } = useMetricsTablesRegistry();\n  \n  useEffect(() => {\n    if (tableId) {\n      registerTable(tableId, tableRef);\n      return () => unregisterTable(tableId);\n    }\n  }, [tableId, registerTable, unregisterTable]);\n  \n  const memoizedRows = useMemo(() => {\n    return data.map((item, index) => (\n      <TableRow \n        key={index} \n        className=\"hover:bg-gray-50/80 transition-colors duration-150 border-b border-gray-200 cursor-pointer\"\n        onClick={() => onRowClick?.(item)}\n      >\n        {columns.map((column, colIndex) => (\n          <TableCell \n            key={String(column.key)} \n            className={`\n              py-3 px-4 align-middle font-medium text-sm\n              ${column.align === 'center' ? 'text-center' : column.align === 'right' ? 'text-right' : 'text-left'}\n              ${stickyFirstColumn && colIndex === 0 ? 'sticky left-0 bg-white z-10 border-r border-gray-200' : ''}\n              ${column.className || ''}\n            `}\n          >\n            {column.render ? column.render(item[column.key], item) : item[column.key]}\n          </TableCell>\n        ))}\n      </TableRow>\n    ));\n  }, [data, columns, onRowClick, stickyFirstColumn]);\n\n  if (loading) {\n    return (\n      <div className=\"space-y-2\">\n        {Array.from({ length: 5 }).map((_, i) => (\n          <Skeleton key={i} className=\"h-12 w-full\" />\n        ))}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"relative w-full\">\n      {showCopyButton && (\n        <div className=\"absolute right-2 top-2 z-40\">\n          <CopyTableButton tableRef={tableRef} />\n        </div>\n      )}\n      <div \n        className=\"relative w-full overflow-auto border border-gray-200 rounded-lg bg-white shadow-sm\"\n        style={{ maxHeight }}\n      >\n        <Table ref={tableRef} id={tableId}>\n          <TableHeader className={stickyHeader ? \"sticky top-0 z-20 bg-gradient-to-r from-slate-800 via-slate-900 to-slate-800\" : \"bg-gradient-to-r from-slate-800 via-slate-900 to-slate-800\"}>\n            <TableRow className=\"border-b-2 border-slate-600\">\n              {columns.map((column, colIndex) => (\n                <TableHead \n                  key={String(column.key)} \n                  className={`\n                    font-bold text-white py-4 px-4 text-sm uppercase tracking-wider\n                    ${column.align === 'center' ? 'text-center' : column.align === 'right' ? 'text-right' : 'text-left'}\n                    ${stickyFirstColumn && colIndex === 0 ? 'sticky left-0 bg-gradient-to-r from-slate-800 to-slate-900 z-30 border-r border-slate-600' : ''}\n                  `}\n                >\n                  {column.header}\n                </TableHead>\n              ))}\n            </TableRow>\n          </TableHeader>\n        <TableBody>\n          {memoizedRows}\n        </TableBody>\n        {showFooter && footerData && (\n          <tfoot className=\"sticky bottom-0 z-20 bg-slate-800 text-white border-t-2 border-slate-600\">\n            <TableRow className=\"hover:bg-slate-800\">\n              {columns.map((column, colIndex) => (\n                <TableCell \n                  key={String(column.key)}\n                  className={`\n                    py-4 px-4 font-bold text-base align-middle\n                    ${column.align === 'center' ? 'text-center' : column.align === 'right' ? 'text-right' : 'text-left'}\n                    ${stickyFirstColumn && colIndex === 0 ? 'sticky left-0 bg-slate-800 z-30 border-r border-slate-600' : ''}\n                  `}\n                >\n                  {column.render && footerData[column.key] !== undefined \n                    ? column.render(footerData[column.key], footerData) \n                    : footerData[column.key] || ''\n                  }\n                </TableCell>\n              ))}\n            </TableRow>\n          </tfoot>\n        )}\n      </Table>\n    </div>\n    </div>\n  );\n}\n\nexport const OptimizedTable = memo(OptimizedTableComponent) as <T extends Record<string, any>>(\n  props: OptimizedTableProps<T>\n) => JSX.Element;\n","import React, { useMemo } from 'react';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { OptimizedTable } from '@/components/ui/OptimizedTable';\nimport { TrendingUp, TrendingDown, DollarSign, Users, Target, Eye, X } from 'lucide-react';\nimport { formatCurrency, formatNumber, formatPercentage } from '@/utils/formatters';\n\ninterface UniversalDrillDownModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  data: any;\n  relatedData: any[];\n  type: 'product' | 'category' | 'member' | 'seller' | 'trainer' | 'location' | 'metric' | 'lead' | 'client';\n  title: string;\n}\n\nexport const UniversalDrillDownModal: React.FC<UniversalDrillDownModalProps> = ({\n  isOpen,\n  onClose,\n  data,\n  relatedData,\n  type,\n  title\n}) => {\n  // Filter related data based on the selected item\n  const filteredData = useMemo(() => {\n    // First, check if we already have pre-filtered specific data\n    if (data?.filteredTransactionData && data.filteredTransactionData.length > 0) {\n      // Using pre-filtered data\n      return data.filteredTransactionData;\n    }\n    \n    if (data?.rawData && data.rawData.length > 0) {\n      // Using raw data\n      return data.rawData;\n    }\n    \n    if (!data || !relatedData) return [];\n    \n    // Fallback to filtering relatedData based on the selected item\n    let filtered = [];\n    switch (type) {\n      case 'product':\n        filtered = relatedData.filter(item => \n          item.paymentItem === data.name || \n          item.cleanedProduct === data.name ||\n          item.product === data.name\n        );\n        break;\n      case 'category':\n        filtered = relatedData.filter(item => \n          item.cleanedCategory === data.name || \n          item.category === data.name\n        );\n        break;\n      case 'member':\n        filtered = relatedData.filter(item => \n          item.customerName === data.name ||\n          item.memberId === data.memberId\n        );\n        break;\n      case 'seller':\n        filtered = relatedData.filter(item => \n          item.soldBy === data.name\n        );\n        break;\n      case 'trainer':\n        filtered = relatedData.filter(item => \n          item.teacherName === data.name ||\n          item.Trainer === data.name ||\n          item.trainerName === data.name\n        );\n        break;\n      case 'location':\n        filtered = relatedData.filter(item => \n          item.calculatedLocation === data.name ||\n          item.location === data.name ||\n          item.center === data.name\n        );\n        break;\n      case 'lead':\n        filtered = relatedData.filter(item => \n          item.id === data.id || \n          item.memberId === data.memberId\n        );\n        break;\n      case 'client':\n        filtered = relatedData.filter(item => \n          item.memberId === data.memberId ||\n          item.firstName === data.firstName\n        );\n        break;\n      default:\n        filtered = relatedData.slice(0, 100);\n        break;\n    }\n    \n    // Debug log removed for production\n    return filtered;\n  }, [data, relatedData, type]);\n\n  // Generate summary metrics\n  const summaryMetrics = useMemo(() => {\n    if (!filteredData.length) return null;\n\n    const metrics = {\n      totalRecords: filteredData.length,\n      totalRevenue: 0,\n      totalTransactions: 0,\n      uniqueCustomers: new Set(),\n      avgValue: 0\n    };\n\n    filteredData.forEach(item => {\n      if (item.paymentValue) {\n        metrics.totalRevenue += item.paymentValue;\n        metrics.totalTransactions += 1;\n      }\n      if (item.memberId) {\n        metrics.uniqueCustomers.add(item.memberId);\n      }\n      if (item.ltv) {\n        metrics.totalRevenue += item.ltv;\n      }\n    });\n\n    metrics.avgValue = metrics.totalTransactions > 0 ? \n      metrics.totalRevenue / metrics.totalTransactions : 0;\n\n    return {\n      ...metrics,\n      uniqueCustomers: metrics.uniqueCustomers.size\n    };\n  }, [filteredData]);\n\n  // Dynamic columns based on data type\n  const columns = useMemo(() => {\n    if (!filteredData.length) return [];\n\n    const firstItem = filteredData[0];\n    const baseColumns = [];\n\n    // Common columns for sales data\n    if (firstItem.paymentDate) {\n      baseColumns.push(\n        { key: 'paymentDate', header: 'Date', align: 'center' as const },\n        { key: 'customerName', header: 'Customer', align: 'left' as const },\n        { key: 'paymentItem', header: 'Product', align: 'left' as const },\n        { \n          key: 'paymentValue', \n          header: 'Amount', \n          align: 'right' as const,\n          render: (value: number) => formatCurrency(value)\n        },\n        { key: 'paymentMethod', header: 'Method', align: 'center' as const }\n      );\n    }\n    // Client/Lead data columns\n    else if (firstItem.firstName || firstItem.fullName) {\n      baseColumns.push(\n        { key: 'firstName', header: 'First Name', align: 'left' as const },\n        { key: 'lastName', header: 'Last Name', align: 'left' as const },\n        { key: 'email', header: 'Email', align: 'left' as const },\n        { \n          key: 'ltv', \n          header: 'LTV', \n          align: 'right' as const,\n          render: (value: number) => formatCurrency(value || 0)\n        },\n        { key: 'conversionStatus', header: 'Status', align: 'center' as const }\n      );\n    }\n    // Session data columns\n    else if (firstItem.date || firstItem.sessionId) {\n      baseColumns.push(\n        { key: 'date', header: 'Date', align: 'center' as const },\n        { key: 'cleanedClass', header: 'Class', align: 'left' as const },\n        { key: 'instructor', header: 'Instructor', align: 'left' as const },\n        { key: 'checkedInCount', header: 'Attendance', align: 'center' as const },\n        { key: 'capacity', header: 'Capacity', align: 'center' as const }\n      );\n    }\n    // Trainer data columns\n    else if (firstItem.teacherName) {\n      baseColumns.push(\n        { key: 'teacherName', header: 'Trainer', align: 'left' as const },\n        { key: 'totalSessions', header: 'Sessions', align: 'center' as const },\n        { key: 'totalCustomers', header: 'Customers', align: 'center' as const },\n        { \n          key: 'totalPaid', \n          header: 'Revenue', \n          align: 'right' as const,\n          render: (value: number) => formatCurrency(value || 0)\n        },\n        { key: 'location', header: 'Location', align: 'center' as const }\n      );\n    }\n\n    return baseColumns;\n  }, [filteredData]);\n\n  if (!isOpen) return null;\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-6xl max-h-[90vh] p-0 bg-white\">\n        <DialogHeader className=\"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-t-lg\">\n          <div className=\"flex items-center justify-between\">\n            <DialogTitle className=\"text-2xl font-bold flex items-center gap-3\">\n              <Eye className=\"w-6 h-6\" />\n              {title} - Detailed View\n            </DialogTitle>\n            <button\n              onClick={onClose}\n              className=\"text-white hover:text-gray-200 transition-colors p-1 rounded-full hover:bg-white/10\"\n            >\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n        </DialogHeader>\n\n        <div className=\"p-6 space-y-6 overflow-y-auto max-h-[calc(90vh-120px)]\">\n          {/* Summary Cards */}\n          {summaryMetrics && (\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n              <Card className=\"border-blue-200 bg-blue-50/50\">\n                <CardContent className=\"p-4 text-center\">\n                  <div className=\"flex items-center justify-center mb-2\">\n                    <Target className=\"w-5 h-5 text-blue-600\" />\n                  </div>\n                  <div className=\"text-2xl font-bold text-blue-900\">\n                    {formatNumber(summaryMetrics.totalRecords)}\n                  </div>\n                  <div className=\"text-sm text-blue-600\">Total Records</div>\n                </CardContent>\n              </Card>\n\n              <Card className=\"border-green-200 bg-green-50/50\">\n                <CardContent className=\"p-4 text-center\">\n                  <div className=\"flex items-center justify-center mb-2\">\n                    <DollarSign className=\"w-5 h-5 text-green-600\" />\n                  </div>\n                  <div className=\"text-2xl font-bold text-green-900\">\n                    {formatCurrency(summaryMetrics.totalRevenue)}\n                  </div>\n                  <div className=\"text-sm text-green-600\">Total Revenue</div>\n                </CardContent>\n              </Card>\n\n              <Card className=\"border-purple-200 bg-purple-50/50\">\n                <CardContent className=\"p-4 text-center\">\n                  <div className=\"flex items-center justify-center mb-2\">\n                    <Users className=\"w-5 h-5 text-purple-600\" />\n                  </div>\n                  <div className=\"text-2xl font-bold text-purple-900\">\n                    {formatNumber(summaryMetrics.uniqueCustomers)}\n                  </div>\n                  <div className=\"text-sm text-purple-600\">Unique Customers</div>\n                </CardContent>\n              </Card>\n\n              <Card className=\"border-orange-200 bg-orange-50/50\">\n                <CardContent className=\"p-4 text-center\">\n                  <div className=\"flex items-center justify-center mb-2\">\n                    <TrendingUp className=\"w-5 h-5 text-orange-600\" />\n                  </div>\n                  <div className=\"text-2xl font-bold text-orange-900\">\n                    {formatCurrency(summaryMetrics.avgValue)}\n                  </div>\n                  <div className=\"text-sm text-orange-600\">Average Value</div>\n                </CardContent>\n              </Card>\n            </div>\n          )}\n\n          {/* Data Table */}\n          <Card className=\"border-0 shadow-lg\">\n            <CardHeader className=\"bg-gradient-to-r from-slate-100 to-slate-200 border-b\">\n              <CardTitle className=\"flex items-center justify-between\">\n                <span>Detailed Data</span>\n                <Badge variant=\"secondary\" className=\"bg-blue-100 text-blue-700\">\n                  {filteredData.length} items\n                </Badge>\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"p-0\">\n              {columns.length > 0 && filteredData.length > 0 ? (\n                <OptimizedTable\n                  data={filteredData.slice(0, 100)} // Limit for performance\n                  columns={columns}\n                  maxHeight=\"500px\"\n                  stickyHeader={true}\n                />\n              ) : (\n                <div className=\"p-8 text-center text-gray-500\">\n                  <Target className=\"w-12 h-12 mx-auto mb-4 text-gray-300\" />\n                  <p className=\"text-lg font-medium\">No detailed data available</p>\n                  <p className=\"text-sm\">This item doesn't have associated transaction details.</p>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n\n          {/* Additional Data Summary */}\n          {data && (\n            <Card className=\"border-0 shadow-lg\">\n              <CardHeader className=\"bg-gradient-to-r from-gray-100 to-gray-200 border-b\">\n                <CardTitle>Item Summary</CardTitle>\n              </CardHeader>\n              <CardContent className=\"p-6\">\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                  {Object.entries(data).map(([key, value]) => (\n                    <div key={key} className=\"space-y-1\">\n                      <div className=\"font-medium text-gray-600 capitalize\">\n                        {key.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase())}\n                      </div>\n                      <div className=\"text-gray-900 font-semibold\">\n                        {typeof value === 'number' && (key.includes('revenue') || key.includes('value') || key.includes('ltv'))\n                          ? formatCurrency(value as number)\n                          : typeof value === 'number' \n                          ? formatNumber(value as number)\n                          : String(value || 'N/A')\n                        }\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          )}\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n};"],"names":["OptimizedTableComponent","data","columns","loading","maxHeight","stickyHeader","stickyFirstColumn","showFooter","footerData","onRowClick","tableId","showCopyButton","tableRef","useRef","registerTable","unregisterTable","useMetricsTablesRegistry","useEffect","memoizedRows","useMemo","item","index","jsx","TableRow","column","colIndex","TableCell","_","i","Skeleton","jsxs","CopyTableButton","Table","TableHeader","TableHead","TableBody","OptimizedTable","memo","UniversalDrillDownModal","isOpen","onClose","relatedData","type","title","filteredData","filtered","summaryMetrics","metrics","firstItem","baseColumns","value","formatCurrency","Dialog","DialogContent","DialogHeader","DialogTitle","Eye","X","Card","CardContent","Target","formatNumber","DollarSign","Users","TrendingUp","CardHeader","CardTitle","Badge","key","str"],"mappings":"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"}