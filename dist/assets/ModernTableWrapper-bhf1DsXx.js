import{i as d,h as U,j as e,r as T,w as H,C as $,f as g,a as W,B as m,c as Z}from"./index-Bm67KBkU.js";import{B as _}from"./index-DkD_C-d1.js";import{C as F}from"./CopyTableButton-Blm2CDq4.js";import{T as t}from"./tableStyles-BJWvDwDQ.js";import{E as O,S as Y}from"./SalesMotionHero-sGphstF2.js";import{P as M}from"./percent-BAS2Szsf.js";import{D as J,C as A}from"./dollar-sign-CKqx8kbC.js";import{P as K}from"./package-C0br8ACw.js";import{U as Q}from"./users-7Ku-1TDB.js";import{T as X}from"./googleAuth-BGo8ElRc.js";import{T as P}from"./target-BmxdxojS.js";import{A as ee}from"./activity-CeUP9h5f.js";import{C as se}from"./clock-BP1BFskn.js";const ae=d("BadgePercent",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]]);const te=d("Expand",[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8",key:"1c15vz"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6",key:"1fsnz2"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6",key:"hawz9i"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6",key:"u9ee12"}]]);const le=d("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);const ne=d("Shrink",[["path",{d:"m15 15 6 6m-6-6v4.8m0-4.8h4.8",key:"17vawe"}],["path",{d:"M9 19.8V15m0 0H4.2M9 15l-6 6",key:"chjx8e"}],["path",{d:"M15 4.2V9m0 0h4.8M15 9l6-6",key:"lav6yq"}],["path",{d:"M9 4.2V9m0 0H4.2M9 9 3 3",key:"1pxi2q"}]]),ce=({title:s,description:a,icon:u,children:x,totalItems:n,filterCount:ie,className:S,headerControls:E,collapsedGroups:oe=new Set,onCollapseAll:j,onExpandAll:w,showCollapseControls:R=!0,showDisplayToggle:V=!1,displayMode:C="values",onDisplayModeChange:y,showCopyButton:q=!0,tableRef:b,onCopyAllTabs:N,disableAutoRegistry:v=!1,contextInfo:B})=>{const f=T.useRef(null),c=H();return T.useEffect(()=>{if(v||!c)return;const i=b?.current||f.current;if(!i)return;const D=()=>{const k=i.querySelector("table")||i;let o=`${s}
`;const z=k.querySelectorAll("thead th, thead td, tr:first-child th, tr:first-child td"),r=[];return z.forEach(l=>{const h=l.textContent?.trim();h&&r.push(h)}),r.length&&(o+=r.join("	")+`
`,o+=r.map(()=>"---").join("	")+`
`),k.querySelectorAll("tbody tr, tr:not(:first-child)").forEach(l=>{const h=l.classList.contains("bg-slate-100")||l.querySelector('button[class*="ChevronRight"], button[class*="ChevronDown"]')!==null||l.querySelector("svg.lucide-chevron-right, svg.lucide-chevron-down")!==null,I=l.classList.contains("bg-slate-800")||l.textContent?.includes("TOTALS")||l.textContent?.includes("Total");if(h&&!I)return;const L=l.querySelectorAll("td, th"),p=[];L.forEach(G=>p.push((G.textContent||"").trim())),p.length&&(o+=p.join("	")+`
`)}),o.trim()};return c.register({id:s,getTextContent:D}),()=>c.unregister(s)},[c,s,b,v]),e.jsxs($,{className:g(t.card.container,S),children:[e.jsx(W,{className:t.card.header,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:t.card.headerIcon,children:u}),e.jsxs("div",{children:[e.jsx("h3",{className:t.card.headerTitle,children:s}),e.jsx("p",{className:t.card.headerDescription,children:a})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[n&&e.jsxs(_,{variant:"secondary",className:"bg-white/20 text-white font-semibold",children:[n," items"]}),V&&y&&e.jsxs("div",{className:"flex items-center space-x-1 mr-3",children:[e.jsxs(m,{variant:"ghost",size:"sm",onClick:()=>y("values"),className:`font-medium text-xs px-2 py-1 h-7 ${C==="values"?"bg-white/20 text-white":"text-white/70 hover:bg-white/10"}`,children:[e.jsx(O,{className:"w-3 h-3 mr-1"}),"Values"]}),e.jsxs(m,{variant:"ghost",size:"sm",onClick:()=>y("growth"),className:`font-medium text-xs px-2 py-1 h-7 ${C==="growth"?"bg-white/20 text-white":"text-white/70 hover:bg-white/10"}`,children:[e.jsx(M,{className:"w-3 h-3 mr-1"}),"Growth"]})]}),R&&j&&w&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs(m,{variant:"ghost",size:"sm",onClick:j,className:"text-white hover:bg-white/20 font-medium text-xs px-2 py-1 h-7",children:[e.jsx(ne,{className:"w-3 h-3 mr-1"}),"Collapse All"]}),e.jsxs(m,{variant:"ghost",size:"sm",onClick:w,className:"text-white hover:bg-white/20 font-medium text-xs px-2 py-1 h-7",children:[e.jsx(te,{className:"w-3 h-3 mr-1"}),"Expand All"]})]}),q&&e.jsx(F,{tableRef:b||f,tableName:s,size:"sm",className:"text-white hover:bg-white/20",onCopyAllTabs:N?()=>N().then(i=>i):c?async()=>c.getAllTabsContent():void 0,contextInfo:B}),E]})]})}),e.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-blue-400 to-transparent relative overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400 via-blue-500 to-cyan-400 animate-pulse duration-[3000ms]"})}),e.jsx(Z,{className:t.card.content,ref:f,children:x})]})},Ne=U.memo(ce,(s,a)=>s.title===a.title&&s.description===a.description&&s.totalItems===a.totalItems&&s.filterCount===a.filterCount&&s.className===a.className&&s.showCollapseControls===a.showCollapseControls&&s.showDisplayToggle===a.showDisplayToggle&&s.displayMode===a.displayMode&&s.showCopyButton===a.showCopyButton&&s.disableAutoRegistry===a.disableAutoRegistry&&s.collapsedGroups===a.collapsedGroups&&s.onCollapseAll===a.onCollapseAll&&s.onExpandAll===a.onExpandAll&&s.onDisplayModeChange===a.onDisplayModeChange&&s.tableRef===a.tableRef&&s.onCopyAllTabs===a.onCopyAllTabs&&s.children===a.children),ve=[{key:"revenue",label:"Total Revenue",icon:e.jsx(J,{className:"w-4 h-4"})},{key:"units",label:"Volume Sold",icon:e.jsx(K,{className:"w-4 h-4"})},{key:"transactions",label:"Transaction Count",icon:e.jsx(Y,{className:"w-4 h-4"})},{key:"members",label:"Customer Base",icon:e.jsx(Q,{className:"w-4 h-4"})},{key:"auv",label:"Avg. User Value",icon:e.jsx(X,{className:"w-4 h-4"})},{key:"atv",label:"Avg. Transaction Value",icon:e.jsx(P,{className:"w-4 h-4"})},{key:"asv",label:"Avg. Session Value",icon:e.jsx(ee,{className:"w-4 h-4"})},{key:"upt",label:"Units per Transaction",icon:e.jsx(A,{className:"w-4 h-4"})},{key:"vat",label:"Tax Amount",icon:e.jsx(le,{className:"w-4 h-4"})},{key:"discountAmount",label:"Discount Value",icon:e.jsx(ae,{className:"w-4 h-4"})},{key:"discountPercentage",label:"Discount Rate",icon:e.jsx(M,{className:"w-4 h-4"})},{key:"purchaseFrequency",label:"Purchase Interval",icon:e.jsx(se,{className:"w-4 h-4"})}],ke=({metrics:s,selectedMetric:a,onMetricChange:u,className:x=""})=>e.jsxs("div",{className:g(t.metricTabs.container,x),children:[e.jsxs("div",{className:t.metricTabs.label,children:[e.jsx(A,{className:"w-4 h-4 text-slate-500"}),e.jsx("span",{children:"Metrics:"})]}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:s.map(n=>e.jsxs("button",{onClick:()=>u(n.key),className:g(t.metricTabs.button,a===n.key?t.metricTabs.buttonActive:t.metricTabs.buttonInactive),children:[n.icon,e.jsx("span",{children:n.label})]},n.key))})]});export{te as E,ke as M,ve as S,Ne as a,ne as b};
//# sourceMappingURL=ModernTableWrapper-bhf1DsXx.js.map
