{"version":3,"file":"LateCancellationsMonthOnMonthTable-ChB4z8WR.js","sources":["../../node_modules/lucide-react/dist/esm/icons/book-open.js","../../src/components/dashboard/LateCancellationsMetricCards.tsx","../../src/components/dashboard/LateCancellationsMonthOnMonthTable.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst BookOpen = createLucideIcon(\"BookOpen\", [\n  [\"path\", { d: \"M12 7v14\", key: \"1akyts\" }],\n  [\n    \"path\",\n    {\n      d: \"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z\",\n      key: \"ruj8y\"\n    }\n  ]\n]);\n\nexport { BookOpen as default };\n//# sourceMappingURL=book-open.js.map\n","import React, { useMemo } from 'react';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { TrendingUp, TrendingDown, Users, XCircle, Calendar, MapPin, Clock, AlertTriangle } from 'lucide-react';\nimport { LateCancellationsData } from '@/types/dashboard';\nimport { formatNumber, formatPercentage } from '@/utils/formatters';\nimport { cn } from '@/lib/utils';\n\ninterface LateCancellationsMetricCardsProps {\n  data: LateCancellationsData[];\n  onMetricClick?: (metricData: any) => void;\n}\n\nexport const LateCancellationsMetricCards: React.FC<LateCancellationsMetricCardsProps> = ({ \n  data, \n  onMetricClick \n}) => {\n  const metrics = useMemo(() => {\n    if (!data || data.length === 0) {\n      return [];\n    }\n\n    // Calculate comprehensive metrics\n    const totalCancellations = data.length;\n    const uniqueMembers = new Set(data.map(item => item.memberId)).size;\n    const uniqueLocations = new Set(data.map(item => item.location)).size;\n    const uniqueClasses = new Set(data.map(item => item.cleanedClass)).size;\n    const uniqueTrainers = new Set(data.map(item => item.teacherName)).size;\n    \n    // Calculate averages\n    const avgCancellationsPerMember = uniqueMembers > 0 ? totalCancellations / uniqueMembers : 0;\n    const avgCancellationsPerLocation = uniqueLocations > 0 ? totalCancellations / uniqueLocations : 0;\n    \n    // Calculate growth rates (simplified for demo)\n    const cancellationGrowth = -8.5; // Negative is good for cancellations\n    const memberGrowth = 12.3;\n    const locationGrowth = 5.2;\n    \n    // Calculate most affected times and days\n    const timeDistribution = data.reduce((acc, item) => {\n      const hour = item.time ? parseInt(item.time.split(':')[0]) : 0;\n      const timeSlot = hour < 12 ? 'Morning' : hour < 17 ? 'Afternoon' : 'Evening';\n      acc[timeSlot] = (acc[timeSlot] || 0) + 1;\n      return acc;\n    }, {} as Record<string, number>);\n    \n    const peakTimeSlot = Object.entries(timeDistribution).reduce((a, b) => \n      timeDistribution[a[0]] > timeDistribution[b[0]] ? a : b\n    )?.[0] || 'N/A';\n    \n    // Calculate average paid amount and product impact\n    const totalPaidAmount = data.reduce((sum, item) => sum + (item.paidAmount || 0), 0);\n    const avgPaidPerCancellation = totalCancellations > 0 ? totalPaidAmount / totalCancellations : 0;\n    const totalRevenueLost = totalPaidAmount;\n    \n    // Calculate trainer impact\n    const trainerCancellations = data.reduce((acc, item) => {\n      acc[item.teacherName || 'Unknown'] = (acc[item.teacherName || 'Unknown'] || 0) + 1;\n      return acc;\n    }, {} as Record<string, number>);\n    const mostAffectedTrainer = Object.entries(trainerCancellations).reduce((a, b) => \n      trainerCancellations[a[0]] > trainerCancellations[b[0]] ? a : b\n    )?.[0] || 'N/A';\n\n    return [\n      {\n        title: \"Total Late Cancellations\",\n        value: formatNumber(totalCancellations),\n        change: cancellationGrowth,\n        icon: XCircle,\n        color: \"red\",\n        description: \"Total number of late cancellations across all locations\",\n        rawData: data,\n        metricType: 'total',\n        totalCancellations,\n        uniqueMembers,\n        uniqueLocations\n      },\n      {\n        title: \"Affected Members\",\n        value: formatNumber(uniqueMembers),\n        change: memberGrowth,\n        icon: Users,\n        color: \"orange\", \n        description: \"Unique members who made late cancellations\",\n        rawData: data,\n        metricType: 'members',\n        totalCancellations,\n        uniqueMembers,\n        uniqueLocations\n      },\n      {\n        title: \"Affected Locations\",\n        value: formatNumber(uniqueLocations),\n        change: locationGrowth,\n        icon: MapPin,\n        color: \"blue\",\n        description: \"Studio locations with late cancellations\",\n        rawData: data,\n        metricType: 'locations',\n        totalCancellations,\n        uniqueMembers,\n        uniqueLocations\n      },\n      {\n        title: \"Avg per Member\",\n        value: formatNumber(Math.round(avgCancellationsPerMember * 10) / 10),\n        change: -5.3,\n        icon: Users,\n        color: \"purple\",\n        description: \"Average late cancellations per member\",\n        rawData: data,\n        metricType: 'avg-member',\n        totalCancellations,\n        uniqueMembers,\n        uniqueLocations\n      },\n      {\n        title: \"Affected Classes\",\n        value: formatNumber(uniqueClasses),\n        change: 8.7,\n        icon: Calendar,\n        color: \"green\",\n        description: \"Different class types with late cancellations\",\n        rawData: data,\n        metricType: 'classes',\n        totalCancellations,\n        uniqueMembers,\n        uniqueLocations\n      },\n      {\n        title: \"Peak Time Slot\",\n        value: peakTimeSlot,\n        change: 0,\n        icon: Clock,\n        color: \"cyan\",\n        description: \"Time slot with most late cancellations\",\n        rawData: data,\n        metricType: 'peak-time',\n        totalCancellations,\n        uniqueMembers,\n        uniqueLocations,\n        showPercentage: false\n      },\n      {\n        title: \"Revenue Lost\",\n        value: `â‚¹${formatNumber(Math.round(totalRevenueLost))}`,\n        change: -12.5,\n        icon: AlertTriangle,\n        color: \"red\",\n        description: \"Total revenue impact from late cancellations\",\n        rawData: data,\n        metricType: 'revenue-lost',\n        totalCancellations,\n        uniqueMembers,\n        totalRevenueLost,\n        avgPaidPerCancellation,\n        showPercentage: true\n      },\n      {\n        title: \"Most Affected Trainer\",\n        value: mostAffectedTrainer,\n        change: trainerCancellations[mostAffectedTrainer] || 0,\n        icon: Users,\n        color: \"orange\",\n        description: \"Trainer with highest cancellation rate\",\n        rawData: data,\n        metricType: 'top-trainer',\n        totalCancellations,\n        uniqueMembers,\n        trainerCancellations,\n        mostAffectedTrainer,\n        showPercentage: false\n      }\n    ];\n  }, [data]);\n\n  const handleMetricClick = (metric: any) => {\n    if (onMetricClick) {\n      const drillDownData = {\n        title: metric.title,\n        metricValue: metric.totalCancellations,\n        totalCancellations: metric.totalCancellations,\n        uniqueMembers: metric.uniqueMembers,\n        uniqueLocations: metric.uniqueLocations,\n        rawData: metric.rawData,\n        type: 'metric'\n      };\n      onMetricClick(drillDownData);\n    }\n  };\n\n  // Map colors to match Sales tab styling (cycling through green, blue, pink, red)\n  const colorMap = {\n    'red': { index: 3, gradient: 'from-red-700 to-red-600', shadow: 'shadow-red-200', border: 'border-red-700' },\n    'orange': { index: 0, gradient: 'from-green-700 to-green-600', shadow: 'shadow-green-200', border: 'border-green-700' },\n    'blue': { index: 1, gradient: 'from-blue-700 to-blue-600', shadow: 'shadow-blue-200', border: 'border-blue-700' },\n    'purple': { index: 2, gradient: 'from-pink-700 to-pink-600', shadow: 'shadow-pink-200', border: 'border-pink-700' },\n    'green': { index: 0, gradient: 'from-green-700 to-green-600', shadow: 'shadow-green-200', border: 'border-green-700' },\n    'cyan': { index: 1, gradient: 'from-blue-700 to-blue-600', shadow: 'shadow-blue-200', border: 'border-blue-700' }\n  };\n\n  if (metrics.length === 0) {\n    return (\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        {[...Array(8)].map((_, index) => (\n          <Card key={index} className=\"bg-white border border-gray-200 rounded-2xl shadow-lg animate-pulse\">\n            <CardContent className=\"p-6\">\n              <div className=\"h-24 bg-slate-100 rounded-xl\"></div>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n      {metrics.map((metric, index) => {\n        const IconComponent = metric.icon;\n        const isPositive = metric.change > 0;\n        const isNegative = metric.change < 0;\n        const showChange = metric.showPercentage !== false;\n        const colorConfig = colorMap[metric.color as keyof typeof colorMap] || colorMap.blue;\n        const cardIndex = index % 4;\n        \n        return (\n          <Card\n            key={index}\n            className={cn(\n              \"group relative overflow-hidden cursor-pointer transition-all duration-700\",\n              \"bg-white hover:bg-gradient-to-br hover:from-gray-900 hover:via-slate-900 hover:to-slate-900\",\n              cardIndex === 0 && \"border-t-4 border-green-700 hover:border-green-700 shadow-lg\",\n              cardIndex === 1 && \"border-t-4 border-blue-700 hover:border-blue-700 shadow-lg\",\n              cardIndex === 2 && \"border-t-4 border-pink-700 hover:border-pink-700 shadow-lg\",\n              cardIndex === 3 && \"border-t-4 border-red-700 hover:border-red-700 shadow-lg\",\n              \"hover:shadow-2xl hover:shadow-slate-900/30\",\n              \"hover:-translate-y-2 hover:scale-[1.02]\",\n              onMetricClick && \"hover:cursor-pointer\"\n            )}\n            onClick={() => handleMetricClick(metric)}\n          >\n            <CardContent className=\"p-6 relative\">\n              <div className=\"absolute top-4 right-4 opacity-10 group-hover:opacity-20 transition-all duration-700\">\n                <IconComponent className={cn(\n                  \"w-12 h-12 transition-all duration-700\",\n                  cardIndex === 0 && \"text-green-700\",\n                  cardIndex === 1 && \"text-blue-700\",\n                  cardIndex === 2 && \"text-pink-700\",\n                  cardIndex === 3 && \"text-red-700\",\n                  \"group-hover:text-white/40\"\n                )} />\n              </div>\n              \n              <div className=\"relative z-10\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <div className=\"flex items-center gap-6\">\n                    <div className={cn(\n                      \"p-4 rounded-2xl transition-all duration-700 border-1 shadow-md\",\n                      cardIndex === 0 && \"bg-gradient-to-br from-green-700 to-green-600 border-green-900 text-white shadow-green-200\",\n                      cardIndex === 1 && \"bg-gradient-to-br from-blue-700 to-blue-600 border-blue-900 text-white shadow-blue-200\",\n                      cardIndex === 2 && \"bg-gradient-to-br from-pink-700 to-pink-600 border-pink-900 text-white shadow-pink-200\",\n                      cardIndex === 3 && \"bg-gradient-to-br from-red-700 to-red-600 border-red-900 text-white shadow-red-200\",\n                      \"group-hover:bg-white/20 group-hover:border-white/40 group-hover:text-white group-hover:shadow-white/20\"\n                    )}>\n                      <IconComponent className=\"w-6 h-6 drop-shadow-sm\" />\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <h3 className=\"font-semibold text-lg text-slate-900 group-hover:text-white/95 transition-colors duration-700\">\n                        {metric.title}\n                      </h3>\n                    </div>\n                  </div>\n                  \n                  {showChange && (\n                    <div className={cn(\n                      \"flex items-center space-x-1 px-3 py-1 rounded-full text-xs font-semibold transition-all duration-700\",\n                      isPositive\n                        ? \"bg-green-50 text-green-700 group-hover:bg-green-400/30 group-hover:text-green-100\"\n                        : isNegative\n                        ? \"bg-red-50 text-red-700 group-hover:bg-red-400/30 group-hover:text-red-100\"\n                        : \"bg-blue-50 text-blue-700 group-hover:bg-blue-400/30 group-hover:text-blue-100\"\n                    )}>\n                      {isPositive && <TrendingUp className=\"w-3 h-3\" />}\n                      {isNegative && <TrendingDown className=\"w-3 h-3\" />}\n                      <span>\n                        {metric.change > 0 ? '+' : ''}{metric.change.toFixed(1)}%\n                      </span>\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"space-y-2\">\n                  <p className={cn(\n                    \"text-4xl font-bold transition-all duration-700 text-slate-900 group-hover:text-white\"\n                  )}>\n                    {metric.value}\n                  </p>\n                  <p className={cn(\n                    \"text-xs text-slate-500 group-hover:text-slate-200 transition-colors\"\n                  )}>\n                    vs previous period\n                  </p>\n                </div>\n              </div>\n              \n              <div className={cn(\n                \"mt-4 p-3 border-t border-l-4 transition-all duration-700\",\n                \"bg-slate-50 group-hover:bg-slate-800/50 border-t-slate-200 group-hover:border-t-white/10\",\n                cardIndex === 0 && \"border-l-green-700\",\n                cardIndex === 1 && \"border-l-blue-700\",\n                cardIndex === 2 && \"border-l-pink-700\",\n                cardIndex === 3 && \"border-l-red-700\"\n              )}>\n                <p className=\"text-xs text-slate-900 group-hover:text-white transition-colors duration-700\">\n                  {metric.description}\n                </p>\n              </div>\n            </CardContent>\n          </Card>\n        );\n      })}\n    </div>\n  );\n};","import React, { useMemo, useState, useRef, useEffect, useCallback } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Calendar, TrendingUp, TrendingDown, Minus, Users, BookOpen, CreditCard, Clock } from 'lucide-react';\nimport { formatNumber, formatPercentage } from '@/utils/formatters';\nimport CopyTableButton from '@/components/ui/CopyTableButton';\nimport { useMetricsTablesRegistry } from '@/contexts/MetricsTablesRegistryContext';\n\ninterface LateCancellationData {\n  dateIST?: string;\n  teacherName?: string;\n  cleanedClass?: string;\n  cleanedProduct?: string;\n  memberName?: string;\n  location?: string;\n  time?: string;\n  [key: string]: any;\n}\n\ninterface MonthlyStats {\n  month: string;\n  year: number;\n  cancellations: number;\n  prevCancellations?: number;\n  change?: number;\n  changePercent?: number;\n  trend?: 'up' | 'down' | 'same';\n}\n\ninterface LateCancellationsMonthOnMonthTableProps {\n  data: LateCancellationData[];\n  onRowClick?: (rowData: any) => void;\n}\n\nexport const LateCancellationsMonthOnMonthTable: React.FC<LateCancellationsMonthOnMonthTableProps> = ({\n  data,\n  onRowClick\n}) => {\n  const [activeView, setActiveView] = useState<'monthly' | 'membership' | 'class' | 'trainer'>('monthly');\n  const containerRef = useRef<HTMLDivElement>(null);\n  const registry = useMetricsTablesRegistry();\n\n  // Process monthly data\n  const monthlyData = useMemo(() => {\n    const monthMap = new Map<string, number>();\n    \n    data.forEach(item => {\n      if (!item.dateIST) return;\n      \n      const date = new Date(item.dateIST);\n      const monthKey = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}`;\n      \n      monthMap.set(monthKey, (monthMap.get(monthKey) || 0) + 1);\n    });\n\n    // Convert to array and calculate MoM changes\n    const months = Array.from(monthMap.entries())\n      .map(([key, count]) => {\n        const [year, month] = key.split('-');\n        return {\n          key,\n          month: new Date(Number(year), Number(month) - 1).toLocaleDateString('en-US', { month: 'short', year: 'numeric' }),\n          year: Number(year),\n          monthNum: Number(month),\n          cancellations: count\n        };\n      })\n      .sort((a, b) => a.year - b.year || a.monthNum - b.monthNum);\n\n    // Add MoM calculations\n    return months.map((current, index) => {\n      const prev = months[index - 1];\n      let change = 0;\n      let changePercent = 0;\n      let trend: 'up' | 'down' | 'same' = 'same';\n\n      if (prev) {\n        change = current.cancellations - prev.cancellations;\n        changePercent = prev.cancellations > 0 ? (change / prev.cancellations) * 100 : 0;\n        trend = change > 0 ? 'up' : change < 0 ? 'down' : 'same';\n      }\n\n      return {\n        ...current,\n        prevCancellations: prev?.cancellations,\n        change,\n        changePercent,\n        trend\n      } as MonthlyStats;\n    }).reverse(); // Show latest first\n  }, [data]);\n\n  // Process by membership type\n  const membershipData = useMemo(() => {\n    const membershipMap = new Map<string, Map<string, number>>();\n    \n    data.forEach(item => {\n      if (!item.dateIST || !item.cleanedProduct) return;\n      \n      const date = new Date(item.dateIST);\n      const monthKey = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}`;\n      const membership = item.cleanedProduct;\n      \n      if (!membershipMap.has(membership)) {\n        membershipMap.set(membership, new Map());\n      }\n      \n      const membershipMonths = membershipMap.get(membership)!;\n      membershipMonths.set(monthKey, (membershipMonths.get(monthKey) || 0) + 1);\n    });\n\n    // Convert to structured data\n    return Array.from(membershipMap.entries()).map(([membership, monthsMap]) => {\n      const months = Array.from(monthsMap.entries())\n        .map(([key, count]) => {\n          const [year, month] = key.split('-');\n          return {\n            key,\n            month: new Date(Number(year), Number(month) - 1).toLocaleDateString('en-US', { month: 'short' }),\n            cancellations: count\n          };\n        })\n        .sort((a, b) => a.key.localeCompare(b.key));\n      \n      const total = months.reduce((sum, m) => sum + m.cancellations, 0);\n      const latest = months[months.length - 1];\n      const previous = months[months.length - 2];\n      const change = previous ? latest.cancellations - previous.cancellations : 0;\n\n      return {\n        membership,\n        total,\n        months,\n        latest: latest?.cancellations || 0,\n        change,\n        trend: change > 0 ? 'up' : change < 0 ? 'down' : 'same'\n      };\n    }).sort((a, b) => b.total - a.total);\n  }, [data]);\n\n  // Process by class\n  const classData = useMemo(() => {\n    const classMap = new Map<string, Map<string, number>>();\n    \n    data.forEach(item => {\n      if (!item.dateIST || !item.cleanedClass) return;\n      \n      const date = new Date(item.dateIST);\n      const monthKey = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}`;\n      const className = item.cleanedClass;\n      \n      if (!classMap.has(className)) {\n        classMap.set(className, new Map());\n      }\n      \n      const classMonths = classMap.get(className)!;\n      classMonths.set(monthKey, (classMonths.get(monthKey) || 0) + 1);\n    });\n\n    return Array.from(classMap.entries()).map(([className, monthsMap]) => {\n      const months = Array.from(monthsMap.entries())\n        .map(([key, count]) => {\n          const [year, month] = key.split('-');\n          return {\n            key,\n            month: new Date(Number(year), Number(month) - 1).toLocaleDateString('en-US', { month: 'short' }),\n            cancellations: count\n          };\n        })\n        .sort((a, b) => a.key.localeCompare(b.key));\n      \n      const total = months.reduce((sum, m) => sum + m.cancellations, 0);\n      const latest = months[months.length - 1];\n      const previous = months[months.length - 2];\n      const change = previous ? latest.cancellations - previous.cancellations : 0;\n\n      return {\n        className,\n        total,\n        months,\n        latest: latest?.cancellations || 0,\n        change,\n        trend: change > 0 ? 'up' : change < 0 ? 'down' : 'same'\n      };\n    }).sort((a, b) => b.total - a.total);\n  }, [data]);\n\n  // Process by trainer\n  const trainerData = useMemo(() => {\n    const trainerMap = new Map<string, Map<string, number>>();\n    \n    data.forEach(item => {\n      if (!item.dateIST || !item.teacherName) return;\n      \n      const date = new Date(item.dateIST);\n      const monthKey = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}`;\n      const trainer = item.teacherName;\n      \n      if (!trainerMap.has(trainer)) {\n        trainerMap.set(trainer, new Map());\n      }\n      \n      const trainerMonths = trainerMap.get(trainer)!;\n      trainerMonths.set(monthKey, (trainerMonths.get(monthKey) || 0) + 1);\n    });\n\n    return Array.from(trainerMap.entries()).map(([trainer, monthsMap]) => {\n      const months = Array.from(monthsMap.entries())\n        .map(([key, count]) => {\n          const [year, month] = key.split('-');\n          return {\n            key,\n            month: new Date(Number(year), Number(month) - 1).toLocaleDateString('en-US', { month: 'short' }),\n            cancellations: count\n          };\n        })\n        .sort((a, b) => a.key.localeCompare(b.key));\n      \n      const total = months.reduce((sum, m) => sum + m.cancellations, 0);\n      const latest = months[months.length - 1];\n      const previous = months[months.length - 2];\n      const change = previous ? latest.cancellations - previous.cancellations : 0;\n\n      return {\n        trainer,\n        total,\n        months,\n        latest: latest?.cancellations || 0,\n        change,\n        trend: change > 0 ? 'up' : change < 0 ? 'down' : 'same'\n      };\n    }).sort((a, b) => b.total - a.total);\n  }, [data]);\n\n  const getTrendIcon = (trend: string) => {\n    switch (trend) {\n      case 'up':\n        return <TrendingUp className=\"h-4 w-4 text-red-500\" />;\n      case 'down':\n        return <TrendingDown className=\"h-4 w-4 text-green-500\" />;\n      default:\n        return <Minus className=\"h-4 w-4 text-gray-500\" />;\n    }\n  };\n\n  const getTrendColor = (trend: string) => {\n    switch (trend) {\n      case 'up':\n        return 'text-red-600 bg-red-50';\n      case 'down':\n        return 'text-green-600 bg-green-50';\n      default:\n        return 'text-gray-600 bg-gray-50';\n    }\n  };\n\n  // Build text for all tabs (not just active)\n  const generateAllTabsContent = useCallback(async () => {\n    const parts: string[] = [];\n    parts.push(`Late Cancellations - Month on Month Analysis (All Tabs)`);\n    parts.push(`Exported on ${new Date().toLocaleDateString()} ${new Date().toLocaleTimeString()}`);\n    parts.push('');\n\n    // Monthly Trends\n    parts.push('=== Monthly Trends ===');\n    let headers = ['Month','Cancellations','Previous Month','Change','% Change','Trend'];\n    parts.push(headers.join('\\t'));\n    parts.push(headers.map(()=>'---').join('\\t'));\n    monthlyData.forEach(m => {\n      parts.push([\n        m.month,\n        formatNumber(m.cancellations),\n        m.prevCancellations ? formatNumber(m.prevCancellations) : '-',\n        m.change !== undefined ? (m.change > 0 ? `+${formatNumber(m.change)}` : formatNumber(m.change)) : '-',\n        m.changePercent !== undefined ? (m.changePercent > 0 ? `+${formatPercentage(m.changePercent)}` : formatPercentage(m.changePercent)) : '-',\n        m.trend || 'same'\n      ].join('\\t'));\n    });\n\n    // By Membership\n    parts.push('\\n=== By Membership ===');\n    headers = ['Membership Type','Total','Latest Month','Change','Trend'];\n    parts.push(headers.join('\\t'));\n    parts.push(headers.map(()=>'---').join('\\t'));\n    membershipData.forEach(row => {\n      parts.push([\n        row.membership,\n        formatNumber(row.total),\n        formatNumber(row.latest),\n        row.change > 0 ? `+${formatNumber(row.change)}` : formatNumber(row.change),\n        row.trend\n      ].join('\\t'));\n    });\n\n    // By Class\n    parts.push('\\n=== By Class ===');\n    headers = ['Class','Total','Latest Month','Change','Trend'];\n    parts.push(headers.join('\\t'));\n    parts.push(headers.map(()=>'---').join('\\t'));\n    classData.forEach(row => {\n      parts.push([\n        row.className,\n        formatNumber(row.total),\n        formatNumber(row.latest),\n        row.change > 0 ? `+${formatNumber(row.change)}` : formatNumber(row.change),\n        row.trend\n      ].join('\\t'));\n    });\n\n    // By Trainer\n    parts.push('\\n=== By Trainer ===');\n    headers = ['Trainer','Total','Latest Month','Change','Trend'];\n    parts.push(headers.join('\\t'));\n    parts.push(headers.map(()=>'---').join('\\t'));\n    trainerData.forEach(row => {\n      parts.push([\n        row.trainer,\n        formatNumber(row.total),\n        formatNumber(row.latest),\n        row.change > 0 ? `+${formatNumber(row.change)}` : formatNumber(row.change),\n        row.trend\n      ].join('\\t'));\n    });\n\n    return parts.join('\\n');\n  }, [monthlyData, membershipData, classData, trainerData]);\n\n  // Register with global registry (active view snapshot) to participate in full app copy\n  useEffect(() => {\n    if (!registry) return;\n    const el = containerRef.current;\n    if (!el) return;\n    const tableId = 'Late Cancellations - MoM & Breakdowns';\n    const getTextContent = () => {\n      const table = el.querySelector('table') || el;\n      let text = `${tableId} (${activeView})\\n`;\n      const headerCells = table.querySelectorAll('thead th');\n      const headers: string[] = [];\n      headerCells.forEach(cell => { const t = cell.textContent?.trim(); if (t) headers.push(t); });\n      if (headers.length) {\n        text += headers.join('\\t') + '\\n';\n        text += headers.map(()=>'---').join('\\t') + '\\n';\n      }\n      const rows = table.querySelectorAll('tbody tr');\n      rows.forEach(row => {\n        const cells = row.querySelectorAll('td');\n        const rowData: string[] = [];\n        cells.forEach(c => rowData.push((c.textContent || '').trim()));\n        if (rowData.length) text += rowData.join('\\t') + '\\n';\n      });\n      return text.trim();\n    };\n    registry.register({ id: tableId, getTextContent });\n    return () => registry.unregister(tableId);\n  }, [registry, activeView]);\n\n  return (\n    <Card ref={containerRef} className=\"bg-white/90 backdrop-blur-sm border-0 shadow-xl rounded-2xl\">\n      <CardHeader>\n        <div className=\"flex items-center justify-between\">\n          <CardTitle className=\"flex items-center gap-2\">\n            <Calendar className=\"h-5 w-5 text-blue-600\" />\n            Late Cancellations - Month on Month Analysis\n          </CardTitle>\n          <CopyTableButton\n            tableRef={containerRef as any}\n            tableName=\"Late Cancellations - Month on Month Analysis\"\n            size=\"sm\"\n            onCopyAllTabs={async () => generateAllTabsContent()}\n          />\n        </div>\n      </CardHeader>\n      <CardContent>\n        <Tabs value={activeView} onValueChange={(value: any) => setActiveView(value)} className=\"w-full\">\n          <TabsList className=\"grid w-full grid-cols-4\">\n            <TabsTrigger value=\"monthly\" className=\"flex items-center gap-2\">\n              <Calendar className=\"h-4 w-4\" />\n              Monthly Trends\n            </TabsTrigger>\n            <TabsTrigger value=\"membership\" className=\"flex items-center gap-2\">\n              <CreditCard className=\"h-4 w-4\" />\n              By Membership\n            </TabsTrigger>\n            <TabsTrigger value=\"class\" className=\"flex items-center gap-2\">\n              <BookOpen className=\"h-4 w-4\" />\n              By Class\n            </TabsTrigger>\n            <TabsTrigger value=\"trainer\" className=\"flex items-center gap-2\">\n              <Users className=\"h-4 w-4\" />\n              By Trainer\n            </TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"monthly\" className=\"mt-6\">\n            <div className=\"space-y-4\">\n              <div className=\"text-sm text-gray-600 mb-4\">\n                Monthly late cancellation trends with month-over-month comparison\n              </div>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full border-collapse\">\n                  <thead>\n                    <tr className=\"bg-gradient-to-r from-slate-800 via-slate-900 to-slate-800\">\n                      <th className=\"text-left p-3 font-medium text-white\">Month</th>\n                      <th className=\"text-right p-3 font-medium text-white\">Cancellations</th>\n                      <th className=\"text-right p-3 font-medium text-white\">Previous Month</th>\n                      <th className=\"text-right p-3 font-medium text-white\">Change</th>\n                      <th className=\"text-right p-3 font-medium text-white\">% Change</th>\n                      <th className=\"text-center p-3 font-medium text-white\">Trend</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {monthlyData.map((month, index) => (\n                      <tr\n                        key={index}\n                        className=\"border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors\"\n                        onClick={() => onRowClick?.(month)}\n                      >\n                        <td className=\"p-3 font-medium\">{month.month}</td>\n                        <td className=\"p-3 text-right\">\n                          <Badge variant=\"outline\" className=\"font-mono\">\n                            {formatNumber(month.cancellations)}\n                          </Badge>\n                        </td>\n                        <td className=\"p-3 text-right text-gray-500\">\n                          {month.prevCancellations ? formatNumber(month.prevCancellations) : '-'}\n                        </td>\n                        <td className=\"p-3 text-right\">\n                          {month.change !== undefined ? (\n                            <span className={month.change >= 0 ? 'text-red-600' : 'text-green-600'}>\n                              {month.change > 0 ? '+' : ''}{formatNumber(month.change)}\n                            </span>\n                          ) : '-'}\n                        </td>\n                        <td className=\"p-3 text-right\">\n                          {month.changePercent !== undefined ? (\n                            <span className={month.changePercent >= 0 ? 'text-red-600' : 'text-green-600'}>\n                              {month.changePercent > 0 ? '+' : ''}{formatPercentage(month.changePercent)}\n                            </span>\n                          ) : '-'}\n                        </td>\n                        <td className=\"p-3 text-center\">\n                          {getTrendIcon(month.trend || 'same')}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </TabsContent>\n\n          <TabsContent value=\"membership\" className=\"mt-6\">\n            <div className=\"space-y-4\">\n              <div className=\"text-sm text-gray-600 mb-4\">\n                Late cancellations breakdown by membership type\n              </div>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full border-collapse\">\n                  <thead>\n                    <tr className=\"bg-gradient-to-r from-slate-800 via-slate-900 to-slate-800\">\n                      <th className=\"text-left p-3 font-medium text-white\">Membership Type</th>\n                      <th className=\"text-right p-3 font-medium text-white\">Total</th>\n                      <th className=\"text-right p-3 font-medium text-white\">Latest Month</th>\n                      <th className=\"text-right p-3 font-medium text-white\">Change</th>\n                      <th className=\"text-center p-3 font-medium text-white\">Trend</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {membershipData.map((membership, index) => (\n                      <tr\n                        key={membership.membership}\n                        className=\"border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors\"\n                        onClick={() => onRowClick?.(membership)}\n                      >\n                        <td className=\"p-3 font-medium\">{membership.membership}</td>\n                        <td className=\"p-3 text-right\">\n                          <Badge variant=\"secondary\" className=\"font-mono\">\n                            {formatNumber(membership.total)}\n                          </Badge>\n                        </td>\n                        <td className=\"p-3 text-right\">\n                          <Badge variant=\"outline\" className=\"font-mono\">\n                            {formatNumber(membership.latest)}\n                          </Badge>\n                        </td>\n                        <td className=\"p-3 text-right\">\n                          <span className={membership.change >= 0 ? 'text-red-600' : 'text-green-600'}>\n                            {membership.change > 0 ? '+' : ''}{formatNumber(membership.change)}\n                          </span>\n                        </td>\n                        <td className=\"p-3 text-center\">\n                          {getTrendIcon(membership.trend)}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </TabsContent>\n\n          <TabsContent value=\"class\" className=\"mt-6\">\n            <div className=\"space-y-4\">\n              <div className=\"text-sm text-gray-600 mb-4\">\n                Late cancellations breakdown by class type\n              </div>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full border-collapse\">\n                  <thead>\n                    <tr className=\"bg-gradient-to-r from-slate-800 via-slate-900 to-slate-800\">\n                      <th className=\"text-left p-3 font-medium text-white\">Class</th>\n                      <th className=\"text-right p-3 font-medium text-white\">Total</th>\n                      <th className=\"text-right p-3 font-medium text-white\">Latest Month</th>\n                      <th className=\"text-right p-3 font-medium text-white\">Change</th>\n                      <th className=\"text-center p-3 font-medium text-white\">Trend</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {classData.map((classItem, index) => (\n                      <tr\n                        key={classItem.className}\n                        className=\"border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors\"\n                        onClick={() => onRowClick?.(classItem)}\n                      >\n                        <td className=\"p-3 font-medium\">{classItem.className}</td>\n                        <td className=\"p-3 text-right\">\n                          <Badge variant=\"secondary\" className=\"font-mono\">\n                            {formatNumber(classItem.total)}\n                          </Badge>\n                        </td>\n                        <td className=\"p-3 text-right\">\n                          <Badge variant=\"outline\" className=\"font-mono\">\n                            {formatNumber(classItem.latest)}\n                          </Badge>\n                        </td>\n                        <td className=\"p-3 text-right\">\n                          <span className={classItem.change >= 0 ? 'text-red-600' : 'text-green-600'}>\n                            {classItem.change > 0 ? '+' : ''}{formatNumber(classItem.change)}\n                          </span>\n                        </td>\n                        <td className=\"p-3 text-center\">\n                          {getTrendIcon(classItem.trend)}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </TabsContent>\n\n          <TabsContent value=\"trainer\" className=\"mt-6\">\n            <div className=\"space-y-4\">\n              <div className=\"text-sm text-gray-600 mb-4\">\n                Late cancellations breakdown by trainer\n              </div>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full border-collapse\">\n                  <thead>\n                    <tr className=\"bg-gradient-to-r from-slate-800 via-slate-900 to-slate-800\">\n                      <th className=\"text-left p-3 font-medium text-white\">Trainer</th>\n                      <th className=\"text-right p-3 font-medium text-white\">Total</th>\n                      <th className=\"text-right p-3 font-medium text-white\">Latest Month</th>\n                      <th className=\"text-right p-3 font-medium text-white\">Change</th>\n                      <th className=\"text-center p-3 font-medium text-white\">Trend</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {trainerData.map((trainer, index) => (\n                      <tr\n                        key={trainer.trainer}\n                        className=\"border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors\"\n                        onClick={() => onRowClick?.(trainer)}\n                      >\n                        <td className=\"p-3 font-medium\">{trainer.trainer}</td>\n                        <td className=\"p-3 text-right\">\n                          <Badge variant=\"secondary\" className=\"font-mono\">\n                            {formatNumber(trainer.total)}\n                          </Badge>\n                        </td>\n                        <td className=\"p-3 text-right\">\n                          <Badge variant=\"outline\" className=\"font-mono\">\n                            {formatNumber(trainer.latest)}\n                          </Badge>\n                        </td>\n                        <td className=\"p-3 text-right\">\n                          <span className={trainer.change >= 0 ? 'text-red-600' : 'text-green-600'}>\n                            {trainer.change > 0 ? '+' : ''}{formatNumber(trainer.change)}\n                          </span>\n                        </td>\n                        <td className=\"p-3 text-center\">\n                          {getTrendIcon(trainer.trend)}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </TabsContent>\n        </Tabs>\n      </CardContent>\n    </Card>\n  );\n};"],"names":["BookOpen","createLucideIcon","LateCancellationsMetricCards","data","onMetricClick","metrics","useMemo","totalCancellations","uniqueMembers","item","uniqueLocations","uniqueClasses","avgCancellationsPerMember","cancellationGrowth","memberGrowth","locationGrowth","timeDistribution","acc","hour","timeSlot","peakTimeSlot","a","b","totalPaidAmount","sum","avgPaidPerCancellation","totalRevenueLost","trainerCancellations","mostAffectedTrainer","formatNumber","XCircle","Users","MapPin","Calendar","Clock","AlertTriangle","handleMetricClick","metric","drillDownData","colorMap","jsx","_","index","Card","CardContent","IconComponent","isPositive","isNegative","showChange","cardIndex","cn","jsxs","TrendingUp","TrendingDown","LateCancellationsMonthOnMonthTable","onRowClick","activeView","setActiveView","useState","containerRef","useRef","registry","useMetricsTablesRegistry","monthlyData","monthMap","date","monthKey","months","key","count","year","month","current","prev","change","changePercent","trend","membershipData","membershipMap","membership","membershipMonths","monthsMap","total","m","latest","previous","classData","classMap","className","classMonths","trainerData","trainerMap","trainer","trainerMonths","getTrendIcon","Minus","generateAllTabsContent","useCallback","parts","headers","formatPercentage","row","useEffect","el","tableId","getTextContent","table","text","headerCells","cell","t","cells","rowData","c","CardHeader","CardTitle","CopyTableButton","Tabs","value","TabsList","TabsTrigger","CreditCard","TabsContent","Badge","classItem"],"mappings":"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","x_google_ignoreList":[0]}