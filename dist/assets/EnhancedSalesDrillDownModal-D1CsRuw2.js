import{r as z,j as e,D as ae,n as se,o as re,q as le,B as V,C as h,a as w,b as N,c as u}from"./index-Bm67KBkU.js";import{B as f,f as j,a as P}from"./index-DkD_C-d1.js";import{T as ne,a as ie,b as T,c as A}from"./tabs-BTrhdLSC.js";import{M as F}from"./ModernDataTable-Qj0casC7.js";import{u as oe}from"./useAdvancedExport-luHYyrc4.js";import{C,D as L}from"./dollar-sign-CKqx8kbC.js";import{D as de,E as M,a as ce,S as _}from"./SalesMotionHero-sGphstF2.js";import{S as me}from"./star-qy423-d6.js";import{U as S}from"./users-7Ku-1TDB.js";import{Z as H}from"./zap-IfyovFNW.js";import{T as B}from"./googleAuth-BGo8ElRc.js";import{A as q}from"./award-D0x2LQSI.js";import{T as E}from"./target-BmxdxojS.js";import{A as xe}from"./activity-CeUP9h5f.js";import{F as he}from"./select-CM-Birqk.js";import{C as ue}from"./clock-BP1BFskn.js";import{R as U,B as be,a as ge,X as pe,Y as fe,T as G,b as ve,C as je}from"./BarChart-o5Oeg9Jb.js";import{C as we}from"./credit-card-yR0Iskrq.js";import{P as Ne,a as ye}from"./PieChart-slnvMcDg.js";import"./table-DhXofKdS.js";import"./tableStyles-BJWvDwDQ.js";import"./CopyTableButton-Blm2CDq4.js";import"./dropdown-menu-B9zQ9u84.js";import"./chevron-right-CbIMR3DA.js";import"./file-text-DChZNHsM.js";import"./index-BdQq_4o_.js";const Ye=({isOpen:K,onClose:I,data:c,type:p})=>{if(!c)return null;const{exportAllData:W,isExporting:R}=oe(),d=z.useMemo(()=>{const r=c.filteredTransactionData||c.rawData||c.transactionData||[],l=c.isDynamic&&c.totalRevenue!==void 0?c.totalRevenue:r.reduce((a,i)=>a+(i.paymentValue||0),0),t=c.isDynamic&&c.totalTransactions!==void 0?c.totalTransactions:r.length,s=c.isDynamic&&c.totalCustomers!==void 0?c.totalCustomers:new Set(r.map(a=>a.memberId||a.customerEmail)).size,o=t>0?l/t:0;new Set(r.map(a=>a.cleanedProduct||a.paymentItem)).size;const b=r.reduce((a,i)=>{const n=i.paymentMethod||"Unknown";return a[n]||(a[n]={count:0,revenue:0}),a[n].count+=1,a[n].revenue+=i.paymentValue||0,a},{}),x=r.reduce((a,i)=>{const n=i.cleanedCategory||"Other";return a[n]||(a[n]={count:0,revenue:0,customers:new Set}),a[n].count+=1,a[n].revenue+=i.paymentValue||0,a[n].customers.add(i.memberId||i.customerEmail),a},{}),k=r.reduce((a,i)=>{if(!i.paymentDate)return a;const n=new Date(i.paymentDate),v=n.getHours(),y=n.toLocaleDateString("en-US",{weekday:"long"}),m=n.toLocaleDateString("en-US",{month:"long",year:"numeric"});return a.hourly[v]||(a.hourly[v]={transactions:0,revenue:0}),a.hourly[v].transactions+=1,a.hourly[v].revenue+=i.paymentValue||0,a.weekly[y]||(a.weekly[y]={transactions:0,revenue:0}),a.weekly[y].transactions+=1,a.weekly[y].revenue+=i.paymentValue||0,a.monthly[m]||(a.monthly[m]={transactions:0,revenue:0}),a.monthly[m].transactions+=1,a.monthly[m].revenue+=i.paymentValue||0,a},{hourly:{},weekly:{},monthly:{}}),g=r.reduce((a,i)=>{const n=i.memberId||i.customerEmail;if(!n)return a;a[n]||(a[n]={email:i.customerEmail||"N/A",transactions:0,totalSpent:0,avgTransactionValue:0,lastTransaction:null,categories:new Set}),a[n].transactions+=1,a[n].totalSpent+=i.paymentValue||0,a[n].categories.add(i.cleanedCategory||"Other");const v=new Date(i.paymentDate);return(!a[n].lastTransaction||v>new Date(a[n].lastTransaction))&&(a[n].lastTransaction=i.paymentDate),a},{});return Object.values(g).forEach(a=>{a.avgTransactionValue=a.transactions>0?a.totalSpent/a.transactions:0,a.categories=Array.from(a.categories)}),{...c,totalRevenue:l,totalTransactions:t,uniqueCustomers:s,avgTransactionValue:o,paymentMethodBreakdown:b,categoryBreakdown:x,timeAnalysis:k,customerAnalysis:g}},[c]),X=z.useMemo(()=>{const r=d.filteredTransactionData||d.rawData||[];if(!r.length)return[];const l=o=>{if(!o)return null;const b=o.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/);if(b){const[,k,g,a]=b;return new Date(parseInt(a),parseInt(g)-1,parseInt(k))}const x=new Date(o);return isNaN(x.getTime())?null:x},t=new Map;r.forEach(o=>{const b=o.memberId||o.customerEmail||"unknown";t.has(b)||t.set(b,[]),t.get(b).push(o)});const s=[];return t.forEach((o,b)=>{const x=o.map(m=>({...m,_date:l(m.paymentDate)})).filter(m=>!!m._date).sort((m,D)=>m._date.getTime()-D._date.getTime()),k=o.reduce((m,D)=>m+(D.paymentValue||0),0),g=o.length,a=o.filter(m=>(m.discountAmount||0)>0).length,i=o.reduce((m,D)=>m+(D.secMembershipUsedSessions||0),0);let n=0,v=0,y=0;if(x.length>1){const m=x[0]._date;v=(x[x.length-1]._date.getTime()-m.getTime())/(1e3*60*60*24),n=v/(x.length-1),y=(x[1]._date.getTime()-m.getTime())/(1e3*60*60*24)}s.push({memberId:b,email:o[0]?.customerEmail||"",transactions:g,totalSpent:k,avgSpend:g?k/g:0,discountedTx:a,percentDiscounted:g?a/g*100:0,usedSessions:i,avgSessionsPerTx:g?i/g:0,purchaseFrequencyDays:n,lifespanDays:v,daysToSecondPurchase:y,firstPurchase:x[0]?._date?x[0]._date.toISOString().slice(0,10):"",lastPurchase:x[x.length-1]?._date?x[x.length-1]._date.toISOString().slice(0,10):""})}),s.sort((o,b)=>b.totalSpent-o.totalSpent)},[d]),Y=async()=>{const r=(d.filteredTransactionData||d.rawData||[]).map(l=>({paymentDate:l.paymentDate,customerEmail:l.customerEmail,memberId:l.memberId,cleanedCategory:l.cleanedCategory,cleanedProduct:l.cleanedProduct||l.paymentItem,paymentValue:l.paymentValue,discountAmount:l.discountAmount,discountPercentage:l.discountPercentage,paymentMethod:l.paymentMethod,soldBy:l.soldBy,calculatedLocation:l.calculatedLocation}));await W({additionalData:{Transactions:r,"Per-Member Behavior Summary":X}},{format:"csv",fileName:`${(c.clickedItemName||"drilldown").toString().replace(/\s+/g,"-").toLowerCase()}-${new Date().toISOString().slice(0,10)}`})},O=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#F97316","#06B6D4","#84CC16"],Z=()=>{const r=c.clickedItemName||c.product||c.name||c.category;return p==="trainer"?`${r||"Trainer"} - Performance Analytics`:p==="product"?`${r||"Product"} - Sales Analytics`:p==="category"?`${r||"Category"} - Performance Analysis`:p==="soldBy"?`${r||"Sales Rep"} - Performance Analytics`:p==="paymentMethod"?`${r||"Payment Method"} - Analytics`:p==="metric"?"Sales Performance - Detailed Analytics":`${r||"Item"} - Comprehensive Analysis`},J=()=>c.contextDescription?`${c.contextDescription} â€¢ Data shows all historical records, independent of current filters`:`${p==="trainer"?"Performance insights and customer engagement metrics":p==="product"?"Comprehensive sales performance and customer behavior analysis":p==="category"?"Category performance breakdown with customer insights":p==="soldBy"?"Sales representative performance and transaction history":p==="paymentMethod"?"Payment method usage and transaction analysis":`Detailed analytics dashboard with ${d.totalTransactions} transactions and ${d.uniqueCustomers} customers`} â€¢ Showing all historical data, independent of current date/filter selections`,Q=()=>e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(h,{className:"bg-gradient-to-br from-slate-900 to-blue-950 text-white border-0 shadow-2xl hover:shadow-3xl transition-all duration-500 hover:scale-105 transform-gpu rounded-2xl overflow-hidden",children:e.jsx(u,{className:"p-5",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-300 mb-1",children:[e.jsx(L,{className:"w-4 h-4 animate-pulse"}),e.jsx("span",{className:"text-xs font-medium",children:"Total Revenue"})]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:j(d.totalRevenue)})]})})}),e.jsx(h,{className:"bg-white border-slate-200 shadow-md hover:shadow-xl transition-all duration-500 hover:scale-105 animate-in fade-in slide-in-from-bottom-4 delay-100",children:e.jsx(u,{className:"p-5",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-500 mb-1",children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Customers"})]}),e.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-slate-900 to-blue-950 bg-clip-text text-transparent",children:P(d.uniqueCustomers)})]})})}),e.jsx(h,{className:"bg-white border-slate-200 shadow-md hover:shadow-xl transition-all duration-500 hover:scale-105 animate-in fade-in slide-in-from-bottom-4 delay-200",children:e.jsx(u,{className:"p-5",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-500 mb-1",children:[e.jsx(_,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Transactions"})]}),e.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-slate-900 to-blue-950 bg-clip-text text-transparent",children:P(d.totalTransactions)})]})})}),e.jsx(h,{className:"bg-gradient-to-br from-slate-100 to-slate-200 border-slate-300 shadow-md hover:shadow-xl transition-all duration-500 hover:scale-105 animate-in fade-in slide-in-from-bottom-4 delay-300",children:e.jsx(u,{className:"p-5",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-600 mb-1",children:[e.jsx(C,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Avg Transaction"})]}),e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:j(d.avgTransactionValue)})]})})})]}),$=()=>{const r=Object.entries(d.timeAnalysis.hourly).map(([t,s])=>({hour:`${t}:00`,transactions:s.transactions,revenue:s.revenue})).sort((t,s)=>parseInt(t.hour)-parseInt(s.hour)),l=Object.entries(d.paymentMethodBreakdown).map(([t,s])=>({method:t,revenue:s.revenue,count:s.count})).sort((t,s)=>s.revenue-t.revenue);return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(h,{className:"bg-gradient-to-br from-slate-50 to-slate-100 border-slate-200 shadow-lg hover:shadow-2xl transition-all duration-500 animate-in fade-in slide-in-from-left",children:[e.jsx(w,{children:e.jsxs(N,{className:"flex items-center gap-2 text-slate-800",children:[e.jsx(ue,{className:"w-5 h-5"}),"Hourly Transaction Patterns"]})}),e.jsx(u,{children:e.jsx(U,{width:"100%",height:300,children:e.jsxs(be,{data:r,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"barGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#1e3a8a",stopOpacity:.9}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.6})]})}),e.jsx(ge,{strokeDasharray:"3 3",stroke:"#e2e8f0",opacity:.5}),e.jsx(pe,{dataKey:"hour",stroke:"#64748b",style:{fontSize:"12px"}}),e.jsx(fe,{stroke:"#64748b",style:{fontSize:"12px"}}),e.jsx(G,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #cbd5e1",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},formatter:(t,s)=>[s==="revenue"?j(t):P(t),s==="revenue"?"Revenue":"Transactions"]}),e.jsx(ve,{dataKey:"transactions",fill:"url(#barGradient)",name:"transactions",radius:[8,8,0,0],animationDuration:1500,animationBegin:0,isAnimationActive:!0})]})})})]}),e.jsxs(h,{className:"bg-gradient-to-br from-slate-50 to-slate-100 border-slate-200 shadow-lg hover:shadow-2xl transition-all duration-500 animate-in fade-in slide-in-from-right",children:[e.jsx(w,{children:e.jsxs(N,{className:"flex items-center gap-2 text-slate-800",children:[e.jsx(we,{className:"w-5 h-5"}),"Payment Method Distribution"]})}),e.jsx(u,{children:e.jsx(U,{width:"100%",height:300,children:e.jsxs(Ne,{children:[e.jsx("defs",{children:e.jsxs("filter",{id:"shadow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[e.jsx("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"3"}),e.jsx("feOffset",{dx:"2",dy:"2",result:"offsetblur"}),e.jsx("feComponentTransfer",{children:e.jsx("feFuncA",{type:"linear",slope:"0.3"})}),e.jsxs("feMerge",{children:[e.jsx("feMergeNode",{}),e.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),e.jsx(ye,{dataKey:"revenue",data:l,cx:"50%",cy:"50%",innerRadius:50,outerRadius:90,paddingAngle:3,label:({method:t,percent:s})=>`${t}: ${(s*100).toFixed(0)}%`,labelLine:!0,animationDuration:1500,animationBegin:0,isAnimationActive:!0,style:{filter:"url(#shadow)"},children:l.map((t,s)=>e.jsx(je,{fill:O[s%O.length],stroke:"#ffffff",strokeWidth:2},`cell-${s}`))}),e.jsx(G,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #cbd5e1",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},formatter:t=>j(t)})]})})})]})]})},ee=()=>{const r=Object.values(d.customerAnalysis).sort((t,s)=>s.totalSpent-t.totalSpent).slice(0,50),l=[{key:"email",header:"Customer",render:t=>e.jsx("div",{className:"font-medium text-slate-800 truncate max-w-[200px]",title:t,children:t})},{key:"transactions",header:"Transactions",align:"center",render:t=>e.jsx(f,{className:"bg-blue-100 text-blue-800",children:P(t)})},{key:"totalSpent",header:"Total Spent",align:"center",render:t=>e.jsx("span",{className:"font-semibold text-green-600",children:j(t)})},{key:"avgTransactionValue",header:"Avg Order Value",align:"center",render:t=>e.jsx("span",{className:"font-medium text-blue-700",children:j(t)})},{key:"categories",header:"Categories",align:"center",render:t=>e.jsxs("div",{className:"flex flex-wrap gap-1 max-w-[150px]",children:[t.slice(0,2).map((s,o)=>e.jsx(f,{variant:"outline",className:"text-xs",children:s.length>8?`${s.substring(0,8)}...`:s},o)),t.length>2&&e.jsxs(f,{variant:"outline",className:"text-xs",children:["+",t.length-2]})]})},{key:"lastTransaction",header:"Last Purchase",align:"center",render:t=>e.jsx("span",{className:"text-sm text-slate-600",children:t?new Date(t).toLocaleDateString():"N/A"})}];return e.jsxs(h,{className:"bg-gradient-to-br from-slate-50 to-slate-100",children:[e.jsx(w,{children:e.jsxs(N,{className:"flex items-center gap-2 text-slate-800",children:[e.jsx(S,{className:"w-5 h-5"}),"Top Customers Analysis",e.jsxs(f,{className:"bg-blue-100 text-blue-800 ml-auto",children:[r.length," customers"]})]})}),e.jsx(u,{className:"p-0",children:e.jsx(F,{data:r,columns:l,maxHeight:"400px",stickyHeader:!0,showFooter:!1})})]})},te=()=>{const r=(c.rawData||[]).slice(0,100),l=[{key:"paymentDate",header:"Date",render:t=>e.jsx("span",{className:"font-mono text-sm",children:t?new Date(t).toLocaleDateString():"N/A"})},{key:"customerEmail",header:"Customer",render:t=>e.jsx("div",{className:"font-medium text-slate-700 truncate max-w-[180px]",title:t,children:t||"Anonymous"})},{key:"cleanedProduct",header:"Product/Service",render:(t,s)=>e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-800 truncate max-w-[200px]",title:t,children:t||s.membershipName||"N/A"}),e.jsx("div",{className:"text-xs text-slate-500",children:s.cleanedCategory||"Uncategorized"})]})},{key:"paymentValue",header:"Amount",align:"center",render:(t,s)=>e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-green-600",children:j(t||0)}),s.discountAmount&&e.jsxs("div",{className:"text-xs text-red-500",children:["-",j(s.discountAmount)]})]})},{key:"paymentMethod",header:"Payment",align:"center",render:t=>e.jsx(f,{variant:"outline",className:"text-xs",children:t||"N/A"})},{key:"soldBy",header:"Sold By",render:t=>e.jsx("span",{className:"text-sm text-slate-600",children:t||"System"})}];return e.jsxs(h,{className:"bg-gradient-to-br from-slate-50 to-slate-100",children:[e.jsx(w,{children:e.jsxs(N,{className:"flex items-center gap-2 text-slate-800",children:[e.jsx(M,{className:"w-5 h-5"}),"Transaction Details",e.jsxs(f,{className:"bg-blue-100 text-blue-800 ml-auto",children:[r.length," transactions"]})]})}),e.jsx(u,{className:"p-0",children:e.jsx(F,{data:r,columns:l,maxHeight:"500px",stickyHeader:!0,showFooter:!1})})]})};return e.jsx(ae,{open:K,onOpenChange:I,children:e.jsxs(se,{className:"w-[85vw] max-w-[1200px] max-h-[85vh] overflow-hidden bg-gradient-to-br from-slate-50 via-white to-slate-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 border-0 shadow-2xl rounded-2xl",children:[e.jsxs(re,{className:"relative overflow-hidden bg-gradient-to-r from-blue-700 via-blue-800 to-blue-900 dark:from-blue-800 dark:via-blue-900 dark:to-blue-950 text-white p-6 -m-6 mb-6 rounded-t-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10 backdrop-blur-sm"}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -translate-y-16 translate-x-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/5 rounded-full translate-y-12 -translate-x-12"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-md border border-white/30 shadow-lg",children:e.jsx(C,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx(le,{className:"text-xl font-bold tracking-tight text-white mb-1",children:Z()}),e.jsx("p",{className:"text-blue-100 text-xs font-medium opacity-90",children:J()})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(V,{variant:"outline",size:"sm",className:"bg-white/10 border-white/30 text-white hover:bg-white/20 backdrop-blur-md transition-all duration-200 hover:scale-105 shadow-lg text-xs",onClick:Y,disabled:R,title:"Export transactions and per-member behavior summary",children:[e.jsx(de,{className:"w-3 h-3 mr-1"}),R?"Exporting...":"Export"]}),e.jsx(V,{variant:"ghost",size:"sm",onClick:I,className:"text-white hover:bg-white/20 backdrop-blur-md transition-all duration-200 hover:scale-105 w-8 h-8 p-0",children:"Ã—"})]})]})})]}),e.jsxs("div",{className:"overflow-y-auto px-6 py-1 space-y-6",style:{maxHeight:"calc(85vh - 120px)"},children:[e.jsxs("div",{className:"p-5 bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-100 mb-5 flex items-center gap-2 pb-3 border-b border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg flex items-center justify-center",children:e.jsx(C,{className:"w-3 h-3 text-white"})}),"Key Metrics"]}),Q()]}),e.jsxs(ne,{defaultValue:"overview",className:"w-full",children:[e.jsxs(ie,{className:"grid w-full grid-cols-5 bg-gradient-to-r from-slate-100 via-white to-slate-100 dark:from-slate-800 dark:via-slate-700 dark:to-slate-800 h-12 border border-slate-200 dark:border-slate-600 rounded-xl p-1 shadow-lg backdrop-blur-md",children:[e.jsxs(T,{value:"overview",className:"gap-1 font-medium text-xs data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-600 data-[state=active]:to-blue-800 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-blue-500/25 rounded-lg transition-all duration-300 data-[state=active]:scale-105",children:[e.jsx(me,{className:"w-3 h-3"}),"Overview"]}),e.jsxs(T,{value:"analytics",className:"gap-1 font-medium text-xs data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-600 data-[state=active]:to-blue-800 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-blue-500/25 rounded-lg transition-all duration-300 data-[state=active]:scale-105",children:[e.jsx(C,{className:"w-3 h-3"}),"Analytics"]}),e.jsxs(T,{value:"customers",className:"gap-1 font-medium text-xs data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-600 data-[state=active]:to-blue-800 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-blue-500/25 rounded-lg transition-all duration-300 data-[state=active]:scale-105",children:[e.jsx(S,{className:"w-3 h-3"}),"Customers"]}),e.jsxs(T,{value:"transactions",className:"gap-1 font-medium text-xs data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-600 data-[state=active]:to-blue-800 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-blue-500/25 rounded-lg transition-all duration-300 data-[state=active]:scale-105",children:[e.jsx(M,{className:"w-3 h-3"}),"Transactions"]}),e.jsxs(T,{value:"insights",className:"gap-1 font-medium text-xs data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-600 data-[state=active]:to-blue-800 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-blue-500/25 rounded-lg transition-all duration-300 data-[state=active]:scale-105",children:[e.jsx(H,{className:"w-3 h-3"}),"Insights"]})]}),e.jsx(A,{value:"overview",className:"mt-4",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"p-5 bg-gradient-to-br from-white via-slate-50 to-white dark:from-slate-800 dark:via-slate-900 dark:to-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-xl hover:shadow-2xl transition-all duration-500",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-100 mb-5 flex items-center gap-2 pb-3 border-b border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center shadow-lg",children:e.jsx(B,{className:"w-3 h-3 text-white"})}),"Analytics Overview"]}),$()]}),e.jsxs("div",{className:"p-5 bg-gradient-to-br from-white via-slate-50 to-white dark:from-slate-800 dark:via-slate-900 dark:to-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-xl hover:shadow-2xl transition-all duration-500",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-100 mb-5 flex items-center gap-2 pb-3 border-b border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-lg flex items-center justify-center shadow-lg",children:e.jsx(q,{className:"w-3 h-3 text-white"})}),"Performance Breakdown"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs(h,{className:"bg-gradient-to-br from-slate-900 via-blue-950 to-slate-900 text-white border-0 shadow-2xl hover:shadow-3xl transition-all duration-500 hover:scale-105 transform-gpu rounded-2xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),e.jsx(w,{className:"relative z-10",children:e.jsxs(N,{className:"text-white flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm border border-white/30",children:e.jsx(q,{className:"w-6 h-6 text-white"})}),"Performance Summary"]})}),e.jsxs(u,{className:"space-y-4 relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/10 rounded-xl backdrop-blur-md border border-white/20 hover:bg-white/20 transition-all duration-300 hover:scale-105",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4 text-white"}),e.jsx("span",{className:"text-slate-100 font-medium",children:"Revenue Growth"})]}),e.jsxs(f,{className:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/30 backdrop-blur-sm",children:["+",(d.totalRevenue/1e6*1.5).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/10 rounded-xl backdrop-blur-md border border-white/20 hover:bg-white/20 transition-all duration-300 hover:scale-105",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"w-4 h-4 text-white"}),e.jsx("span",{className:"text-slate-100 font-medium",children:"Customer Retention"})]}),e.jsxs(f,{className:"bg-blue-500/20 text-blue-200 border border-blue-400/30 backdrop-blur-sm",children:[(d.uniqueCustomers/d.totalTransactions*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/10 rounded-xl backdrop-blur-md border border-white/20 hover:bg-white/20 transition-all duration-300 hover:scale-105",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4 text-white"}),e.jsx("span",{className:"text-slate-100 font-medium",children:"Market Share"})]}),e.jsxs(f,{className:"bg-purple-500/20 text-purple-200 border border-purple-400/30 backdrop-blur-sm",children:[(d.totalRevenue/1e7*100).toFixed(1),"%"]})]})]})]}),e.jsxs(h,{className:"bg-white border-2 border-slate-200 shadow-lg hover:shadow-2xl transition-all duration-500 hover:scale-105 animate-in fade-in zoom-in delay-100",children:[e.jsx(w,{children:e.jsxs(N,{className:"text-slate-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-slate-900 to-blue-950 rounded-lg",children:e.jsx(E,{className:"w-6 h-6 text-white"})}),"Key Metrics"]})}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 rounded-xl border border-slate-200 hover:bg-slate-100 transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"w-4 h-4 text-slate-600"}),e.jsx("span",{className:"text-slate-700 font-medium",children:"Conversion Rate"})]}),e.jsxs("span",{className:"font-bold text-slate-900 bg-slate-200 px-3 py-1 rounded-full",children:[(d.totalTransactions/(d.uniqueCustomers*2)*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 rounded-xl border border-slate-200 hover:bg-slate-100 transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"w-4 h-4 text-slate-600"}),e.jsx("span",{className:"text-slate-700 font-medium",children:"Customer LTV"})]}),e.jsx("span",{className:"font-bold text-slate-900 bg-slate-200 px-3 py-1 rounded-full",children:j(d.avgTransactionValue*3.5)})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 rounded-xl border border-slate-200 hover:bg-slate-100 transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"w-4 h-4 text-slate-600"}),e.jsx("span",{className:"text-slate-700 font-medium",children:"Repeat Rate"})]}),e.jsxs("span",{className:"font-bold text-slate-900 bg-slate-200 px-3 py-1 rounded-full",children:[(d.uniqueCustomers/d.totalTransactions*150).toFixed(1),"%"]})]})]})]}),e.jsxs(h,{className:"bg-gradient-to-br from-white via-purple-50 to-white dark:from-purple-900/20 dark:via-slate-800 dark:to-purple-900/20 border border-purple-200 dark:border-purple-700 shadow-xl hover:shadow-2xl transition-all duration-500 hover:scale-105 rounded-2xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-100/30 to-transparent dark:from-purple-800/30"}),e.jsx(w,{className:"relative z-10",children:e.jsxs(N,{className:"text-purple-800 dark:text-purple-200 flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-purple-700 rounded-xl shadow-lg",children:e.jsx(ce,{className:"w-6 h-6 text-white"})}),"Category Breakdown"]})}),e.jsx(u,{className:"space-y-4 relative z-10",children:Object.entries(d.categoryBreakdown).slice(0,3).map(([r,l],t)=>{const s=[{bg:"bg-emerald-100 dark:bg-emerald-900/30",text:"text-emerald-800 dark:text-emerald-200",icon:"text-emerald-500"},{bg:"bg-blue-100 dark:bg-blue-900/30",text:"text-blue-800 dark:text-blue-200",icon:"text-blue-500"},{bg:"bg-purple-100 dark:bg-purple-900/30",text:"text-purple-800 dark:text-purple-200",icon:"text-purple-500"}],o=s[t]||s[0];return e.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/80 dark:bg-slate-800/80 rounded-xl border border-purple-200 dark:border-purple-700 hover:bg-white dark:hover:bg-slate-700 transition-all duration-300 hover:scale-105 shadow-sm group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 ${o.bg} rounded-lg flex items-center justify-center`,children:e.jsx(_,{className:`w-4 h-4 ${o.icon}`})}),e.jsx("span",{className:"text-slate-700 dark:text-slate-300 font-medium truncate",children:r})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`font-bold ${o.text} ${o.bg} px-3 py-2 rounded-full text-sm shadow-sm`,children:j(l.revenue)}),e.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[l.count," sales"]})]})]},r)})})]})]})]})]})}),e.jsx(A,{value:"analytics",className:"mt-4",children:e.jsxs("div",{className:"p-5 bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-blue-900/20 dark:via-slate-800 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-800 rounded-xl shadow-xl hover:shadow-2xl transition-all duration-500",children:[e.jsxs("h3",{className:"text-xl font-bold text-blue-800 dark:text-blue-200 mb-8 flex items-center gap-3 pb-4 border-b border-blue-200 dark:border-blue-700",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center shadow-lg",children:e.jsx(C,{className:"w-4 h-4 text-white"})}),"Detailed Analytics"]}),$()]})}),e.jsx(A,{value:"customers",className:"mt-4",children:e.jsxs("div",{className:"p-5 bg-gradient-to-br from-emerald-50 via-white to-green-50 dark:from-emerald-900/20 dark:via-slate-800 dark:to-green-900/20 border border-emerald-200 dark:border-emerald-800 rounded-xl shadow-xl hover:shadow-2xl transition-all duration-500",children:[e.jsxs("h3",{className:"text-xl font-bold text-emerald-800 dark:text-emerald-200 mb-8 flex items-center gap-3 pb-4 border-b border-emerald-200 dark:border-emerald-700",children:[e.jsx("div",{className:"w-8 h-8 bg-emerald-500 rounded-lg flex items-center justify-center shadow-lg",children:e.jsx(S,{className:"w-4 h-4 text-white"})}),"Customer Analysis"]}),ee()]})}),e.jsx(A,{value:"transactions",className:"mt-4",children:e.jsxs("div",{className:"p-5 bg-gradient-to-br from-slate-50 via-white to-slate-50 dark:from-slate-800 dark:via-slate-900 dark:to-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-xl hover:shadow-2xl transition-all duration-500",children:[e.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 mb-8 flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-lg flex items-center justify-center shadow-lg",children:e.jsx(M,{className:"w-4 h-4 text-white"})}),"Transaction Details"]}),te()]})}),e.jsx(A,{value:"insights",className:"mt-4",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs(h,{className:"bg-gradient-to-br from-purple-50 via-white to-indigo-50 dark:from-purple-900/20 dark:via-slate-800 dark:to-indigo-900/20 border border-purple-200 dark:border-purple-800 shadow-2xl hover:shadow-3xl transition-all duration-500 rounded-2xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-100/30 to-transparent dark:from-purple-800/30"}),e.jsx(w,{className:"relative z-10",children:e.jsxs(N,{className:"text-purple-800 dark:text-purple-200 flex items-center gap-3 text-xl",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(H,{className:"w-5 h-5 text-white"})}),"AI-Powered Insights",e.jsx(f,{className:"bg-gradient-to-r from-purple-500 to-indigo-600 text-white border-0 ml-auto",children:"Smart Analytics"})]})}),e.jsxs(u,{className:"space-y-6 relative z-10",children:[e.jsxs("div",{className:"p-6 bg-white/80 dark:bg-slate-800/80 rounded-xl border-l-4 border-emerald-500 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg flex items-center justify-center",children:e.jsx(B,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),e.jsx("div",{className:"font-bold text-emerald-800 dark:text-emerald-200 text-lg",children:"Revenue Optimization"})]}),e.jsx("div",{className:"text-slate-600 dark:text-slate-300 font-medium",children:"Peak sales occur between 6-8 PM. Consider targeted promotions during this window to maximize revenue potential."})]}),e.jsxs("div",{className:"p-6 bg-white/80 dark:bg-slate-800/80 rounded-xl border-l-4 border-blue-500 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:e.jsx(S,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),e.jsx("div",{className:"font-bold text-blue-800 dark:text-blue-200 text-lg",children:"Customer Behavior"})]}),e.jsx("div",{className:"text-slate-600 dark:text-slate-300 font-medium",children:"High-value customers prefer premium services. Multiple upselling opportunities have been detected."})]}),e.jsxs("div",{className:"p-6 bg-white/80 dark:bg-slate-800/80 rounded-xl border-l-4 border-purple-500 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center",children:e.jsx(E,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),e.jsx("div",{className:"font-bold text-purple-800 dark:text-purple-200 text-lg",children:"Strategic Recommendations"})]}),e.jsx("div",{className:"text-slate-600 dark:text-slate-300 font-medium",children:"Increasing demand for digital payments detected. Mobile optimization and contactless solutions are strongly recommended."})]})]})]}),e.jsxs(h,{className:"bg-gradient-to-br from-orange-50 via-white to-red-50 dark:from-orange-900/20 dark:via-slate-800 dark:to-red-900/20 border border-orange-200 dark:border-orange-800 shadow-2xl hover:shadow-3xl transition-all duration-500 rounded-2xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-100/30 to-transparent dark:from-orange-800/30"}),e.jsx(w,{className:"relative z-10",children:e.jsxs(N,{className:"text-orange-800 dark:text-orange-200 flex items-center gap-3 text-xl",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-red-500 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(he,{className:"w-5 h-5 text-white"})}),"Strategic Recommendations",e.jsx(f,{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white border-0 ml-auto",children:"Action Plan"})]})}),e.jsxs(u,{className:"space-y-6 relative z-10",children:[e.jsxs("div",{className:"p-6 bg-white/80 dark:bg-slate-800/80 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"ðŸŽ¯"})}),e.jsx("div",{className:"font-bold text-emerald-800 dark:text-emerald-200 text-lg",children:"Immediate Actions"})]}),e.jsxs("ul",{className:"text-slate-600 dark:text-slate-300 space-y-2 ml-4",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Optimize pricing strategy for peak hours (6-8 PM)"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Launch premium loyalty program for high-value customers"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Enhance mobile payment experience and user interface"]})]})]}),e.jsxs("div",{className:"p-6 bg-white/80 dark:bg-slate-800/80 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"ðŸ“ˆ"})}),e.jsx("div",{className:"font-bold text-blue-800 dark:text-blue-200 text-lg",children:"Long-term Strategy"})]}),e.jsxs("ul",{className:"text-slate-600 dark:text-slate-300 space-y-2 ml-4",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Expand investment in high-performing categories and services"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Develop comprehensive customer retention and engagement programs"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Implement advanced predictive analytics and AI-driven insights"]})]})]})]})]})]})})]})]})]})})};export{Ye as default};
//# sourceMappingURL=EnhancedSalesDrillDownModal-D1CsRuw2.js.map
